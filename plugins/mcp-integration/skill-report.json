{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T17:49:08.606Z",
    "slug": "mcp-integration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/mcp-integration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "462ca4e0d091de348d548cf274d5ff9efadbce929b7de9a9fe71f3f74b6d4297",
    "tree_hash": "e9bc8fe2aa7ae8f868e37c53b3880d30e6f2a983a4c4364b015880c774f0efab"
  },
  "skill": {
    "name": "MCP Integration",
    "description": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in plugin\", \"use .mcp.json\", \"set up Model Context Protocol\", \"connect external service\", mentions \"${CLAUDE_PLUGIN_ROOT} with MCP\", or discusses MCP server types (SSE, stdio, HTTP, WebSocket). Provides comprehensive guidance for integrating Model Context Protocol servers into Claude Code plugins for external tool and service integration.",
    "summary": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "unknown",
    "license": "NOASSERTION",
    "category": "devops",
    "tags": [
      "mcp",
      "claude-code",
      "plugins",
      "integration",
      "tooling"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official skill source with configuration guidance and examples only. No executable code or unsafe behaviors are present. Minimal audit completed as required.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2242,
    "audit_model": "codex",
    "audited_at": "2025-12-31T17:49:08.605Z"
  },
  "content": {
    "user_title": "Configure MCP servers in your plugin",
    "value_statement": "You need a clear way to connect Claude Code plugins to external tools. This skill gives ready patterns for MCP server setup and authentication.",
    "seo_keywords": [
      "MCP integration",
      "Model Context Protocol",
      "Claude",
      "Codex",
      "Claude Code",
      "Claude Code plugin",
      "SSE MCP server",
      "stdio MCP server",
      "HTTP MCP server",
      "MCP configuration"
    ],
    "actual_capabilities": [
      "Explain how to configure MCP via .mcp.json or plugin.json mcpServers",
      "Provide working examples for stdio, SSE, HTTP, and WebSocket servers",
      "Describe OAuth, token, and header based authentication patterns",
      "Show environment variable expansion for paths and secrets",
      "Document MCP tool naming and discovery with /mcp"
    ],
    "limitations": [
      "Does not implement MCP servers or provide server binaries",
      "Requires valid external services and credentials to function",
      "Assumes Claude Code plugin environment and MCP support",
      "Cannot validate remote server availability or permissions"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developer",
        "title": "Add a local MCP server",
        "description": "Set up a stdio MCP server for local tools using npx or custom scripts."
      },
      {
        "target_user": "Ops engineer",
        "title": "Connect a hosted MCP service",
        "description": "Configure an SSE MCP endpoint with OAuth or custom headers."
      },
      {
        "target_user": "Product builder",
        "title": "Expose REST tools to Claude",
        "description": "Wire an HTTP MCP server with token headers and versioned APIs."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic .mcp.json setup",
        "scenario": "New plugin needs one MCP server",
        "prompt": "Create a minimal .mcp.json for a stdio MCP server using npx and a single allowed path."
      },
      {
        "title": "SSE OAuth setup",
        "scenario": "Hosted MCP service with OAuth",
        "prompt": "Show an SSE MCP config for a hosted service and explain OAuth handling and user prompts."
      },
      {
        "title": "HTTP token headers",
        "scenario": "REST MCP server with API token",
        "prompt": "Provide an HTTP MCP config that uses a bearer token from an environment variable."
      },
      {
        "title": "Tool usage in commands",
        "scenario": "Command needs MCP tools",
        "prompt": "Draft command frontmatter and steps that use two MCP tools with explicit allowed-tools."
      }
    ],
    "output_examples": [
      {
        "input": "Help me add an MCP server for a hosted API with token auth",
        "output": [
          "Recommend HTTP MCP type with the API URL",
          "Show headers with Authorization using ${API_TOKEN}",
          "Explain where to set the environment variable",
          "Note that tools will appear under the mcp__plugin prefix"
        ]
      }
    ],
    "best_practices": [
      "Use ${CLAUDE_PLUGIN_ROOT} for all plugin paths",
      "Prefer OAuth for SSE services when available",
      "Document required environment variables in the README"
    ],
    "anti_patterns": [
      "Hardcoding secrets directly in MCP config",
      "Using wildcard allowed-tools without need",
      "Running stdio servers that log to stdout"
    ],
    "faq": [
      {
        "question": "Which Claude tools support this skill?",
        "answer": "It is designed for Claude Code plugins that can load MCP server configs."
      },
      {
        "question": "What are the limits of MCP configuration here?",
        "answer": "It only provides configuration guidance, not server implementation or testing."
      },
      {
        "question": "How do I integrate it into my plugin?",
        "answer": "Add .mcp.json or mcpServers in plugin.json with the server definitions."
      },
      {
        "question": "Is my data safe with OAuth servers?",
        "answer": "OAuth tokens are stored by Claude Code and not exposed to the plugin."
      },
      {
        "question": "What if the MCP server will not connect?",
        "answer": "Check the URL, credentials, and Claude Code debug logs for errors."
      },
      {
        "question": "How does this compare to custom tool wiring?",
        "answer": "MCP provides standardized tool discovery and auth handling across services."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "http-server.json",
          "type": "file",
          "path": "examples/http-server.json"
        },
        {
          "name": "sse-server.json",
          "type": "file",
          "path": "examples/sse-server.json"
        },
        {
          "name": "stdio-server.json",
          "type": "file",
          "path": "examples/stdio-server.json"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "authentication.md",
          "type": "file",
          "path": "references/authentication.md"
        },
        {
          "name": "server-types.md",
          "type": "file",
          "path": "references/server-types.md"
        },
        {
          "name": "tool-usage.md",
          "type": "file",
          "path": "references/tool-usage.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
