{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T16:24:20.008Z",
    "slug": "mcp-integration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/mcp-integration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "462ca4e0d091de348d548cf274d5ff9efadbce929b7de9a9fe71f3f74b6d4297",
    "tree_hash": "f1319b882908d311a7a37d58de876553acb30b870bd70ac2870343e72645b39d"
  },
  "skill": {
    "name": "MCP Integration",
    "description": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in plugin\", \"use .mcp.json\", \"set up Model Context Protocol\", \"connect external service\", mentions \"${CLAUDE_PLUGIN_ROOT} with MCP\", or discusses MCP server types (SSE, stdio, HTTP, WebSocket). Provides comprehensive guidance for integrating Model Context Protocol servers into Claude Code plugins for external tool and service integration.",
    "summary": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "NOASSERTION",
    "category": "devops",
    "tags": [
      "mcp",
      "claude-code",
      "plugins",
      "integration",
      "tooling"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill providing MCP configuration guidance and examples only. Contains no executable code or unsafe behaviors. Network access patterns documented for SSE and HTTP server types as expected configuration.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "examples/sse-server.json",
            "line_start": 3,
            "line_end": 18
          },
          {
            "file": "examples/http-server.json",
            "line_start": 3,
            "line_end": 19
          },
          {
            "file": "references/server-types.md",
            "line_start": 102,
            "line_end": 203
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 10,
    "total_lines": 2242,
    "audit_model": "claude",
    "audited_at": "2026-01-04T16:24:20.007Z"
  },
  "content": {
    "user_title": "Configure MCP servers in your plugin",
    "value_statement": "You need a reliable way to connect Claude Code plugins to external tools and services. This skill provides ready-to-use patterns for MCP server setup, authentication, and tool discovery so you can integrate APIs and databases quickly.",
    "seo_keywords": [
      "MCP integration",
      "Model Context Protocol",
      "Claude Code MCP",
      "Claude Code plugin",
      "SSE MCP server",
      "stdio MCP server",
      "HTTP MCP server",
      "MCP configuration",
      "MCP authentication"
    ],
    "actual_capabilities": [
      "Explain how to configure MCP via .mcp.json or plugin.json mcpServers field",
      "Provide working examples for stdio, SSE, HTTP, and WebSocket server types",
      "Describe OAuth, token, and environment variable based authentication patterns",
      "Show environment variable expansion for paths and secrets using ${CLAUDE_PLUGIN_ROOT}",
      "Document MCP tool naming convention mcp__plugin_<name>_<server>__<tool>"
    ],
    "limitations": [
      "Does not implement or provide MCP server binaries",
      "Requires valid external services and credentials to function",
      "Assumes Claude Code plugin environment with MCP support",
      "Cannot validate remote server availability or user permissions"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Add a local MCP server",
        "description": "Set up a stdio MCP server for local tools using npx or custom scripts with environment variables."
      },
      {
        "target_user": "Ops engineers",
        "title": "Connect hosted MCP services",
        "description": "Configure SSE MCP endpoints with OAuth authentication for cloud services like Asana or GitHub."
      },
      {
        "target_user": "API builders",
        "title": "Expose REST tools to Claude",
        "description": "Wire HTTP MCP servers with bearer token headers for internal APIs and microservices."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic .mcp.json setup",
        "scenario": "New plugin needs one MCP server",
        "prompt": "Create a minimal .mcp.json for a stdio MCP server using npx that accesses a single allowed path."
      },
      {
        "title": "SSE OAuth setup",
        "scenario": "Hosted MCP service with OAuth",
        "prompt": "Show an SSE MCP config for a hosted service and explain how OAuth handling works with user prompts."
      },
      {
        "title": "HTTP token headers",
        "scenario": "REST MCP server with API token",
        "prompt": "Provide an HTTP MCP config that uses a bearer token from an environment variable and custom headers."
      },
      {
        "title": "Tool usage in commands",
        "scenario": "Command needs MCP tools",
        "prompt": "Draft command frontmatter and steps that use two MCP tools with explicit allowed-tools declaration."
      }
    ],
    "output_examples": [
      {
        "input": "Help me add an MCP server for a hosted API with token auth",
        "output": [
          "Use HTTP MCP type with your API URL",
          "Add headers with Authorization using ${API_TOKEN} for security",
          "Document where to set the environment variable in your README",
          "Tools will appear with prefix mcp__plugin_<plugin>_<server>__"
        ]
      }
    ],
    "best_practices": [
      "Use ${CLAUDE_PLUGIN_ROOT} for all plugin file paths to ensure portability",
      "Prefer OAuth for SSE services when available to avoid token management",
      "Pre-allow specific MCP tools in commands instead of using wildcards"
    ],
    "anti_patterns": [
      "Hardcoding secrets or API tokens directly in MCP configuration files",
      "Using wildcard allowed-tools without specific tool requirements",
      "Running stdio servers that write logs to stdout instead of stderr"
    ],
    "faq": [
      {
        "question": "Which platforms support MCP integration?",
        "answer": "MCP is designed for Claude Code plugins. It works with Claude Code and Codex when plugins are loaded."
      },
      {
        "question": "What are the limits of this skill?",
        "answer": "This skill provides configuration patterns only. It does not implement MCP servers or validate remote services."
      },
      {
        "question": "How do I integrate MCP into my plugin?",
        "answer": "Add a .mcp.json file or mcpServers field in plugin.json with your server definitions following the patterns shown."
      },
      {
        "question": "Is my data safe with OAuth servers?",
        "answer": "Yes. OAuth tokens are stored securely by Claude Code and are not exposed to plugins or configuration files."
      },
      {
        "question": "What if the MCP server will not connect?",
        "answer": "Check the URL, verify credentials are set, and run Claude Code with --debug to see connection logs and errors."
      },
      {
        "question": "How does MCP compare to custom tool wiring?",
        "answer": "MCP provides standardized tool discovery, authentication handling, and cross-service compatibility without custom code."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "http-server.json",
          "type": "file",
          "path": "examples/http-server.json"
        },
        {
          "name": "sse-server.json",
          "type": "file",
          "path": "examples/sse-server.json"
        },
        {
          "name": "stdio-server.json",
          "type": "file",
          "path": "examples/stdio-server.json"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "authentication.md",
          "type": "file",
          "path": "references/authentication.md"
        },
        {
          "name": "server-types.md",
          "type": "file",
          "path": "references/server-types.md"
        },
        {
          "name": "tool-usage.md",
          "type": "file",
          "path": "references/tool-usage.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
