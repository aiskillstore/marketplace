{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T01:17:34.671Z",
    "slug": "wshobson-sql-optimization-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/developer-essentials/skills/sql-optimization-patterns",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "sql-optimization-patterns",
    "description": "Master SQL query optimization, indexing strategies, and EXPLAIN analysis to dramatically improve database performance and eliminate slow queries. Use when debugging slow queries, designing database schemas, or optimizing application performance.",
    "summary": "Master SQL query optimization, indexing strategies, and EXPLAIN analysis to dramatically improve dat...",
    "icon": "âš¡",
    "version": "1.0.0",
    "license": "MIT",
    "category": "data",
    "tags": [
      "sql",
      "database-performance",
      "indexing",
      "query-optimization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill contains only instructional text and SQL examples. No executable code, network access, or sensitive file access patterns were found.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 493,
    "audit_model": "codex",
    "audited_at": "2026-01-02T01:17:34.671Z"
  },
  "content": {
    "user_title": "Optimize SQL queries with proven patterns",
    "value_statement": "Slow queries cause delays and high database costs. This skill provides clear optimization patterns and indexing guidance to improve performance.",
    "seo_keywords": [
      "SQL optimization",
      "query performance",
      "indexing strategies",
      "EXPLAIN analysis",
      "PostgreSQL tuning",
      "MySQL optimization",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Explain EXPLAIN plan metrics and scan types",
      "Recommend index types, composite, partial, and covering indexes",
      "Apply patterns for N plus 1 query elimination",
      "Improve pagination with cursor based queries",
      "Optimize aggregates, subqueries, and batch operations"
    ],
    "limitations": [
      "Does not run queries or measure actual performance",
      "Requires user provided schema and workload context",
      "Database specific tuning beyond examples may need manual adaptation"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Fix slow API queries",
        "description": "Diagnose slow endpoints and apply indexing and query rewrite patterns."
      },
      {
        "target_user": "Data engineer",
        "title": "Scale analytics workloads",
        "description": "Improve aggregates, batch operations, and partitioning strategies for large tables."
      },
      {
        "target_user": "DBA",
        "title": "Review query plans",
        "description": "Interpret EXPLAIN output and identify scan and join bottlenecks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Explain my slow query",
        "scenario": "Beginner tuning",
        "prompt": "Explain why this SQL query is slow and suggest one indexing fix and one rewrite approach."
      },
      {
        "title": "Index strategy review",
        "scenario": "Intermediate schema design",
        "prompt": "Review my table and query patterns and propose a minimal index set with reasons."
      },
      {
        "title": "Pagination optimization",
        "scenario": "Advanced performance",
        "prompt": "Convert my OFFSET pagination query to cursor based pagination and list required indexes."
      },
      {
        "title": "Complex plan analysis",
        "scenario": "Expert diagnosis",
        "prompt": "Analyze this EXPLAIN output and prioritize the top three changes to reduce execution time."
      }
    ],
    "output_examples": [
      {
        "input": "Optimize this query that joins users and orders and times out.",
        "output": [
          "Identify the join filter that causes a full scan",
          "Propose a composite index on user_id and created_at",
          "Rewrite the query to filter users before the join",
          "Suggest checking EXPLAIN ANALYZE after changes"
        ]
      }
    ],
    "best_practices": [
      "Share table schema, row counts, and query patterns",
      "Include EXPLAIN or EXPLAIN ANALYZE output when possible",
      "Apply changes incrementally and recheck performance"
    ],
    "anti_patterns": [
      "Creating many indexes without measuring write impact",
      "Using SELECT star in production queries",
      "Filtering with functions that block index use"
    ],
    "faq": [
      {
        "question": "What databases are supported?",
        "answer": "It focuses on SQL patterns and includes PostgreSQL and MySQL examples that you can adapt."
      },
      {
        "question": "What are the limits of the advice?",
        "answer": "It does not benchmark queries or access your database to confirm results."
      },
      {
        "question": "Can I integrate this with my workflow?",
        "answer": "Yes, use it in code review or performance triage with your query logs."
      },
      {
        "question": "Is my data safe?",
        "answer": "The skill does not request or transmit data and can work with redacted examples."
      },
      {
        "question": "What if the query is still slow?",
        "answer": "Provide EXPLAIN ANALYZE output and recent statistics for a deeper review."
      },
      {
        "question": "How does it compare to generic SQL advice?",
        "answer": "It emphasizes concrete EXPLAIN analysis and index selection patterns."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}