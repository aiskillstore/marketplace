{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T17:04:26.497Z",
    "slug": "wshobson-dbt-transformation-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/data-engineering/skills/dbt-transformation-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "bd1cfcd33c00f7f8acdd56548e632cd83edabb65f7d11d4addbc3630af7b3d98",
    "tree_hash": "166e3acc31a8454e6741a5b3824887a115ae7c72f5d276a86edfbfd3b243306a"
  },
  "skill": {
    "name": "dbt-transformation-patterns",
    "description": "Master dbt (data build tool) for analytics engineering with model organization, testing, documentation, and incremental strategies. Use when building data transformations, creating data models, or implementing analytics engineering best practices.",
    "summary": "Master dbt (data build tool) for analytics engineering with model organization, testing, documentati...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "data",
    "tags": [
      "dbt",
      "analytics-engineering",
      "data-modeling",
      "testing",
      "documentation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only SQL and YAML examples for dbt patterns. No executable code, network calls, file system access, or external command execution capabilities. Contains only static educational content about data build tool practices.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 834,
    "audit_model": "claude",
    "audited_at": "2026-01-04T17:04:26.497Z"
  },
  "content": {
    "user_title": "Build dbt models with proven patterns",
    "value_statement": "Building reliable dbt transformations can be slow without a clear structure. This skill provides layered model patterns, tests, and incremental strategies you can apply quickly.",
    "seo_keywords": [
      "dbt",
      "analytics engineering",
      "data modeling",
      "incremental models",
      "dbt testing",
      "dbt documentation",
      "Claude",
      "Codex",
      "Claude Code",
      "ELT"
    ],
    "actual_capabilities": [
      "Explain staging, intermediate, and marts layering with naming conventions",
      "Provide dbt project structure and dbt_project.yml examples",
      "Show incremental model configurations and merge, delete+insert strategies",
      "Define source, model, and test YAML patterns with unique and not_null checks",
      "Share reusable macro examples for DRY SQL code",
      "Provide dbt commands reference for run, test, and docs generation"
    ],
    "limitations": [
      "Does not run dbt commands or validate results in your warehouse",
      "Examples must be adapted to your specific warehouse and schema",
      "No guidance for adapter-specific SQL features beyond standard patterns",
      "Does not generate full project files automatically"
    ],
    "use_cases": [
      {
        "target_user": "Analytics engineer",
        "title": "Standardize model layers",
        "description": "Adopt staging, intermediate, and marts patterns with consistent naming and structure."
      },
      {
        "target_user": "Data lead",
        "title": "Improve data quality",
        "description": "Add source and model tests with clear documentation for governance."
      },
      {
        "target_user": "New dbt user",
        "title": "Start a dbt project",
        "description": "Set up dbt_project.yml and a clear folder layout for models."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start with layering",
        "scenario": "You are new to dbt model structure",
        "prompt": "Explain a simple staging, intermediate, and marts layout for my dbt project with naming examples."
      },
      {
        "title": "Add tests and docs",
        "scenario": "You need quality checks for key models",
        "prompt": "Draft YAML tests and documentation for a customer dimension and orders fact model."
      },
      {
        "title": "Plan incremental model",
        "scenario": "Large table needs incremental loads",
        "prompt": "Suggest an incremental model config for payments with a safe incremental filter."
      },
      {
        "title": "Refactor with macros",
        "scenario": "You want to reduce repeated SQL",
        "prompt": "Show a macro pattern to standardize currency conversion and schema naming in dbt."
      }
    ],
    "output_examples": [
      {
        "input": "Create a dbt structure for Stripe and Shopify data with staging and marts.",
        "output": [
          "Set up staging models for Stripe customers and payments with stg_ prefix",
          "Add an intermediate model to aggregate payments by customer using int_ prefix",
          "Create marts with dim_customers for dimensions and fct_orders for facts",
          "Add YAML tests for unique and not_null on primary keys",
          "Configure incremental processing for large payment tables"
        ]
      }
    ],
    "best_practices": [
      "Use a staging layer to clean sources once and reuse downstream",
      "Add not_null and unique tests for all primary keys",
      "Document models and columns as you build them"
    ],
    "anti_patterns": [
      "Skip staging and join raw data directly into marts",
      "Hardcode dates instead of using vars for configuration",
      "Repeat logic instead of extracting to reusable macros"
    ],
    "faq": [
      {
        "question": "Is this compatible with my dbt adapter?",
        "answer": "Yes for general patterns, but SQL examples may need adapter-specific changes."
      },
      {
        "question": "Are there limits on model size or count?",
        "answer": "No limits are enforced; performance depends on your warehouse and project design."
      },
      {
        "question": "Can I integrate this with existing dbt projects?",
        "answer": "Yes, apply the patterns to current models and update tests and docs incrementally."
      },
      {
        "question": "Does it access or store my data?",
        "answer": "No, it provides guidance only and does not execute dbt or read your data."
      },
      {
        "question": "What if incremental models produce duplicates?",
        "answer": "Review your unique_key and incremental filter and ensure updates are covered."
      },
      {
        "question": "How does this compare to dbt docs?",
        "answer": "It is a concise pattern guide focused on practical structure and examples."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
