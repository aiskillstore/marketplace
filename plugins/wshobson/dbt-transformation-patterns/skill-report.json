{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T00:10:02.006Z",
    "slug": "wshobson-dbt-transformation-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/data-engineering/skills/dbt-transformation-patterns",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "dbt-transformation-patterns",
    "description": "Master dbt (data build tool) for analytics engineering with model organization, testing, documentation, and incremental strategies. Use when building data transformations, creating data models, or implementing analytics engineering best practices.",
    "summary": "Master dbt (data build tool) for analytics engineering with model organization, testing, documentati...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "license": "MIT",
    "category": "data",
    "tags": [
      "dbt",
      "analytics-engineering",
      "data-modeling",
      "testing",
      "documentation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No data theft or malicious execution patterns detected. The skill contains static documentation and example SQL and YAML only.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 560,
    "audit_model": "codex",
    "audited_at": "2026-01-02T00:10:02.006Z"
  },
  "content": {
    "user_title": "Build dbt models with proven patterns",
    "value_statement": "Building reliable dbt transformations can be slow without a clear structure. This skill provides layered model patterns, tests, and incremental strategies you can apply quickly.",
    "seo_keywords": [
      "dbt",
      "analytics engineering",
      "data modeling",
      "incremental models",
      "dbt testing",
      "dbt documentation",
      "Claude",
      "Codex",
      "Claude Code",
      "ELT"
    ],
    "actual_capabilities": [
      "Explain staging, intermediate, and marts layering with naming conventions",
      "Provide dbt project structure and dbt_project.yml examples",
      "Show incremental model configurations and strategies",
      "Define source, model, and test YAML patterns",
      "Share reusable macro examples for DRY SQL"
    ],
    "limitations": [
      "Does not run dbt commands or validate results",
      "Examples must be adapted to your warehouse and schema",
      "No guidance for adapter-specific SQL features",
      "Does not generate full project files automatically"
    ],
    "use_cases": [
      {
        "target_user": "Analytics engineer",
        "title": "Standardize model layers",
        "description": "Adopt staging, intermediate, and marts patterns with consistent naming and structure."
      },
      {
        "target_user": "Data lead",
        "title": "Improve data quality",
        "description": "Add source and model tests with clear documentation for governance."
      },
      {
        "target_user": "New dbt user",
        "title": "Start a dbt project",
        "description": "Set up dbt_project.yml and a clear folder layout for models."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start with layering",
        "scenario": "You are new to dbt model structure",
        "prompt": "Explain a simple staging, intermediate, and marts layout for my dbt project with naming examples."
      },
      {
        "title": "Add tests and docs",
        "scenario": "You need quality checks for key models",
        "prompt": "Draft YAML tests and documentation for a customer dimension and orders fact model."
      },
      {
        "title": "Plan incremental model",
        "scenario": "Large table needs incremental loads",
        "prompt": "Suggest an incremental model config for payments with a safe incremental filter."
      },
      {
        "title": "Refactor with macros",
        "scenario": "You want to reduce repeated SQL",
        "prompt": "Show a macro pattern to standardize currency conversion and schema naming in dbt."
      }
    ],
    "output_examples": [
      {
        "input": "Create a dbt structure for Stripe and Shopify data with staging and marts.",
        "output": [
          "Set up staging models for Stripe customers and payments and Shopify orders",
          "Add an intermediate model to aggregate payments by customer",
          "Create marts for customer dimension and orders fact with clear naming"
        ]
      }
    ],
    "best_practices": [
      "Use a staging layer to clean sources once and reuse downstream",
      "Add not null and unique tests for primary keys",
      "Document models and columns as you build them"
    ],
    "anti_patterns": [
      "Skip staging and join raw data directly into marts",
      "Hardcode dates instead of using vars",
      "Repeat logic instead of using macros"
    ],
    "faq": [
      {
        "question": "Is this compatible with my dbt adapter?",
        "answer": "Yes for general patterns, but SQL examples may need adapter-specific changes."
      },
      {
        "question": "Are there limits on model size or count?",
        "answer": "No limits are enforced; performance depends on your warehouse and project design."
      },
      {
        "question": "Can I integrate this with existing dbt projects?",
        "answer": "Yes, apply the patterns to current models and update tests and docs incrementally."
      },
      {
        "question": "Does it access or store my data?",
        "answer": "No, it provides guidance only and does not execute dbt or read your data."
      },
      {
        "question": "What if incremental models produce duplicates?",
        "answer": "Review your unique_key and incremental filter and ensure updates are covered."
      },
      {
        "question": "How does this compare to dbt docs?",
        "answer": "It is a concise pattern guide focused on practical structure and examples."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}