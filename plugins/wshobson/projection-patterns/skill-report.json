{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T06:11:48.668Z",
    "slug": "wshobson-projection-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/backend-development/skills/projection-patterns",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "135da8d35a92b0dadba8d4af9bc96edfeec25198e21dc104eaf497ef9996ab93",
    "tree_hash": "c65dd3ef5a6c427538816b3b214fd811cadedc83b2163e00d0cb9c3d5a4f92ca"
  },
  "skill": {
    "name": "projection-patterns",
    "description": "Build read models and projections from event streams. Use when implementing CQRS read sides, building materialized views, or optimizing query performance in event-sourced systems.",
    "summary": "Build read models and projections from event streams. Use when implementing CQRS read sides, buildin...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "cqrs",
      "event-sourcing",
      "projections",
      "read-models"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill is a documentation-only guide with templates and diagrams and no executable scripts. No data access, network calls, or command execution are present. Risk is minimal.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 684,
    "audit_model": "codex",
    "audited_at": "2026-01-04T06:11:48.668Z"
  },
  "content": {
    "user_title": "Build projection read models from event streams",
    "value_statement": "Event streams are hard to query for fast reads and dashboards. This skill gives projection patterns and templates to build reliable read models.",
    "seo_keywords": [
      "projection patterns",
      "CQRS read model",
      "event sourcing",
      "materialized view",
      "read model design",
      "Claude",
      "Codex",
      "Claude Code",
      "projector templates"
    ],
    "actual_capabilities": [
      "Describe projection architecture and projection types",
      "Provide a basic projector loop with checkpoint handling",
      "Show an order summary projection with SQL updates",
      "Show an Elasticsearch projection for indexing",
      "Show a daily sales aggregate projection",
      "Show a multi table customer activity projection"
    ],
    "limitations": [
      "Does not run code or connect to an event store",
      "Does not include deployment or scaling automation",
      "Does not define data privacy or access control policy",
      "Examples are Python oriented and need adaptation"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "CQRS read model design",
        "description": "Plan a projection pipeline and read model tables for an event sourced service."
      },
      {
        "target_user": "Data engineer",
        "title": "Reporting aggregates",
        "description": "Create daily and monthly aggregates from order events for analytics."
      },
      {
        "target_user": "Search engineer",
        "title": "Search indexing plan",
        "description": "Project product events into a search index with update and delete handling."
      }
    ],
    "prompt_templates": [
      {
        "title": "Projection basics",
        "scenario": "New to event sourcing",
        "prompt": "Explain projection architecture and the main projection types with a short checklist of when to use each."
      },
      {
        "title": "Checkpointed projector",
        "scenario": "Service with replay needs",
        "prompt": "Draft a basic projector loop with checkpoint storage and a rebuild workflow."
      },
      {
        "title": "Order summary model",
        "scenario": "Ecommerce read model",
        "prompt": "Design a projection for OrderCreated and OrderItem events that updates a summary table with totals."
      },
      {
        "title": "Transactional multi table",
        "scenario": "Customer activity views",
        "prompt": "Propose a projection that updates customers, activity summary, and order history tables in one transaction."
      }
    ],
    "output_examples": [
      {
        "input": "Create a daily sales projection design with checkpoints and rebuild steps.",
        "output": [
          "Handle OrderCompleted and OrderRefunded events",
          "Store a checkpoint per projection name",
          "Use upsert to maintain daily aggregates",
          "Provide a rebuild flow that resets checkpoints and replays events"
        ]
      }
    ],
    "best_practices": [
      "Make projections idempotent to support replays",
      "Store checkpoints to resume after failures",
      "Use transactions for multi table updates"
    ],
    "anti_patterns": [
      "Coupling multiple projections into one handler",
      "Skipping ordering guarantees in event processing",
      "Ignoring error handling and observability"
    ],
    "faq": [
      {
        "question": "Is this compatible with Claude, Codex, and Claude Code?",
        "answer": "Yes, the guidance works in Claude, Codex, and Claude Code."
      },
      {
        "question": "What are the limits of this skill?",
        "answer": "It is a design guide and does not include a runnable event store."
      },
      {
        "question": "Can it integrate with my event store?",
        "answer": "Yes, adapt the projector interface to your event store read APIs."
      },
      {
        "question": "Does it access my data or secrets?",
        "answer": "No, it is documentation only and does not execute code."
      },
      {
        "question": "What if my projection lags behind?",
        "answer": "Monitor lag, adjust batch sizes, and scale processors as needed."
      },
      {
        "question": "How does it compare to a CQRS framework?",
        "answer": "It provides patterns and examples, while frameworks provide runtime components."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
