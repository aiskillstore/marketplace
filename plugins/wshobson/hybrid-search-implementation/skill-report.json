{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T16:30:51.804Z",
    "slug": "wshobson-hybrid-search-implementation",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/llm-application-dev/skills/hybrid-search-implementation",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c71cedb27c6a3c4624e848b8605709c19ff8610e6e13ebfd15620360bd1a8a2c",
    "tree_hash": "9444c1d576ec6ebbc328f96e1aad59f6af68b48f6d75f395a23d317804de9b37"
  },
  "skill": {
    "name": "hybrid-search-implementation",
    "description": "Combine vector and keyword search for improved retrieval. Use when implementing RAG systems, building search engines, or when neither approach alone provides sufficient recall.",
    "summary": "Combine vector and keyword search for improved retrieval. Use when implementing RAG systems, buildin...",
    "icon": "ðŸ”Ž",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "NOASSERTION",
    "category": "data",
    "tags": [
      "search",
      "rag",
      "retrieval",
      "ranking",
      "elasticsearch"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill with Python templates for hybrid search. Templates show database connections (PostgreSQL, Elasticsearch) which implies network access in user implementations. No credential access, file system writes, or command execution. Risk is limited to standard template patterns.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 246
          },
          {
            "file": "SKILL.md",
            "line_start": 248,
            "line_end": 397
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 807,
    "audit_model": "claude",
    "audited_at": "2026-01-04T16:30:51.804Z"
  },
  "content": {
    "user_title": "Build hybrid search with vector and keyword fusion",
    "value_statement": "Pure vector or keyword search often misses important results. This skill provides proven fusion patterns to improve recall in RAG systems and search applications.",
    "seo_keywords": [
      "hybrid search",
      "vector search",
      "keyword search",
      "RRF",
      "RAG",
      "pgvector",
      "Elasticsearch",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Explain hybrid search architecture and fusion methods",
      "Provide Python templates for RRF and linear fusion algorithms",
      "Show PostgreSQL pgvector and full-text hybrid query patterns",
      "Show Elasticsearch hybrid query with dense vector and BM25",
      "Outline a complete hybrid RAG pipeline with optional reranking"
    ],
    "limitations": [
      "No deployment or infrastructure scripts included",
      "Requires existing vector and keyword stores to use",
      "Examples are templates that need schema adaptation",
      "Reranking models require external API access"
    ],
    "use_cases": [
      {
        "target_user": "RAG engineer",
        "title": "Improve retrieval recall",
        "description": "Combine semantic and keyword search to reduce misses on exact terms and names."
      },
      {
        "target_user": "Search developer",
        "title": "Add hybrid ranking",
        "description": "Integrate RRF or linear fusion into an existing search stack with PostgreSQL or Elasticsearch."
      },
      {
        "target_user": "Data platform team",
        "title": "Prototype hybrid search",
        "description": "Evaluate hybrid retrieval patterns using pgvector or Elasticsearch before production deployment."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start with RRF",
        "scenario": "Beginner hybrid fusion",
        "prompt": "Explain Reciprocal Rank Fusion and provide a small Python function that fuses two ranked result lists."
      },
      {
        "title": "Postgres hybrid query",
        "scenario": "Intermediate database setup",
        "prompt": "Draft a pgvector plus full-text hybrid query with RRF scoring and metadata filters for PostgreSQL."
      },
      {
        "title": "Elasticsearch hybrid",
        "scenario": "Intermediate search stack",
        "prompt": "Show an Elasticsearch hybrid query combining dense vector similarity and BM25 with adjustable boost weights."
      },
      {
        "title": "RAG pipeline design",
        "scenario": "Advanced end-to-end",
        "prompt": "Design a complete hybrid RAG pipeline with parallel vector and keyword searches, fusion, and optional cross-encoder reranking."
      }
    ],
    "output_examples": [
      {
        "input": "Create a hybrid search plan for my product catalog",
        "output": [
          "Run vector and keyword searches in parallel against product embeddings and descriptions",
          "Fuse results using RRF with configurable weights based on query type",
          "Rerank top candidates with a cross-encoder for quality improvement",
          "Log both vector and keyword scores to evaluate fusion effectiveness",
          "Adjust weights based on test query performance"
        ]
      }
    ],
    "best_practices": [
      "Tune fusion weights on your real query logs and ground truth data",
      "Use RRF when you need simple, stable fusion without parameter tuning",
      "Limit reranking to a candidate window of 50-100 items to control latency"
    ],
    "anti_patterns": [
      "Skipping keyword search when users search for exact product codes or names",
      "Fetching very large candidate sets which increases latency without improving recall",
      "Ignoring edge cases like empty results or single-word query behavior"
    ],
    "faq": [
      {
        "question": "Is this skill compatible with Claude, Codex, and Claude Code?",
        "answer": "Yes. It is a documentation skill with Python examples that work across all Claude Code platforms."
      },
      {
        "question": "What are the limits of the provided templates?",
        "answer": "Templates are reference implementations that need adaptation to your specific data schema and ranking requirements."
      },
      {
        "question": "How do I integrate this with my existing vector store?",
        "answer": "Replace the search method calls in the pipeline template with your vector store client methods and return matching fields."
      },
      {
        "question": "Does this skill access or send my data to external services?",
        "answer": "No. The skill is static documentation and does not execute code or transmit any data."
      },
      {
        "question": "What should I check if hybrid search returns empty results?",
        "answer": "Verify index health, check tokenization settings, review filter conditions, and try lowering score thresholds."
      },
      {
        "question": "How does hybrid search compare to pure vector search?",
        "answer": "Hybrid search improves recall for exact term matches while maintaining semantic relevance from vector search."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
