{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-03T02:25:21.218Z",
    "slug": "wshobson-database-migration",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/framework-migration/skills/database-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "database-migration",
    "description": "Execute database migrations across ORMs and platforms with zero-downtime strategies, data transformation, and rollback procedures. Use when migrating databases, changing schemas, performing data transformations, or implementing zero-downtime deployment strategies.",
    "summary": "Execute database migrations across ORMs and platforms with zero-downtime strategies, data transforma...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "data",
    "tags": [
      "database",
      "migration",
      "orm",
      "schema",
      "rollbacks"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No credential access, environment harvesting, or network exfiltration patterns were found. The content is instructional examples for migrations and rollbacks only.",
    "risk_factors": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 619,
    "audit_model": "codex",
    "audited_at": "2026-01-03T02:25:21.218Z"
  },
  "content": {
    "user_title": "Plan safe database migrations with rollbacks",
    "value_statement": "Database migrations can risk downtime and data loss. This skill provides clear steps for schema changes, data transforms, and rollback planning.",
    "seo_keywords": [
      "database migration",
      "schema change",
      "rollback strategy",
      "zero downtime",
      "Sequelize migration",
      "TypeORM migration",
      "Prisma migration",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Provide Sequelize migration examples with up and down steps",
      "Provide TypeORM migration patterns with QueryRunner and Table",
      "Provide Prisma schema migration guidance and commands",
      "Describe zero downtime phased migration steps",
      "Outline rollback strategies with transactions and checkpoints",
      "Show data transformation patterns with backfill steps"
    ],
    "limitations": [
      "Does not run migrations or connect to databases",
      "Examples require adaptation to your schema and tooling",
      "Limited to Sequelize, TypeORM, and Prisma examples",
      "No automated testing or verification"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Zero downtime rollout",
        "description": "Plan phased migrations that keep the application available during schema changes."
      },
      {
        "target_user": "Data engineer",
        "title": "Safe data transform",
        "description": "Design backfills and column refactors with rollback options."
      },
      {
        "target_user": "Startup team",
        "title": "ORM switch plan",
        "description": "Compare migration steps when moving between ORM frameworks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Add column safely",
        "scenario": "Beginner schema change",
        "prompt": "Create a safe Sequelize migration to add a non null status column with a default and include rollback steps."
      },
      {
        "title": "Rename with backfill",
        "scenario": "Production rename",
        "prompt": "Outline a zero downtime process to rename users.name to users.full_name with backfill and cleanup steps."
      },
      {
        "title": "Cross database JSON",
        "scenario": "MySQL and PostgreSQL",
        "prompt": "Show a migration approach that handles JSON types for MySQL and PostgreSQL in Sequelize."
      },
      {
        "title": "Checkpoint rollback",
        "scenario": "Advanced data split",
        "prompt": "Design a checkpoint based rollback strategy for splitting an address field into street, city, and state."
      }
    ],
    "output_examples": [
      {
        "input": "Provide a zero downtime plan to rename users.name to users.full_name",
        "output": [
          "Add the new full_name column and keep the old column",
          "Backfill full_name from name in batches",
          "Deploy code that writes to both columns",
          "Switch reads to full_name after verification",
          "Remove the old name column in a later migration"
        ]
      }
    ],
    "best_practices": [
      "Provide a rollback step for every migration",
      "Test migrations on staging before production",
      "Use small, incremental schema changes"
    ],
    "anti_patterns": [
      "Dropping columns before backfilling data",
      "Running large migrations without a rollback plan",
      "Ignoring null and constraint impacts"
    ],
    "faq": [
      {
        "question": "Which ORMs are supported?",
        "answer": "The skill includes examples for Sequelize, TypeORM, and Prisma."
      },
      {
        "question": "Are there limits on migration size?",
        "answer": "It recommends small, incremental changes but does not enforce limits."
      },
      {
        "question": "Can I integrate this with CI workflows?",
        "answer": "Yes, the guidance can be used to design migration steps in CI."
      },
      {
        "question": "Does it access my data or secrets?",
        "answer": "No, it is static guidance with no data access or exfiltration."
      },
      {
        "question": "What if a migration fails mid run?",
        "answer": "Use the rollback patterns and transaction examples to recover safely."
      },
      {
        "question": "How does it compare to a migration tool?",
        "answer": "It provides patterns and templates, not automated execution."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
