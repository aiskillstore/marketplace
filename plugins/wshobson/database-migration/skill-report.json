{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T00:09:16.377Z",
    "slug": "wshobson-database-migration",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/framework-migration/skills/database-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "d9eb12ac5d5035dff2957cfd2c18729bf0c6f59dd2366e0874fb196d57df0d11",
    "tree_hash": "b075311e6f9643bf00dea7228e82c5ecebc907004f681c5f05fcaa1aaee73adc"
  },
  "skill": {
    "name": "database-migration",
    "description": "Execute database migrations across ORMs and platforms with zero-downtime strategies, data transformation, and rollback procedures. Use when migrating databases, changing schemas, performing data transformations, or implementing zero-downtime deployment strategies.",
    "summary": "Execute database migrations across ORMs and platforms with zero-downtime strategies, data transforma...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "license": "MIT",
    "category": "data",
    "tags": [
      "database",
      "migration",
      "orm",
      "schema",
      "rollbacks"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No credential access, environment harvesting, or network exfiltration patterns were found. The content is instructional examples for migrations and rollbacks only.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 424,
    "audit_model": "codex",
    "audited_at": "2026-01-02T00:09:16.377Z"
  },
  "content": {
    "user_title": "Plan database migrations with rollback safety",
    "value_statement": "Database migrations can break production if they are rushed. This skill provides proven patterns for safe schema changes, data transforms, and rollbacks.",
    "seo_keywords": [
      "database migration",
      "schema change",
      "rollback strategy",
      "zero downtime",
      "Sequelize migration",
      "TypeORM migration",
      "Prisma migration",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Provide Sequelize migration examples with up and down steps",
      "Provide TypeORM migration patterns with QueryRunner and Table",
      "Provide Prisma schema migration guidance and commands",
      "Describe zero downtime phased migration steps",
      "Outline rollback strategies with transactions and checkpoints"
    ],
    "limitations": [
      "Does not execute migrations or validate results in a live database",
      "Examples are templates and require adaptation to your schema",
      "No coverage for every ORM or database vendor"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Zero downtime rollout",
        "description": "Plan phased migrations that keep the application available during schema changes."
      },
      {
        "target_user": "Data engineer",
        "title": "Data transformation",
        "description": "Design safe data backfills and column refactors with rollback options."
      },
      {
        "target_user": "Startup team",
        "title": "ORM switch",
        "description": "Compare migration steps when moving between ORM frameworks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic migration plan",
        "scenario": "Add a new column safely",
        "prompt": "Create a safe migration plan to add a non null status column with a default in Sequelize and include rollback guidance."
      },
      {
        "title": "Rename with zero downtime",
        "scenario": "Rename a column in production",
        "prompt": "Outline a zero downtime process to rename users.name to users.full_name with backfill and cleanup steps."
      },
      {
        "title": "Cross database change",
        "scenario": "Handle MySQL and PostgreSQL",
        "prompt": "Show a migration approach that handles JSON types for MySQL and PostgreSQL in Sequelize."
      },
      {
        "title": "Advanced rollback strategy",
        "scenario": "Risky data transform",
        "prompt": "Design a checkpoint based rollback strategy for a data migration that splits an address field into parts."
      }
    ],
    "output_examples": [
      {
        "input": "Provide a zero downtime plan to rename users.name to users.full_name",
        "output": [
          "Add the new full_name column and keep the old column",
          "Backfill full_name from name in batches",
          "Deploy code that writes to both columns",
          "Switch reads to full_name after verification",
          "Remove the old name column in a later migration"
        ]
      }
    ],
    "best_practices": [
      "Provide a rollback step for every migration",
      "Test migrations on staging before production",
      "Use small, incremental schema changes"
    ],
    "anti_patterns": [
      "Dropping columns before backfilling data",
      "Running large migrations without a rollback plan",
      "Ignoring null and constraint impacts"
    ],
    "faq": [
      {
        "question": "Which ORMs are supported?",
        "answer": "The skill includes examples for Sequelize, TypeORM, and Prisma."
      },
      {
        "question": "Are there size limits for migrations?",
        "answer": "The skill does not enforce limits, but it recommends small, incremental changes."
      },
      {
        "question": "Can I integrate this with CI pipelines?",
        "answer": "Yes, the guidance can be used to design migration steps in CI workflows."
      },
      {
        "question": "Does it access my database or secrets?",
        "answer": "No, the content is static guidance with no data access or exfiltration."
      },
      {
        "question": "What if a migration fails mid run?",
        "answer": "Use the rollback patterns and transaction examples to recover safely."
      },
      {
        "question": "How does it compare to a migration tool?",
        "answer": "It provides patterns and templates, not automated execution or tooling."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
