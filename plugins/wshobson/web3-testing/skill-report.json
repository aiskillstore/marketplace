{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-05T17:10:05.269Z",
    "slug": "wshobson-web3-testing",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/blockchain-web3/skills/web3-testing",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "d4275e764db8b9a09aa96acca0aaaebd53e0bfdef924884a2c1aa843b9d95809",
    "tree_hash": "14aab743c407893fa37c5a4b0ad43f4d1d9c437b23240ca2d441614fa2f7304f"
  },
  "skill": {
    "name": "web3-testing",
    "description": "Test smart contracts comprehensively using Hardhat and Foundry with unit tests, integration tests, and mainnet forking. Use when testing Solidity contracts, setting up blockchain test suites, or validating DeFi protocols.",
    "summary": "Test smart contracts comprehensively using Hardhat and Foundry with unit tests, integration tests, a...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "web3",
      "testing",
      "smart-contracts",
      "hardhat",
      "foundry"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a prompt-based documentation skill containing only guidance, examples, and best practices for smart contract testing. The skill has no executable code and does not access files, networks, or execute commands. References to environment variables in example configurations are standard patterns for user projects.",
    "risk_factor_evidence": [
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 42,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 244,
            "line_end": 256
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 521,
    "audit_model": "claude",
    "audited_at": "2026-01-05T17:10:05.269Z"
  },
  "content": {
    "user_title": "Test smart contracts with Hardhat",
    "value_statement": "Writing comprehensive tests for smart contracts is complex and time-consuming. This skill provides ready-to-use patterns for unit tests, integration tests, fuzzing, gas optimization, and mainnet forking using Hardhat and Foundry.",
    "seo_keywords": [
      "web3 testing skill",
      "smart contract testing",
      "Hardhat testing",
      "Foundry Forge testing",
      "Solidity unit tests",
      "DeFi protocol testing",
      "mainnet forking tests",
      "gas optimization testing",
      "fuzzing Solidity",
      "Claude Code web3"
    ],
    "actual_capabilities": [
      "Write unit tests for Solidity smart contracts using Hardhat and Chai assertions",
      "Create integration test suites with multiple contract interactions",
      "Perform gas optimization testing to reduce transaction costs",
      "Implement fuzz testing with Foundry to discover edge cases",
      "Fork mainnet environments to test against live DeFi protocols",
      "Configure test coverage reporting and Etherscan contract verification"
    ],
    "limitations": [
      "Does not execute tests directly - provides patterns and guidance for users",
      "Requires users to have Hardhat or Foundry installed in their projects",
      "Does not provide deployment or mainnet interaction capabilities"
    ],
    "use_cases": [
      {
        "target_user": "Blockchain Developers",
        "title": "Set up test suites",
        "description": "Create comprehensive test suites for Solidity contracts using Hardhat and Foundry patterns."
      },
      {
        "target_user": "DeFi Protocol Teams",
        "title": "Validate DeFi integrations",
        "description": "Test smart contracts against mainnet forks of existing DeFi protocols like Uniswap."
      },
      {
        "target_user": "Security Auditors",
        "title": "Fuzz contract logic",
        "description": "Use Foundry fuzzing to discover edge cases and potential vulnerabilities in smart contracts."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Unit Test",
        "scenario": "Create a simple token test",
        "prompt": "Write a Hardhat unit test for an ERC20 token contract that tests deployment, transfers, and approval events."
      },
      {
        "title": "Integration Test",
        "scenario": "Test contract interactions",
        "prompt": "Create an integration test for a staking contract that tests deposit, claim rewards, and withdrawal flows using Hardhat."
      },
      {
        "title": "Mainnet Fork",
        "scenario": "Test against live protocols",
        "prompt": "Write a test that forks Ethereum mainnet and tests Uniswap V2 swap functionality with a fork of the DAI token."
      },
      {
        "title": "Gas Optimization",
        "scenario": "Compare implementations",
        "prompt": "Create a gas comparison test between two different implementations of the same smart contract function using Hardhat gas reporter."
      }
    ],
    "output_examples": [
      {
        "input": "Write a Hardhat unit test for an ERC20 token contract",
        "output": [
          "Deployment test: Verifies owner assignment and total supply",
          "Transfer test: Confirms token transfers between accounts",
          "Event test: Checks Transfer and Approval event emissions",
          "Balance test: Validates balance changes after transfers",
          "Time test: Tests time-locked token release functionality"
        ]
      }
    ],
    "best_practices": [
      "Use fixtures to avoid code duplication across multiple test cases",
      "Aim for at least 90% test coverage on critical contract functions",
      "Test edge cases like zero addresses, maximum values, and reentrancy scenarios"
    ],
    "anti_patterns": [
      "Avoid testing multiple unrelated scenarios in a single test function",
      "Do not use mainnet forking in all tests - reserve for integration scenarios",
      "Avoid hardcoding private keys or secrets in test files"
    ],
    "faq": [
      {
        "question": "What testing frameworks are supported?",
        "answer": "Hardhat with Chai/Ethers.js and Foundry with Forge are both supported with complete examples."
      },
      {
        "question": "What is the maximum test coverage recommended?",
        "answer": "Aim for 90% or higher coverage on critical contracts. Use npx hardhat coverage to generate reports."
      },
      {
        "question": "Can this skill interact with mainnet directly?",
        "answer": "No. The skill provides patterns for mainnet forking but users configure their own RPC endpoints and keys."
      },
      {
        "question": "Is my private key data safe?",
        "answer": "Yes. The skill only provides example patterns. Users add their own keys to environment variables in their projects."
      },
      {
        "question": "Why are my tests failing with timeout errors?",
        "answer": "Increase Hardhat timeout in hardhat.config.js or break large tests into smaller functions with fewer assertions."
      },
      {
        "question": "How is Foundry different from Hardhat?",
        "answer": "Foundry uses Solidity for tests and runs faster with built-in fuzzing. Hardhat uses JavaScript with more flexibility for complex integrations."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
