{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T00:38:55.589Z",
    "slug": "wshobson-linkerd-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/cloud-infrastructure/skills/linkerd-patterns",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "linkerd-patterns",
    "description": "Implement Linkerd service mesh patterns for lightweight, security-focused service mesh deployments. Use when setting up Linkerd, configuring traffic policies, or implementing zero-trust networking with minimal overhead.",
    "summary": "Implement Linkerd service mesh patterns for lightweight, security-focused service mesh deployments. ...",
    "icon": "üï∏Ô∏è",
    "version": "unknown",
    "author": "unknown",
    "license": "unknown",
    "category": "devops",
    "tags": [
      "kubernetes",
      "service-mesh",
      "linkerd",
      "security",
      "traffic-management"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "critical",
    "is_blocked": true,
    "safe_to_publish": false,
    "summary": "The skill includes a download and execute pattern that can run remote code. This meets the critical risk criteria for payload download and execution.",
    "critical_findings": [
      {
        "title": "Download and execute via curl pipe to sh",
        "description": "The installation template uses a remote script piped to a shell, which can execute untrusted code. Evidence: `curl --proto '=https' --tlsv1.2 -sSfL https://run.linkerd.io/install | sh`.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 58
          }
        ]
      }
    ],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [
      {
        "title": "curl or wget pipe to shell execution",
        "description": "Remote script piped directly to shell can execute arbitrary code",
        "locations": []
      }
    ],
    "files_scanned": 1,
    "total_lines": 309,
    "audit_model": "codex",
    "audited_at": "2026-01-02T00:38:55.589Z"
  },
  "content": {
    "user_title": "Implement Linkerd service mesh patterns",
    "value_statement": "You need a lightweight service mesh with secure defaults and clear traffic controls. This skill provides ready patterns and templates for Linkerd setup and policy design.",
    "seo_keywords": [
      "Linkerd patterns",
      "Kubernetes service mesh",
      "mTLS policies",
      "traffic split",
      "service profiles",
      "Linkerd CLI",
      "Claude",
      "Codex",
      "Claude Code",
      "zero trust networking"
    ],
    "actual_capabilities": [
      "Provide Linkerd mesh installation steps",
      "Show namespace and deployment injection templates",
      "Define ServiceProfile retries and timeouts",
      "Configure TrafficSplit for canary rollout",
      "Set Server and ServerAuthorization policies",
      "Outline multicluster setup and checks"
    ],
    "limitations": [
      "Does not run commands or apply manifests",
      "Requires a Kubernetes cluster and Linkerd CLI",
      "Examples are generic and need project-specific values",
      "Does not include Helm chart guidance"
    ],
    "use_cases": [
      {
        "target_user": "Platform engineer",
        "title": "Mesh baseline setup",
        "description": "Get installation steps and validation commands for a new Linkerd control plane."
      },
      {
        "target_user": "SRE",
        "title": "Canary traffic control",
        "description": "Define TrafficSplit resources for staged rollouts and A B tests."
      },
      {
        "target_user": "Security engineer",
        "title": "Zero trust policy",
        "description": "Create Server and ServerAuthorization resources for mTLS access control."
      }
    ],
    "prompt_templates": [
      {
        "title": "Install checklist",
        "scenario": "New cluster setup",
        "prompt": "Provide the Linkerd install steps and the validation commands for a fresh Kubernetes cluster."
      },
      {
        "title": "Injection config",
        "scenario": "Enable mesh for one app",
        "prompt": "Show how to enable Linkerd proxy injection for a namespace and a single deployment."
      },
      {
        "title": "Retry profile",
        "scenario": "API reliability",
        "prompt": "Create a ServiceProfile with retries, timeout, and retry budget for GET and POST /api/users."
      },
      {
        "title": "Advanced routing",
        "scenario": "Versioned API routing",
        "prompt": "Provide an HTTPRoute example that routes /api/v2 to v2 and /api to v1."
      }
    ],
    "output_examples": [
      {
        "input": "Set up a 90 10 canary split for my-service",
        "output": [
          "Create a TrafficSplit named my-service-canary in the target namespace",
          "Set backends to my-service-stable at 900m and my-service-canary at 100m",
          "Apply the manifest and verify traffic distribution with linkerd viz"
        ]
      }
    ],
    "best_practices": [
      "Run linkerd check before and after changes",
      "Use ServiceProfiles for retries and timeouts",
      "Set retry budgets to prevent retry storms"
    ],
    "anti_patterns": [
      "Piping remote install scripts directly to sh in production",
      "Skipping timeouts for critical routes",
      "Overriding defaults without monitoring impact"
    ],
    "faq": [
      {
        "question": "What platforms are supported?",
        "answer": "Works with Kubernetes clusters that support Linkerd and its CRDs."
      },
      {
        "question": "Are there limits on resource size?",
        "answer": "Templates are examples and may need tuning for large clusters."
      },
      {
        "question": "Can I integrate with CI pipelines?",
        "answer": "Yes, you can apply manifests and run checks in CI workflows."
      },
      {
        "question": "Does it access my data?",
        "answer": "No, it only provides templates and commands you choose to run."
      },
      {
        "question": "How do I troubleshoot failures?",
        "answer": "Use linkerd check, proxy logs, and viz commands to locate issues."
      },
      {
        "question": "How does it compare to Istio?",
        "answer": "It focuses on a lightweight mesh with simpler defaults and fewer components."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}