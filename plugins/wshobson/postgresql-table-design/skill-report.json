{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T00:53:43.391Z",
    "slug": "wshobson-postgresql-table-design",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/database-design/skills/postgresql",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "b2761ed21c1a29940787c0f72356dbae5e1eca0062c00c46259e4a6b188de1a4",
    "tree_hash": "f868eea9c363b1afafcc494d3459d0938d6198b2ffab0c0226318c27241a30a0"
  },
  "skill": {
    "name": "postgresql-table-design",
    "description": "Design a PostgreSQL-specific schema. Covers best-practices, data types, indexing, constraints, performance patterns, and advanced features",
    "summary": "Design a PostgreSQL-specific schema. Covers best-practices, data types, indexing, constraints, perfo...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "license": "MIT",
    "category": "data",
    "tags": [
      "postgresql",
      "database-design",
      "schema",
      "indexing",
      "constraints"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Only a single Markdown skill file was found and reviewed. No code execution, network access, or sensitive file access patterns are present.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 204,
    "audit_model": "codex",
    "audited_at": "2026-01-02T00:53:43.391Z"
  },
  "content": {
    "user_title": "Design PostgreSQL tables with best practices",
    "value_statement": "You need a PostgreSQL schema that is correct, fast, and maintainable. This skill gives clear guidance on types, constraints, indexes, and patterns.",
    "seo_keywords": [
      "PostgreSQL schema",
      "database design",
      "indexing strategy",
      "constraints",
      "data types",
      "JSONB",
      "partitioning",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Recommend PostgreSQL data types for columns and IDs",
      "Suggest primary key and identity strategies",
      "Propose indexes for queries and foreign keys",
      "Advise on constraints and NULL handling",
      "Outline partitioning choices and limits",
      "Guide JSONB and full text search indexing"
    ],
    "limitations": [
      "Does not run SQL or connect to databases",
      "Does not benchmark or profile query performance",
      "Requires you to describe workloads and query patterns",
      "Does not generate migration files automatically"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Design new service schema",
        "description": "Create a normalized schema with correct types, constraints, and indexes."
      },
      {
        "target_user": "Data analyst",
        "title": "Harden reporting tables",
        "description": "Choose indexes and partitions for large analytical tables."
      },
      {
        "target_user": "Startup founder",
        "title": "Review MVP database design",
        "description": "Validate early schema decisions and avoid common PostgreSQL mistakes."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic table design",
        "scenario": "Create a users table",
        "prompt": "Design a PostgreSQL users table with required fields, keys, and indexes. Include data types and constraints."
      },
      {
        "title": "Ecommerce orders",
        "scenario": "Orders and line items",
        "prompt": "Design orders and order_items tables for an ecommerce app. Include keys, foreign keys, and indexing guidance."
      },
      {
        "title": "Time series logs",
        "scenario": "High volume events",
        "prompt": "Design a time series event table for 500 million rows per year. Include partitioning and index strategy."
      },
      {
        "title": "JSONB profile data",
        "scenario": "Flexible attributes",
        "prompt": "Design a user_profiles table using JSONB for optional attributes. Include indexes and constraints."
      }
    ],
    "output_examples": [
      {
        "input": "Design a PostgreSQL orders schema for a SaaS product with billing status and timestamps.",
        "output": [
          "Orders table with BIGINT identity primary key",
          "Status column as TEXT with CHECK constraint",
          "TIMESTAMPTZ columns with defaults",
          "Index on customer_id and created_at",
          "Foreign key to customers with explicit index"
        ]
      }
    ],
    "best_practices": [
      "State your query patterns and update frequency",
      "Ask for index suggestions tied to real filters",
      "Review NULL handling and default values early"
    ],
    "anti_patterns": [
      "Using VARCHAR or CHAR without a clear need",
      "Skipping indexes on foreign key columns",
      "Using TIMESTAMP without time zone"
    ],
    "faq": [
      {
        "question": "Is this compatible with PostgreSQL 12 and newer?",
        "answer": "Yes, it targets modern PostgreSQL features and calls out version specific items like NULLS NOT DISTINCT."
      },
      {
        "question": "What are the limits of the guidance?",
        "answer": "It does not inspect your database or run performance tests."
      },
      {
        "question": "Can I integrate this with Claude or Codex?",
        "answer": "Yes, you can use it as a prompt guide in Claude, Codex, or Claude Code."
      },
      {
        "question": "Does it access my data or files?",
        "answer": "No, it only provides design guidance based on your prompts."
      },
      {
        "question": "What if the recommendations do not fit my workload?",
        "answer": "Provide your query patterns and volume details for more tailored advice."
      },
      {
        "question": "How does it compare to generic SQL advice?",
        "answer": "It is specific to PostgreSQL data types, indexing, and platform behavior."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
