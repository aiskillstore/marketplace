{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-06T01:22:47.191Z",
    "slug": "metabase-clojure-write",
    "source_url": "https://github.com/metabase/metabase/tree/master/.claude/skills/clojure-write",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "2ab7b479a9c3b1e402ad176a42b5672b0b2b7cfed5bdb06998ec149709c6c867",
    "tree_hash": "aafdbd18ff3dda10a6fd87449cd1412b728430d0c85bd8847a13fe384d9a6f55"
  },
  "skill": {
    "name": "clojure-write",
    "description": "Guide Clojure and ClojureScript development using REPL-driven workflow, coding conventions, and best practices. Use when writing, developing, or refactoring Clojure/ClojureScript code.",
    "summary": "Guide Clojure and ClojureScript development using REPL-driven workflow, coding conventions, and best...",
    "icon": "Î»",
    "version": "1.0.0",
    "author": "metabase",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "clojure",
      "clojurescript",
      "repl",
      "functional-programming",
      "metabase"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only development guidelines and best practices for Clojure/ClojureScript. No executable code, scripts, network calls, or file system operations beyond reading its own documentation files.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 320,
    "audit_model": "claude",
    "audited_at": "2026-01-06T01:22:47.191Z"
  },
  "content": {
    "user_title": "Write Clojure with REPL-Driven Development",
    "value_statement": "Writing Clojure code without proper conventions leads to inconsistent, hard-to-maintain codebases. This skill provides structured guidance on REPL-driven workflows, coding standards, and Metabase-specific patterns for productive Clojure development.",
    "seo_keywords": [
      "clojure development",
      "clojurescript",
      "repl-driven development",
      "functional programming",
      "metabase",
      "clojure code review",
      "clojure style guide",
      "claude code",
      "claude",
      "codex"
    ],
    "actual_capabilities": [
      "Guide REPL-driven development workflow for incremental Clojure coding",
      "Provide Metabase Clojure coding conventions and style standards",
      "Reference common development commands like linting, testing, and formatting",
      "Explain functional programming principles specific to Clojure",
      "Define REST API patterns and Malli schema requirements for Metabase",
      "Document naming conventions and code organization for Clojure projects"
    ],
    "limitations": [
      "Does not execute Clojure code or run REPL sessions directly",
      "Does not modify files or create new Clojure functions",
      "Does not integrate with external Clojure build tools beyond referenced commands",
      "Specific to Metabase codebase conventions, not general Clojure projects"
    ],
    "use_cases": [
      {
        "target_user": "Clojure Developers",
        "title": "Learn REPL Workflow",
        "description": "Master incremental Clojure development starting with small functions and building complexity step by step"
      },
      {
        "target_user": "Metabase Contributors",
        "title": "Follow Code Standards",
        "description": "Apply Metabase-specific naming conventions, module structure, and REST API patterns correctly"
      },
      {
        "target_user": "Code Reviewers",
        "title": "Validate Clojure Changes",
        "description": "Check that code adheres to style guide including naming, documentation, and test requirements"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Clojure Task",
        "scenario": "Write a simple Clojure function",
        "prompt": "Write a pure Clojure function named [name] that [description]. Follow the REPL-driven workflow: start with a small function, test it in the REPL, then integrate into the source file. Use kebab-case naming and include a docstring."
      },
      {
        "title": "Add REST Endpoint",
        "scenario": "Create a new API endpoint",
        "prompt": "Create a new REST API endpoint for [feature] in the [module] namespace. Include proper Malli schemas for parameters, response schema validation, and corresponding tests. Follow Metabase naming conventions."
      },
      {
        "title": "Refactor Code",
        "scenario": "Improve existing Clojure code",
        "prompt": "Refactor [function/namespace] to follow functional programming principles. Break into smaller composable functions, ensure immutability, and add proper docstrings. Verify with check-readable after changes."
      },
      {
        "title": "Full Module Feature",
        "scenario": "Implement a complete feature",
        "prompt": "Implement a complete [feature] for the [module] following autonomous development workflow: add failing tests first, then implement using REPL-driven iteration, run linting, and ensure all code meets Metabase style guide requirements."
      }
    ],
    "output_examples": [
      {
        "input": "Write a function that calculates the average of a collection of numbers",
        "output": [
          "Start with the core function in the REPL",
          "Define: (defn average [coll] (/ (reduce + coll) (count coll)))",
          "Test with typical inputs and edge cases (empty collection, nil, etc.)",
          "Add docstring: \"Calculate the arithmetic mean of a numeric collection\"",
          "Move to source file with proper namespace declaration",
          "Run check-readable to verify formatting"
        ]
      }
    ],
    "best_practices": [
      "Start with small, testable functions and build complexity incrementally through REPL experimentation",
      "Always run check-readable after any Clojure code changes to verify formatting",
      "Follow Metabase naming conventions: kebab-case, functions end with ! for side effects, nouns for pure functions"
    ],
    "anti_patterns": [
      "Don't skip REPL testing - always verify functions work before integrating into source code",
      "Don't repeat namespace aliases in function names (use count, not collection/count)",
      "Don't leave blank lines within definition forms except for pairwise let/cond blocks"
    ],
    "faq": [
      {
        "question": "Which Clojure tools does this skill support?",
        "answer": "Works with clojure-mcp tools like clojure_eval and clojure_edit for direct REPL integration. Falls back to ./bin/mage commands when MCP tools are unavailable."
      },
      {
        "question": "What Clojure versions are supported?",
        "answer": "Designed for Clojure and ClojureScript development. Metabase uses modern Clojure with preference for Lib and MBQL 5 in new code."
      },
      {
        "question": "How does it integrate with existing workflows?",
        "answer": "Provides guidance only. Commands referenced (./bin/mage) must be run by the user or through their configured tools. No automatic execution."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "This is a read-only guidance skill. It provides documentation and examples without accessing files, network, or executing code on your system."
      },
      {
        "question": "Why is the code not running as expected?",
        "answer": "This skill provides guidance, not execution. Ensure ./bin/mage commands are valid in your Metabase environment and MCP tools are properly configured if used."
      },
      {
        "question": "How does this compare to general Clojure skills?",
        "answer": "This skill is specific to Metabase's codebase conventions, module structure, and REST API patterns. Use general Clojure skills for language fundamentals."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
