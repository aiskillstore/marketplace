{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-09T04:03:34.112Z",
    "slug": "metabase-clojure-review",
    "source_url": "https://github.com/metabase/metabase/tree/master/.claude/skills/clojure-review/",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "dd5793e7e43d209a36ab1c4ff60d8f44ac9581e65e09d0f7f4d0132333c094c4",
    "tree_hash": "c2e049a159e17d4f58cd0105d884bcb524f3ac33ff7e12be7f051cdc96b925d4"
  },
  "skill": {
    "name": "clojure-review",
    "description": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style violations, and code quality issues. Use when reviewing pull requests or diffs containing Clojure/ClojureScript code.",
    "summary": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style v...",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "metabase",
    "license": "UNLICENSE",
    "category": "coding",
    "tags": [
      "clojure",
      "code-review",
      "style-guide",
      "quality-assurance",
      "linter"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only review guidelines and style guides. No executable code, no network access, no file writes. All allowed tools (Read, Grep, Bash, Glob) are standard and appropriate for code review tasks.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 386,
    "audit_model": "claude",
    "audited_at": "2026-01-09T04:03:34.112Z"
  },
  "content": {
    "user_title": "Review Clojure code for standards compliance",
    "value_statement": "Code reviews require checking against multiple style guidelines and conventions. This skill provides comprehensive checklists, pattern matching tables, and feedback examples for reviewing Clojure and ClojureScript pull requests efficiently.",
    "seo_keywords": [
      "clojure code review",
      "clojurescript review",
      "metabase coding standards",
      "style guide enforcement",
      "code quality review",
      "claude code review",
      "claude clojure",
      "codex clojure",
      "linter guidelines"
    ],
    "actual_capabilities": [
      "Check Clojure code against Metabase style guide conventions",
      "Verify naming patterns (kebab-case, pure function naming, side-effect markers)",
      "Review REST API endpoint conventions and Malli schemas",
      "Validate test organization and naming conventions",
      "Check module structure and namespace patterns",
      "Identify documentation and TODO comment format issues"
    ],
    "limitations": [
      "Does not execute code or run linters directly",
      "Limited to Metabase-specific conventions",
      "Cannot modify files or apply fixes automatically"
    ],
    "use_cases": [
      {
        "target_user": "Clojure developers",
        "title": "PR code review",
        "description": "Review pull requests for Clojure/ClojureScript code style violations"
      },
      {
        "target_user": "QA engineers",
        "title": "Standards compliance",
        "description": "Ensure new code follows Metabase Clojure coding conventions"
      },
      {
        "target_user": "Technical leads",
        "title": "Code quality checks",
        "description": "Validate code organization and naming patterns in submitted changes"
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick style check",
        "scenario": "Basic PR review",
        "prompt": "Review the changed Clojure files for Metabase style guide compliance. Check naming conventions, documentation, and code organization."
      },
      {
        "title": "API review",
        "scenario": "REST endpoint changes",
        "prompt": "Review the new or modified API endpoints. Verify response schemas, parameter naming (kebab-case), and Malli schema completeness."
      },
      {
        "title": "Test review",
        "scenario": "Test file changes",
        "prompt": "Check the test file changes. Verify test naming (-test suffix), pure test parallel marking, and proper test separation."
      },
      {
        "title": "Full review",
        "scenario": "Comprehensive review",
        "prompt": "Do a complete review using the quick review checklist. Check naming, documentation, organization, tests, modules, REST API, MBQL, database patterns, and drivers."
      }
    ],
    "output_examples": [
      {
        "input": "Review this Clojure function for style compliance",
        "output": [
          "‚Ä¢ Function `calculate-user-age` should be named `user-age` (pure function, noun for return value)",
          "‚Ä¢ Function `save-model!` is correctly named (side effect marked with !)",
          "‚Ä¢ Public var missing docstring - add documentation explaining purpose and inputs",
          "‚Ä¢ Line 45 exceeds 120 character limit",
          "‚Ä¢ Missing author/date in TODO comment - use format: `;; TODO (Name 1/1/25) -- description`"
        ]
      }
    ],
    "best_practices": [
      "Run the quick review checklist first for efficient scanning of changes",
      "Use the pattern matching table to quickly identify common issues",
      "Reference the clojure-style-guide.md for detailed conventions"
    ],
    "anti_patterns": [
      "Posting congratulations for trivial changes or correct style following",
      "Flagging missing parentheses (caught by linter)",
      "Skipping the style guide check when a local CLOJURE_STYLE_GUIDE.adoc exists"
    ],
    "faq": [
      {
        "question": "Which Clojure tools are supported?",
        "answer": "Works with Claude, Codex, and Claude Code. Uses standard tools: Read, Grep, Bash, and Glob."
      },
      {
        "question": "What code conventions does it check?",
        "answer": "Metabase style guide including naming, documentation, REST API, MBQL, database patterns, and driver conventions."
      },
      {
        "question": "Can it run linters automatically?",
        "answer": "No. This skill provides guidelines for manual review. Use ./bin/mage kondo commands separately for linting."
      },
      {
        "question": "Is my code data safe?",
        "answer": "Yes. This is a read-only skill with no network access. It only reads files you explicitly provide access to."
      },
      {
        "question": "What if my project has its own style guide?",
        "answer": "If CLOJURE_STYLE_GUIDE.adoc exists in your working directory, the skill will also check compliance with it."
      },
      {
        "question": "Does it modify files?",
        "answer": "No. This skill only reviews and flags issues. It cannot apply fixes or modify any code files."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
