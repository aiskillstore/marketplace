{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T12:16:27.081Z",
    "slug": "payload",
    "owner": "payloadcms",
    "source_url": "https://github.com/payloadcms/payload/tree/main/tools/claude-plugin/skills/payload/",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "payload",
    "description": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access control, Payload API). Use when debugging validation errors, security issues, relationship queries, transactions, or hook behavior.",
    "summary": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access co...",
    "icon": "ðŸ§©",
    "version": "1.0.0",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "payload",
      "cms",
      "nextjs",
      "typescript",
      "access-control"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No credential access, environment harvesting, or exfiltration patterns were found. Content is documentation and examples aligned with Payload CMS usage.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 6636,
    "audit_model": "codex",
    "audited_at": "2025-12-31T12:16:27.080Z"
  },
  "content": {
    "user_title": "Build Payload CMS apps with safe patterns",
    "value_statement": "You need reliable guidance for Payload CMS configuration and security. This skill provides proven patterns for access control, hooks, queries, and plugins.",
    "seo_keywords": [
      "Payload CMS",
      "Next.js",
      "TypeScript",
      "access control",
      "hooks",
      "queries",
      "plugins",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Explain collection and field configuration patterns",
      "Guide access control logic including overrideAccess usage",
      "Provide hook and transaction safety patterns",
      "Outline query operators for Local, REST, and GraphQL",
      "Describe plugin architecture and extension patterns"
    ],
    "limitations": [
      "Does not run or test code in your project",
      "Does not access your database or production data",
      "Does not provide runtime logs or stack traces",
      "Does not replace official Payload documentation"
    ],
    "use_cases": [
      {
        "target_user": "Backend developer",
        "title": "Harden access control",
        "description": "Define role and row level access logic without bypassing permissions."
      },
      {
        "target_user": "Full stack developer",
        "title": "Build content schema",
        "description": "Design collections, fields, and hooks for a new Payload site."
      },
      {
        "target_user": "Plugin author",
        "title": "Design plugin patterns",
        "description": "Structure plugins, endpoints, and UI extensions safely."
      }
    ],
    "prompt_templates": [
      {
        "title": "Set up a collection",
        "scenario": "New Posts collection with author and draft",
        "prompt": "Create a Payload collection config for posts with title, slug, author relationship, and drafts enabled."
      },
      {
        "title": "Fix access control bug",
        "scenario": "Local API uses user but bypasses rules",
        "prompt": "Review this Local API call and show how to enforce access control with overrideAccess."
      },
      {
        "title": "Safe hook pattern",
        "scenario": "Avoid infinite loop in afterChange",
        "prompt": "Provide a safe afterChange hook that updates the same collection without infinite loops."
      },
      {
        "title": "Plugin scaffolding",
        "scenario": "Add fields and admin UI components",
        "prompt": "Outline a Payload plugin that adds fields to selected collections and registers an admin component."
      }
    ],
    "output_examples": [
      {
        "input": "Explain how to enforce access control in Local API calls",
        "output": [
          "Set overrideAccess to false when passing a user",
          "Use user only for requests that should respect permissions",
          "Reserve overrideAccess true for trusted server tasks"
        ]
      }
    ],
    "best_practices": [
      "Pass req through nested operations to preserve transactions",
      "Use explicit overrideAccess settings in Local API calls",
      "Keep hooks idempotent and guard against recursion"
    ],
    "anti_patterns": [
      "Rely on default access control with Local API user",
      "Trigger updates in hooks without context guards",
      "Skip validation for required fields in configs"
    ],
    "faq": [
      {
        "question": "Is this compatible with Payload 3.x?",
        "answer": "Yes, the guidance matches Payload 3.x and Next.js app directory usage."
      },
      {
        "question": "What are the main limits of this skill?",
        "answer": "It provides guidance only and cannot run code or inspect your runtime environment."
      },
      {
        "question": "How does it integrate with my project?",
        "answer": "Use it to draft configs, hooks, and access logic, then apply in your codebase."
      },
      {
        "question": "Does it access my data or credentials?",
        "answer": "No, it does not read files outside your project or access external services."
      },
      {
        "question": "What if I get a validation error?",
        "answer": "Share the field config and error message for targeted troubleshooting."
      },
      {
        "question": "How does it compare to general coding assistants?",
        "answer": "It focuses on Payload CMS patterns and pitfalls rather than generic framework advice."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "ACCESS-CONTROL-ADVANCED.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL-ADVANCED.md"
        },
        {
          "name": "ACCESS-CONTROL.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL.md"
        },
        {
          "name": "ADAPTERS.md",
          "type": "file",
          "path": "reference/ADAPTERS.md"
        },
        {
          "name": "ADVANCED.md",
          "type": "file",
          "path": "reference/ADVANCED.md"
        },
        {
          "name": "COLLECTIONS.md",
          "type": "file",
          "path": "reference/COLLECTIONS.md"
        },
        {
          "name": "ENDPOINTS.md",
          "type": "file",
          "path": "reference/ENDPOINTS.md"
        },
        {
          "name": "FIELD-TYPE-GUARDS.md",
          "type": "file",
          "path": "reference/FIELD-TYPE-GUARDS.md"
        },
        {
          "name": "FIELDS.md",
          "type": "file",
          "path": "reference/FIELDS.md"
        },
        {
          "name": "HOOKS.md",
          "type": "file",
          "path": "reference/HOOKS.md"
        },
        {
          "name": "PLUGIN-DEVELOPMENT.md",
          "type": "file",
          "path": "reference/PLUGIN-DEVELOPMENT.md"
        },
        {
          "name": "QUERIES.md",
          "type": "file",
          "path": "reference/QUERIES.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}