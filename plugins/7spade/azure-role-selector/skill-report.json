{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:18:08.419Z",
    "slug": "7spade-azure-role-selector",
    "source_url": "https://github.com/7Spade/ng-dragon/tree/main/.github/skills/azure-role-selector",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "1ca826476f1f03d332d947f91eb8d4d01d597207412c01f1d07643d34c4d779f",
    "tree_hash": "25590dcc419a6b8b7c401c205fb576d85d9baa6b20a899f0d13cf971fd6478d6"
  },
  "skill": {
    "name": "azure-role-selector",
    "description": "When user is asking for guidance for which role to assign to an identity given desired permissions, this agent helps them understand the role that will meet the requirements with least privilege access and how to apply that role.",
    "summary": "When user is asking for guidance for which role to assign to an identity given desired permissions, ...",
    "icon": "üîê",
    "version": "1.0.0",
    "author": "7Spade",
    "license": "MIT",
    "category": "security",
    "tags": [
      "azure",
      "rbac",
      "iam",
      "security",
      "roles"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure prompt-based skill that defines an agent behavior. No executable code, scripts, network calls, or file system access. The skill only helps users find minimal Azure RBAC roles using Azure MCP tools.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 6,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:18:08.419Z"
  },
  "content": {
    "user_title": "Find minimal Azure roles for least-privilege access",
    "value_statement": "Users need guidance on which Azure role to assign to identities. This skill helps find the minimal role definition that matches desired permissions and generates the commands to apply it.",
    "seo_keywords": [
      "azure role selector",
      "azure rbac",
      "least privilege access",
      "azure role assignment",
      "azure permissions",
      "azure identity management",
      "azure security",
      "azure iam",
      "claude",
      "codex",
      "claude-code"
    ],
    "actual_capabilities": [
      "Find minimal Azure role definitions matching desired permissions",
      "Generate custom role definitions when built-in roles do not match",
      "Create CLI commands for role assignment",
      "Provide Bicep code snippets for role assignment"
    ],
    "limitations": [
      "Requires Azure MCP tools to be available and configured",
      "Only works with Azure resource management scenarios",
      "Does not modify Azure resources directly"
    ],
    "use_cases": [
      {
        "target_user": "Security architects",
        "title": "Design least-privilege access",
        "description": "Determine correct Azure roles when designing new identity access patterns for applications."
      },
      {
        "target_user": "DevOps engineers",
        "title": "Generate deployment scripts",
        "description": "Create CLI commands and IaC templates for assigning roles in CI/CD pipelines."
      },
      {
        "target_user": "Cloud administrators",
        "title": "Review existing permissions",
        "description": "Identify appropriate roles when granting new permissions to users or service principals."
      }
    ],
    "prompt_templates": [
      {
        "title": "Find storage role",
        "scenario": "Need read access to blob containers",
        "prompt": "What Azure role should I assign to allow read access to blob containers in storage accounts?"
      },
      {
        "title": "Create custom role",
        "scenario": "Custom permission requirements",
        "prompt": "Create a custom role definition that allows virtual machine restart and read but not modify or delete."
      },
      {
        "title": "Generate CLI commands",
        "scenario": "Assign role to service principal",
        "prompt": "Generate Azure CLI commands to assign the Virtual Machine Contributor role to a service principal."
      },
      {
        "title": "Bicep template",
        "scenario": "Infrastructure as code",
        "prompt": "Provide a Bicep template snippet to assign the Reader role to a user group at the resource group scope."
      }
    ],
    "output_examples": [
      {
        "input": "What Azure role should I assign to allow read access to blob containers?",
        "output": [
          "Recommended role: Storage Blob Data Reader",
          "Scope: Can be assigned at storage account or container level",
          "Permissions: Read container and blob content, properties, metadata",
          "Does not allow: Write, delete, or management operations"
        ]
      }
    ],
    "best_practices": [
      "Always prefer built-in roles over custom roles when they meet requirements",
      "Assign roles at the narrowest scope needed (resource, resource group, or subscription)",
      "Document the business justification for each role assignment"
    ],
    "anti_patterns": [
      "Using Contributor or Owner roles when more specific roles are available",
      "Assigning roles at subscription scope when resource scope is sufficient",
      "Creating custom roles without first checking if built-in roles meet the need"
    ],
    "faq": [
      {
        "question": "What Azure MCP tools are required?",
        "answer": "This skill uses documentation, bicepschema, extension_cli_generate, and get_bestpractices tools."
      },
      {
        "question": "What are the limits on custom roles?",
        "answer": "Custom roles can have up to 2000 permissions. Each role assignment costs are also a consideration."
      },
      {
        "question": "How does this integrate with Azure?",
        "answer": "The skill generates Azure CLI commands and Bicep templates that can be applied to your Azure environment."
      },
      {
        "question": "Is data sent to external services?",
        "answer": "No. The skill only generates configuration guidance. No data is transmitted outside your environment."
      },
      {
        "question": "Why is my custom role not being recognized?",
        "answer": "Custom roles must be published and available in the subscription before they can be assigned."
      },
      {
        "question": "How does this compare to Azure AD roles?",
        "answer": "Azure RBAC roles control Azure resource access. Azure AD roles control directory-level permissions. This skill focuses on RBAC roles."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
