{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T14:33:23.455Z",
    "slug": "dmitrypogrebnoy-generating-sorbet-inline",
    "source_url": "https://github.com/DmitryPogrebnoy/ruby-agent-skills/tree/main/plugins/ruby-type-signature-skills/skills/generating-sorbet-inline",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "864ef0fe7fd3773b99ff8d7c795bef418e7f060b13b5f260cd7955bdc14e33b6",
    "tree_hash": "e07e18ad624d6172dd96ecf8f2e4cac001f159db1b92292ecefd1fe50685eb07"
  },
  "skill": {
    "name": "generating-sorbet-inline",
    "description": "Generates Sorbet inline type signatures using sig blocks directly in Ruby source files. Triggers when adding Sorbet types, annotating Ruby methods with sig syntax, or generating type signatures for Sorbet-typed projects.",
    "summary": "Generates Sorbet inline type signatures using sig blocks directly in Ruby source files. Triggers whe...",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "DmitryPogrebnoy",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "ruby",
      "sorbet",
      "types",
      "static-analysis",
      "signature"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill that provides instructions for generating Sorbet type signatures. No executable code, network calls, or dangerous patterns detected. Contains educational material and legitimate Ruby examples from Shopify's open-source Packwerk gem.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 67,
    "total_lines": 4971,
    "audit_model": "claude",
    "audited_at": "2026-01-10T14:33:23.455Z"
  },
  "content": {
    "user_title": "Generate Sorbet Type Signatures for Ruby",
    "value_statement": "Ruby lacks built-in type safety, making large codebases hard to maintain. This skill adds Sorbet inline type signatures to your Ruby methods, enabling static type checking and better IDE support.",
    "seo_keywords": [
      "ruby sorbet",
      "type signatures",
      "static typing",
      "ruby types",
      "sorbet sig",
      "claude code",
      "ruby documentation",
      "type checking",
      "codex",
      "claude"
    ],
    "actual_capabilities": [
      "Generates sig {} blocks for Ruby methods",
      "Adds proper type annotations for parameters and returns",
      "Handles attr_reader, attr_writer, and attr_accessor signatures",
      "Supports complex types including T.nilable, T.any, T.all",
      "Manages typed sigils (# typed: true/strict/strong)"
    ],
    "limitations": [
      "Only generates inline signatures, not .rbi files",
      "Cannot run Ruby code to infer runtime types",
      "Requires manual validation with srb tc command",
      "May need user input for unclear method purposes"
    ],
    "use_cases": [
      {
        "target_user": "Ruby developers adopting Sorbet",
        "title": "Gradually Type Existing Codebase",
        "description": "Add type signatures to legacy Ruby code without breaking changes. Start with # typed: true and progressively make signatures more strict."
      },
      {
        "target_user": "Team leads managing large Rails apps",
        "title": "Improve Code Quality in Monoliths",
        "description": "Introduce static typing to catch bugs early in large Rails applications. Use signatures to document method contracts clearly."
      },
      {
        "target_user": "Gem maintainers",
        "title": "Type Public APIs",
        "description": "Add Sorbet signatures to gem methods to help users understand expected inputs and outputs. Improve developer experience with better autocomplete."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Method Typing",
        "scenario": "Simple Ruby class needs type signatures",
        "prompt": "Add Sorbet signatures to this Ruby class. Include typed sigils, extend T::Sig, and add proper types for all methods and attributes."
      },
      {
        "title": "Nilable Types",
        "scenario": "Methods that might return nil",
        "prompt": "Add Sorbet signatures handling nil values. Use T.nilable for optional parameters and methods that might return nil."
      },
      {
        "title": "Complex Types",
        "scenario": "Collections and union types",
        "prompt": "Generate signatures for methods using arrays, hashes, and union types. Include T::Array, T::Hash, and T.any where appropriate."
      },
      {
        "title": "Strict Mode Upgrade",
        "scenario": "Upgrade from true to strict typing",
        "prompt": "Add missing signatures to make this file # typed: strict compliant. Ensure all methods have proper sig blocks."
      }
    ],
    "output_examples": [
      {
        "input": "Add Sorbet signatures to a User class with name, email attributes and a method to check if user is active",
        "output": [
          "# typed: true",
          "",
          "class User",
          "  extend T::Sig",
          "",
          "  sig { returns(String) }",
          "  attr_reader :name",
          "",
          "  sig { returns(String) }",
          "  attr_reader :email",
          "",
          "  sig { params(name: String, email: String).void }",
          "  def initialize(name, email)",
          "    @name = name",
          "    @email = email",
          "  end",
          "",
          "  sig { returns(T::Boolean) }",
          "  def active?",
          "    # Implementation here",
          "  end",
          "end"
        ]
      }
    ],
    "best_practices": [
      "Start with # typed: true and gradually increase strictness as you add more signatures",
      "Use specific types instead of T.untyped whenever possible - check method implementation for clues",
      "Run bundle exec srb tc after adding signatures to catch type errors early"
    ],
    "anti_patterns": [
      "Don't use T.untyped as an easy way out - it defeats the purpose of type checking",
      "Avoid T.cast and T.unsafe - these bypass Sorbet's safety guarantees",
      "Don't change existing typed sigil levels without understanding the implications"
    ],
    "faq": [
      {
        "question": "Will this work with my existing Ruby version?",
        "answer": "Sorbet supports Ruby 2.6+. The signatures are just Ruby code comments, so they work with any Ruby version that Sorbet supports."
      },
      {
        "question": "Can I use this on Rails applications?",
        "answer": "Yes! Sorbet works great with Rails. Many companies use Sorbet in production Rails apps to add type safety."
      },
      {
        "question": "Do I need to install anything?",
        "answer": "You need the sorbet gem in your Gemfile. Add gem 'sorbet' and run bundle install, then run srb init to get started."
      },
      {
        "question": "Is my code safe during the process?",
        "answer": "Yes! This skill only reads your code and adds signature comments. It never modifies your actual implementation or runs your code."
      },
      {
        "question": "What if Sorbet reports errors after adding signatures?",
        "answer": "The skill follows Sorbet best practices, but you may need to fix actual type issues in your code. The errors help identify real bugs!"
      },
      {
        "question": "How is this different from .rbi files?",
        "answer": "This skill generates inline signatures in your .rb files using sig {} blocks. .rbi files are separate interface files used for external gems or generated code."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "sorbet_examples",
          "type": "dir",
          "path": "reference/sorbet_examples",
          "children": [
            {
              "name": "packwerk",
              "type": "dir",
              "path": "reference/sorbet_examples/packwerk",
              "children": [
                {
                  "name": "packwerk",
                  "type": "dir",
                  "path": "reference/sorbet_examples/packwerk/packwerk"
                },
                {
                  "name": "packwerk.rb",
                  "type": "file",
                  "path": "reference/sorbet_examples/packwerk/packwerk.rb"
                }
              ]
            },
            {
              "name": "STRUCTURE.md",
              "type": "file",
              "path": "reference/sorbet_examples/STRUCTURE.md"
            }
          ]
        },
        {
          "name": "syntax.md",
          "type": "file",
          "path": "reference/syntax.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
