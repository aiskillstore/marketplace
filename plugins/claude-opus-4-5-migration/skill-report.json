{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T10:58:53.930Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "29924e91e338c9d6eb99dc43945846c4767b359f30000c0ca1fa8c563c471d69",
    "tree_hash": "b21e0818eb23da644ed466827f9bb82d4eff6ed1d56479ce4bcf9f2d1e883c87"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "üîÅ",
    "version": "1.0.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "migration",
      "prompts",
      "model-upgrade",
      "claude"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This official skill contains guidance and static prompt snippets only. No executable code, network access, or data handling is present.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 510,
    "audit_model": "codex",
    "audited_at": "2026-01-04T10:58:53.930Z"
  },
  "content": {
    "user_title": "Migrate to Opus 4.5 with confidence",
    "value_statement": "Older model strings and prompts can cause mismatched behavior or unsupported headers. This skill updates Opus 4.5 model strings and offers optional prompt fixes when you request them.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Opus 4.5 migration",
      "Anthropic API",
      "AWS Bedrock",
      "Google Vertex AI",
      "Azure AI Foundry",
      "model string update"
    ],
    "actual_capabilities": [
      "Identify and replace Sonnet 4.0, Sonnet 4.5, and Opus 4.1 model strings with Opus 4.5 equivalents.",
      "Remove the context-1m-2025-08-07 beta header and add the recommended note.",
      "Provide effort parameter guidance with required beta flag examples for Python, TypeScript, and raw API.",
      "Offer targeted prompt snippet guidance for tool overtriggering, over engineering, code exploration, frontend design, and thinking sensitivity.",
      "Summarize migration changes after updates."
    ],
    "limitations": [
      "Does not migrate Haiku models.",
      "Prompt snippets are only applied when explicitly requested or a specific issue is reported.",
      "Effort configuration examples focus on Anthropic API style and may need adaptation for other platforms.",
      "Requires model strings or headers to be present to change them."
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Update API model IDs",
        "description": "Replace legacy Claude model identifiers in service calls with Opus 4.5 equivalents."
      },
      {
        "target_user": "Prompt engineer",
        "title": "Adjust system prompts",
        "description": "Apply a specific prompt snippet to fix tool overtriggering or over engineering reports."
      },
      {
        "target_user": "Platform lead",
        "title": "Standardize migration guidance",
        "description": "Coordinate model string updates across teams and capture a concise change summary."
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick model update",
        "scenario": "Single repo, one platform",
        "prompt": "Scan this repository and replace any Sonnet 4.0, Sonnet 4.5, or Opus 4.1 model strings with Opus 4.5."
      },
      {
        "title": "Remove beta header",
        "scenario": "Beta header is present",
        "prompt": "Remove the context-1m-2025-08-07 beta header, add the recommended note, and update model strings to Opus 4.5."
      },
      {
        "title": "Add effort setting",
        "scenario": "Need higher reasoning effort",
        "prompt": "Update model strings to Opus 4.5 and add effort set to high with the required beta flag in requests."
      },
      {
        "title": "Advanced prompt tuning",
        "scenario": "Tool overtriggering reported",
        "prompt": "Update model strings to Opus 4.5 and apply the tool overtriggering and code exploration snippets to the system prompt."
      }
    ],
    "output_examples": [
      {
        "input": "Please migrate our Anthropic API calls to Opus 4.5 and summarize the changes.",
        "output": [
          "Replaced legacy model strings with the Opus 4.5 identifier in three files",
          "Removed the unsupported context beta header and added the recommended note",
          "Listed updated files and suggested optional prompt fixes if issues appear"
        ]
      }
    ],
    "best_practices": [
      "Confirm the platform in use before replacing model strings.",
      "Apply prompt snippets only for reported issues or explicit requests.",
      "Summarize every change so teams can review migrations quickly."
    ],
    "anti_patterns": [
      "Migrating Haiku models to Opus 4.5.",
      "Applying all prompt snippets without a user complaint.",
      "Leaving unsupported beta headers in place."
    ],
    "faq": [
      {
        "question": "Is this compatible with all Claude platforms?",
        "answer": "It provides model strings for Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry."
      },
      {
        "question": "What models can it migrate?",
        "answer": "It migrates Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5."
      },
      {
        "question": "How do I integrate effort settings?",
        "answer": "Add the effort beta flag and set output_config effort in your request payload."
      },
      {
        "question": "Does it send my data anywhere?",
        "answer": "No. It only provides guidance and does not transmit files or data."
      },
      {
        "question": "What if tools trigger too often?",
        "answer": "Apply the tool overtriggering snippet to soften aggressive instructions."
      },
      {
        "question": "How does this compare to manual updates?",
        "answer": "It standardizes model strings and adds targeted fixes with clear summaries."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
