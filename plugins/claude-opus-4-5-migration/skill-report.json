{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T16:21:52.158Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "29924e91e338c9d6eb99dc43945846c4767b359f30000c0ca1fa8c563c471d69",
    "tree_hash": "703ab263a260cf9cc0a8c51cc54b159f027b91f145995e4c481806cad35c22fc"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "üîÅ",
    "version": "1.0.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "migration",
      "prompts",
      "model-upgrade",
      "claude"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill providing static guidance and prompt snippets. No executable code, network operations, or data handling included.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 509,
    "audit_model": "claude",
    "audited_at": "2026-01-04T16:21:52.158Z"
  },
  "content": {
    "user_title": "Migrate to Opus 4.5 safely",
    "value_statement": "Legacy model strings and headers can break Opus 4.5 requests. This skill guides exact replacements and optional prompt fixes when you request them.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Opus 4.5 migration",
      "Anthropic API",
      "AWS Bedrock",
      "Google Vertex AI",
      "Azure AI Foundry",
      "model string update",
      "Claude model upgrade"
    ],
    "actual_capabilities": [
      "Replace Sonnet 4.0, Sonnet 4.5, or Opus 4.1 model strings with Opus 4.5 equivalents",
      "Remove unsupported context-1m-2025-08-07 beta header with required comment",
      "Add effort parameter set to high with correct beta flag for Python, TypeScript, and raw API",
      "Apply optional prompt snippets for tool overtriggering when you report issues",
      "Fix over-engineering tendency by adding focused guidelines to your prompts",
      "Summarize all changes made to support code review"
    ],
    "limitations": [
      "Does not migrate Haiku models to Opus 4.5",
      "Prompt snippets are applied only when you request them or report specific issues",
      "Effort guidance is designed for Anthropic-style API requests",
      "Requires existing model strings to identify and update"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Update API model IDs",
        "description": "Replace legacy Claude model identifiers in service calls with Opus 4.5 strings"
      },
      {
        "target_user": "DevOps lead",
        "title": "Remove beta header",
        "description": "Delete unsupported context beta header and add required note before migration"
      },
      {
        "target_user": "Prompt engineer",
        "title": "Fix tool overtriggering",
        "description": "Soften aggressive tool instructions to reduce unnecessary function calls"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic model update",
        "scenario": "Single repo, known platform",
        "prompt": "Find Sonnet 4.0, Sonnet 4.5, or Opus 4.1 model strings and replace them with Opus 4.5 equivalents"
      },
      {
        "title": "Remove beta header",
        "scenario": "Unsupported header present",
        "prompt": "Remove the context-1m-2025-08-07 beta header, add the required note, and update model strings to Opus 4.5"
      },
      {
        "title": "Add effort parameter",
        "scenario": "Need higher reasoning effort",
        "prompt": "Update model strings to Opus 4.5 and add effort set to high with the required beta flag examples"
      },
      {
        "title": "Advanced prompt tuning",
        "scenario": "Reported tool overtriggering",
        "prompt": "Update model strings to Opus 4.5 and apply the tool overtriggering and code exploration snippets to the system prompt"
      }
    ],
    "output_examples": [
      {
        "input": "Please migrate our Claude API calls to Opus 4.5 and summarize the changes",
        "output": [
          "Updated model identifiers to Opus 4.5 string in three request files",
          "Removed unsupported context beta header and added required note",
          "Summarized all changed files and noted optional prompt fixes if issues appear"
        ]
      }
    ],
    "best_practices": [
      "Confirm your platform before replacing model strings to use the correct format",
      "Apply prompt snippets only when you explicitly request them or report specific issues",
      "Review the change summary to understand what was modified before merging"
    ],
    "anti_patterns": [
      "Attempting to migrate Haiku models to Opus 4.5",
      "Applying all prompt snippets without a specific request from you",
      "Keeping unsupported beta headers in requests after migration"
    ],
    "faq": [
      {
        "question": "Is this compatible with all Claude platforms?",
        "answer": "Provides model strings for Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry."
      },
      {
        "question": "What models can be migrated to Opus 4.5?",
        "answer": "Migrates Sonnet 4.0, Sonnet 4.5, and Opus 4.1. Does not support Haiku models."
      },
      {
        "question": "How do I add the effort parameter?",
        "answer": "Add the effort beta flag and set output_config effort to high, medium, or low in your request."
      },
      {
        "question": "Is my data sent anywhere?",
        "answer": "No. The skill provides guidance only and does not transmit your files or data externally."
      },
      {
        "question": "What if tools trigger too often after migration?",
        "answer": "Request the tool overtriggering snippet to soften aggressive instructions in your prompts."
      },
      {
        "question": "How does this differ from manual updates?",
        "answer": "Standardizes model strings across platforms, offers targeted fixes, and provides a clear change summary."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
