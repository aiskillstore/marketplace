{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T05:42:38.750Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "Anthropic",
    "category": "development",
    "tags": [
      "api",
      "migration",
      "claude",
      "opus",
      "prompt-engineering",
      "automation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill containing only documentation and migration instructions. No executable code, shell commands, or file system access. Purely instructional content for API migration.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-31T05:42:38.749Z"
  },
  "content": {
    "user_title": "Upgrade Your Code to Claude Opus 4.5",
    "value_statement": "Automatically migrate your codebase from older Claude models (Sonnet 4.0/4.5 or Opus 4.1) to Opus 4.5 with model string updates, effort parameter configuration, and prompt optimization guidance.",
    "seo_keywords": [
      "claude opus 4.5",
      "api migration",
      "model upgrade",
      "claude api",
      "prompt engineering",
      "anthropic api",
      "bedrock claude",
      "vertex ai claude"
    ],
    "actual_capabilities": [
      "Identifies and updates Claude model strings across multiple platforms (Anthropic API, AWS Bedrock, Google Vertex AI, Azure AI Foundry)",
      "Adds effort parameter configuration for optimal Opus 4.5 performance",
      "Removes unsupported beta headers (e.g., 1M context beta)",
      "Provides conditional prompt adjustments for known Opus 4.5 behavioral differences",
      "Handles tool overtriggering issues by softening aggressive prompt language",
      "Prevents over-engineering with targeted prompt guidance",
      "Improves code exploration behavior through prompt modifications",
      "Enhances frontend design quality with aesthetic guidelines",
      "Resolves thinking sensitivity issues in prompts"
    ],
    "limitations": [
      "Does not migrate Haiku models (only Sonnet 4.0/4.5 and Opus 4.1)",
      "Prompt adjustments are conditional and only applied when user reports specific issues",
      "Does not handle custom wrapper code or abstraction layers automatically",
      "Requires manual review of migration results for complex codebases",
      "1M context beta header removal may affect applications relying on extended context"
    ],
    "use_cases": [
      {
        "title": "API Codebase Upgrade",
        "description": "Migrate an entire Python or TypeScript codebase from Sonnet 4.5 to Opus 4.5, updating all model strings and adding effort parameters",
        "target_user": "Backend developers maintaining Claude API integrations"
      },
      {
        "title": "Multi-Platform Migration",
        "description": "Update model strings across AWS Bedrock, Vertex AI, and direct API calls in a polyglot repository",
        "target_user": "DevOps engineers managing multi-cloud deployments"
      },
      {
        "title": "Prompt Optimization for Opus 4.5",
        "description": "Fix tool overtriggering or over-engineering issues after upgrading to Opus 4.5 by adjusting system prompts",
        "target_user": "AI engineers experiencing behavioral changes post-migration"
      },
      {
        "title": "Frontend AI Tool Migration",
        "description": "Migrate a frontend generation tool to Opus 4.5 and apply aesthetic guidelines to improve output quality",
        "target_user": "Product teams using Claude for UI/UX generation"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Claude Sonnet 4.5 to Opus 4.5",
        "scenario": "Simple model string update across a project"
      },
      {
        "title": "Migration with Tool Overtriggering Fix",
        "prompt": "Migrate to Opus 4.5 and fix the issue where my tools are being called too frequently",
        "scenario": "Migration with prompt adjustment for tool behavior"
      },
      {
        "title": "Multi-Platform Migration",
        "prompt": "Upgrade all Claude API calls to Opus 4.5. I'm using AWS Bedrock and Google Vertex AI",
        "scenario": "Platform-specific model string updates"
      },
      {
        "title": "Migration with Frontend Improvements",
        "prompt": "Migrate to Opus 4.5 and improve the frontend design quality of my generated UIs",
        "scenario": "Migration with aesthetic guidelines addition"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python code to Opus 4.5",
        "output": "Updated 3 files:\n- api_client.py: Changed model from claude-sonnet-4-5-20250929 to claude-opus-4-5-20251101\n- Added effort parameter set to 'high'\n- Added beta flag 'effort-2025-11-24'\n\nIf you encounter any issues with Opus 4.5, let me know and I can help adjust your prompts."
      },
      {
        "input": "My tools are being called too often after upgrading to Opus 4.5",
        "output": "I've softened the aggressive language in your system prompt:\n- Changed 'CRITICAL: You MUST use search' to 'Use the search tool when needed'\n- Changed 'ALWAYS verify credentials' to 'Verify credentials before proceeding'\n- Changed 'NEVER skip validation' to 'Don't skip validation steps'\n\nThis should reduce tool overtriggering while maintaining functionality."
      }
    ],
    "best_practices": [
      "Start with basic model string migration only; add prompt adjustments only if you encounter specific issues",
      "Test API calls after migration to verify effort parameter compatibility",
      "Review removed beta headers to ensure your application doesn't depend on them",
      "Use high effort setting by default for best Opus 4.5 performance",
      "Integrate prompt snippets thoughtfully using XML tags that match your existing prompt structure",
      "Run migration on a feature branch and test thoroughly before merging"
    ],
    "anti_patterns": [
      "Applying all prompt adjustments proactively without observing actual issues",
      "Migrating Haiku models (not supported by this skill)",
      "Ignoring platform-specific model string formats (Bedrock, Vertex AI have different conventions)",
      "Removing emphasis from non-tool-related instructions when fixing overtriggering",
      "Blindly appending prompt snippets without integrating them into existing structure"
    ],
    "faq": [
      {
        "question": "Does this skill automatically migrate my entire codebase?",
        "answer": "Yes, the skill searches for model strings across your codebase and updates them to Opus 4.5 format. However, you should review the changes, especially for complex abstractions or wrapper code."
      },
      {
        "question": "What happens to the 1M context beta header?",
        "answer": "The skill removes the context-1m-2025-08-07 beta header because it's not yet supported with Opus 4.5, and adds a comment noting this limitation."
      },
      {
        "question": "Should I apply all prompt adjustments during migration?",
        "answer": "No. By default, only model strings are updated. Prompt adjustments should only be applied if you encounter specific issues like tool overtriggering or over-engineering."
      },
      {
        "question": "What is the effort parameter and do I need it?",
        "answer": "The effort parameter controls token usage intensity. The skill sets it to 'high' by default for best Opus 4.5 performance. You can adjust to 'medium' or 'low' for cost optimization."
      },
      {
        "question": "Can I migrate from Opus 4.1 to Opus 4.5?",
        "answer": "Yes, the skill supports migration from Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5."
      },
      {
        "question": "Which platforms are supported?",
        "answer": "The skill supports Anthropic API (1P), AWS Bedrock, Google Vertex AI, and Azure AI Foundry with platform-specific model string formats."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [
        "read_files",
        "write_files",
        "search_codebase"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}