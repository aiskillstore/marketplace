{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T13:03:53.273Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "29924e91e338c9d6eb99dc43945846c4767b359f30000c0ca1fa8c563c471d69",
    "tree_hash": "cefa76e5e797dff3116777a51d38e0973dbd0c771bedc74c7f793446d1d4156e"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "üîÅ",
    "version": "1.0.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "migration",
      "prompts",
      "model-upgrade",
      "claude"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This official skill provides static guidance and prompt snippets. It does not include executable code, network operations, or data handling.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 509,
    "audit_model": "codex",
    "audited_at": "2026-01-04T13:03:53.272Z"
  },
  "content": {
    "user_title": "Migrate to Opus 4.5 safely",
    "value_statement": "Legacy model strings and headers can break Opus 4.5 requests. This skill guides exact replacements and optional prompt fixes when you request them.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Opus 4.5 migration",
      "Anthropic API",
      "AWS Bedrock",
      "Google Vertex AI",
      "Azure AI Foundry",
      "model string update"
    ],
    "actual_capabilities": [
      "Lists Opus 4.5 model strings for Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry.",
      "Instructs removal of the context-1m-2025-08-07 beta header with a required note.",
      "Provides effort parameter guidance with Python, TypeScript, and raw API examples.",
      "Offers optional prompt snippets for tool overtriggering, over engineering, code exploration, frontend quality, and thinking sensitivity.",
      "Defines a migration workflow and a required change summary step."
    ],
    "limitations": [
      "Does not migrate Haiku models.",
      "Prompt snippets are applied only when you request them or report a specific issue.",
      "Effort guidance targets Anthropic style requests and may need adaptation for other platforms.",
      "Requires existing model strings or headers to update."
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Update API model IDs",
        "description": "Replace legacy Claude model identifiers in service calls with Opus 4.5 strings."
      },
      {
        "target_user": "Prompt engineer",
        "title": "Fix tool overtriggering",
        "description": "Soften aggressive tool instructions to reduce unnecessary tool calls."
      },
      {
        "target_user": "Platform lead",
        "title": "Standardize migration steps",
        "description": "Apply a consistent migration workflow and collect a concise change summary."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic model update",
        "scenario": "Single repo, known platform",
        "prompt": "Find Sonnet 4.0, Sonnet 4.5, or Opus 4.1 model strings and replace them with Opus 4.5 equivalents."
      },
      {
        "title": "Remove beta header",
        "scenario": "Unsupported header present",
        "prompt": "Remove the context-1m-2025-08-07 beta header, add the required note, and update model strings to Opus 4.5."
      },
      {
        "title": "Add effort parameter",
        "scenario": "Need higher reasoning effort",
        "prompt": "Update model strings to Opus 4.5 and add effort set to high with the required beta flag examples."
      },
      {
        "title": "Advanced prompt tuning",
        "scenario": "Reported tool overtriggering",
        "prompt": "Update model strings to Opus 4.5 and apply the tool overtriggering and code exploration snippets to the system prompt."
      }
    ],
    "output_examples": [
      {
        "input": "Please migrate our Claude API calls to Opus 4.5 and summarize the changes.",
        "output": [
          "Updated model identifiers to the Opus 4.5 string in three request files",
          "Removed the unsupported context beta header and added the required note",
          "Summarized all changed files and noted optional prompt fixes if issues appear"
        ]
      }
    ],
    "best_practices": [
      "Confirm the platform before replacing model strings.",
      "Apply prompt snippets only for explicit requests or reported issues.",
      "Summarize every change to support review and rollout."
    ],
    "anti_patterns": [
      "Migrating Haiku models to Opus 4.5.",
      "Applying all prompt snippets without a user request.",
      "Keeping unsupported beta headers in requests."
    ],
    "faq": [
      {
        "question": "Is this compatible with all Claude platforms?",
        "answer": "It provides model strings for Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry."
      },
      {
        "question": "What are the migration limits?",
        "answer": "It migrates Sonnet 4.0, Sonnet 4.5, and Opus 4.1, but not Haiku models."
      },
      {
        "question": "How do I integrate the effort setting?",
        "answer": "Add the effort beta flag and set output_config effort in your request payload."
      },
      {
        "question": "Is my data sent anywhere?",
        "answer": "No. The skill provides guidance only and does not transmit files or data."
      },
      {
        "question": "What if tools trigger too often?",
        "answer": "Apply the tool overtriggering snippet to soften aggressive instructions."
      },
      {
        "question": "How does this compare to manual updates?",
        "answer": "It standardizes model strings and offers targeted fixes with a clear summary."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
