{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T08:55:41.328Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "üõ†Ô∏è",
    "version": "1.0.0",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "migration",
      "prompts",
      "anthropic",
      "models",
      "api"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill with documented guidance and references. No executable code or network activity is present. Minimal audit completed per source policy.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 281,
    "audit_model": "codex",
    "audited_at": "2025-12-31T08:55:41.328Z"
  },
  "content": {
    "user_title": "Migrate Claude models to Opus 4.5",
    "value_statement": "Your codebase still targets older Claude models and needs a safe upgrade. This skill updates model strings and guides optional prompt fixes for Opus 4.5.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Opus 4.5 migration",
      "Anthropic API",
      "AWS Bedrock",
      "Vertex AI",
      "Azure AI Foundry",
      "model string update",
      "prompt migration"
    ],
    "actual_capabilities": [
      "Replace Sonnet 4.0, Sonnet 4.5, and Opus 4.1 model strings with Opus 4.5 equivalents",
      "Remove unsupported context-1m beta header and note the change",
      "Add effort parameter set to high with the effort beta flag",
      "Provide prompt adjustments for tool overtriggering when requested",
      "Provide prompt adjustments for over-engineering and code exploration when requested",
      "Advise on thinking sensitivity wording changes when extended thinking is not enabled"
    ],
    "limitations": [
      "Does not migrate any Haiku models",
      "Prompt adjustments are only applied when the user requests them or reports issues",
      "Limited to the listed Sonnet 4.0, Sonnet 4.5, and Opus 4.1 source models",
      "Requires the user to provide or identify the relevant files or prompts"
    ],
    "use_cases": [
      {
        "target_user": "Platform engineer",
        "title": "API model upgrade",
        "description": "Update Anthropic API, Bedrock, or Vertex model strings to Opus 4.5 with minimal risk."
      },
      {
        "target_user": "Prompt engineer",
        "title": "Prompt behavior tuning",
        "description": "Apply targeted prompt fixes for tool overtriggering or over-engineering issues."
      },
      {
        "target_user": "Product developer",
        "title": "Opus 4.5 rollout",
        "description": "Standardize model usage across services and document changes for release notes."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic model swap",
        "scenario": "Single service migration",
        "prompt": "Scan this repo for Claude model strings and update Sonnet 4.5 or Opus 4.1 to Opus 4.5. Summarize each change."
      },
      {
        "title": "Multi platform update",
        "scenario": "Anthropic, Bedrock, and Vertex",
        "prompt": "Update all Claude model strings across Anthropic API, AWS Bedrock, and Vertex AI to Opus 4.5. Note any files changed."
      },
      {
        "title": "Effort parameter add",
        "scenario": "Add effort high",
        "prompt": "Add the effort beta flag and output_config.effort set to high in our API calls. Use the Opus 4.5 model string."
      },
      {
        "title": "Prompt issue fix",
        "scenario": "Overtriggering tools",
        "prompt": "The model calls tools too often after migration. Soften tool instructions in prompts and summarize what you adjusted."
      }
    ],
    "output_examples": [
      {
        "input": "Please migrate our Anthropic API and Bedrock model strings to Opus 4.5 and remove unsupported beta headers.",
        "output": [
          "Updated Anthropic API model string to claude-opus-4-5-20251101",
          "Updated Bedrock model string to anthropic.claude-opus-4-5-20251101-v1:0",
          "Removed context-1m-2025-08-07 beta header and added a note in code comments"
        ]
      }
    ],
    "best_practices": [
      "Confirm the platform before replacing model strings",
      "Summarize every change after migration",
      "Apply prompt snippets only when the user reports a specific issue"
    ],
    "anti_patterns": [
      "Migrating Haiku models to Opus 4.5",
      "Adding prompt snippets without a user request",
      "Leaving unsupported beta headers in place"
    ],
    "faq": [
      {
        "question": "Is this compatible with Bedrock and Vertex AI?",
        "answer": "Yes, it provides specific model strings for Anthropic API, AWS Bedrock, Vertex AI, and Azure AI Foundry."
      },
      {
        "question": "What are the migration limits?",
        "answer": "It only covers Sonnet 4.0, Sonnet 4.5, and Opus 4.1 source models and does not migrate Haiku."
      },
      {
        "question": "Can it integrate effort settings?",
        "answer": "Yes, it adds the effort beta flag and output_config.effort set to high when requested."
      },
      {
        "question": "How is data safety handled?",
        "answer": "This skill only guides code and prompt edits and does not transmit data or call external services."
      },
      {
        "question": "What if prompts behave worse after migration?",
        "answer": "Apply the relevant snippet for overtriggering, over-engineering, or code exploration based on the reported issue."
      },
      {
        "question": "How does it compare to manual edits?",
        "answer": "It standardizes model strings and provides consistent prompt guidance, reducing missed changes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}