{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T10:44:50.576Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "migration",
      "opus-4-5",
      "api",
      "prompt-engineering",
      "model-upgrade",
      "automation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill containing only documentation and migration guidance. No executable code, shell commands, or external dependencies. Safe for publication.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T10:44:50.576Z"
  },
  "content": {
    "user_title": "Opus 4.5 Migration Assistant",
    "value_statement": "Automatically migrates your codebase from Claude Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5 by updating model strings, adding effort parameters, and applying prompt fixes for known behavioral differences.",
    "seo_keywords": [
      "claude opus 4.5",
      "model migration",
      "api upgrade",
      "prompt optimization",
      "anthropic claude",
      "effort parameter",
      "model string update"
    ],
    "actual_capabilities": [
      "Identifies and updates model strings across Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry",
      "Adds effort parameter configuration with high/medium/low settings",
      "Removes unsupported beta headers (e.g., 1M context)",
      "Fixes tool overtriggering by softening aggressive prompt language",
      "Adds over-engineering prevention guidelines",
      "Improves code exploration behavior with targeted prompts",
      "Enhances frontend design quality with aesthetic guidelines",
      "Resolves thinking sensitivity issues in non-extended-thinking mode"
    ],
    "limitations": [
      "Does not migrate Haiku 4.5 models",
      "Prompt adjustments only applied when user explicitly requests or reports issues",
      "Cannot automatically test migrated code",
      "Requires manual review of changes",
      "1M context beta header not yet supported in Opus 4.5"
    ],
    "use_cases": [
      {
        "title": "Codebase Model Upgrade",
        "description": "Migrate an entire codebase from Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5, updating all API calls, model strings, and configuration",
        "target_user": "Developers maintaining applications using Claude API"
      },
      {
        "title": "Fix Tool Overtriggering",
        "description": "Resolve issues where Opus 4.5 calls tools too frequently by softening aggressive prompt language that was necessary for earlier models",
        "target_user": "AI engineers experiencing tool calling issues"
      },
      {
        "title": "Prevent Over-Engineering",
        "description": "Add guidelines to system prompts to prevent Opus 4.5 from creating unnecessary files, abstractions, or unrequested features",
        "target_user": "Teams noticing excessive code generation"
      },
      {
        "title": "Multi-Platform Migration",
        "description": "Update model strings across different platforms (AWS Bedrock, Vertex AI, Azure) with platform-specific identifiers",
        "target_user": "DevOps teams managing multi-cloud deployments"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase to Claude Opus 4.5",
        "scenario": "Simple model string updates without prompt modifications"
      },
      {
        "title": "Migration with Tool Fix",
        "prompt": "Migrate to Opus 4.5 and fix the issue where my search tool is being called too frequently",
        "scenario": "Migration with tool overtriggering resolution"
      },
      {
        "title": "Full Migration with Design Improvements",
        "prompt": "Migrate my project to Opus 4.5 and improve frontend design quality - the current output looks too generic",
        "scenario": "Migration with frontend aesthetics enhancements"
      },
      {
        "title": "AWS Bedrock Migration",
        "prompt": "Update my AWS Bedrock integration from Sonnet 4.5 to Opus 4.5",
        "scenario": "Platform-specific migration for AWS users"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python code to Opus 4.5",
        "output": "Updated model string from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101', added effort parameter set to 'high' with beta flag 'effort-2025-11-24', removed unsupported 1M context beta header. All changes complete. If you encounter any issues with Opus 4.5, let me know and I can help adjust your prompts."
      },
      {
        "input": "My tools are being called too often after upgrading",
        "output": "Applied tool overtriggering fixes: softened 'CRITICAL: You MUST use this tool' to 'Use this tool', changed 'ALWAYS call the search function' to 'Call the search function', and removed other aggressive emphasis. This should reduce unnecessary tool calls while maintaining functionality."
      }
    ],
    "best_practices": [
      "Start with model string updates only; apply prompt modifications only when issues arise",
      "Set effort to 'high' for best Opus 4.5 performance",
      "Remove unsupported beta headers to avoid API errors",
      "Integrate prompt snippets thoughtfully using XML tags matching existing structure",
      "Test migrated code incrementally rather than all at once",
      "Keep track of which prompt fixes were applied for specific issues"
    ],
    "anti_patterns": [
      "Applying all prompt fixes preemptively without confirming issues exist",
      "Appending snippets without integrating them into existing prompt structure",
      "Migrating Haiku models (not supported by this skill)",
      "Keeping aggressive prompt language designed for earlier models",
      "Ignoring platform-specific model string formats"
    ],
    "faq": [
      {
        "question": "Does this skill migrate Haiku 4.5?",
        "answer": "No, this skill only migrates from Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Haiku migrations are not supported."
      },
      {
        "question": "Will all prompt fixes be applied automatically?",
        "answer": "No. By default, only model strings and effort parameters are updated. Prompt fixes (tool overtriggering, over-engineering prevention, etc.) are only applied if you explicitly request them or report specific issues."
      },
      {
        "question": "What is the effort parameter and should I use it?",
        "answer": "The effort parameter controls how eagerly Claude spends tokens. Setting it to 'high' (default recommendation) provides best performance with deeper reasoning. Use 'medium' for cost/latency balance or 'low' for simple high-volume queries."
      },
      {
        "question": "Can I use the 1M context beta with Opus 4.5?",
        "answer": "Not yet. The context-1m-2025-08-07 beta header is not currently supported with Opus 4.5. The skill will remove this header and add a comment noting this limitation."
      },
      {
        "question": "Which platforms does this support?",
        "answer": "The skill supports Anthropic API (1P), AWS Bedrock, Google Vertex AI, and Azure AI Foundry, with platform-specific model string formats for each."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}