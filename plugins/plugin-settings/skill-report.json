{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T17:50:05.019Z",
    "slug": "plugin-settings",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/plugin-settings",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official"
  },
  "skill": {
    "name": "Plugin Settings",
    "description": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", \"user-configurable plugin\", \".local.md files\", \"plugin state files\", \"read YAML frontmatter\", \"per-project plugin settings\", or wants to make plugin behavior configurable. Documents the .claude/plugin-name.local.md pattern for storing plugin-specific configuration with YAML frontmatter and markdown content.",
    "summary": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", ...",
    "icon": "⚙️",
    "version": "0.1.0",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "plugin-config",
      "frontmatter",
      "claude",
      "bash",
      "hooks"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This official skill contains documentation and example scripts for parsing plugin settings files. No high risk behavior is present in the reviewed files.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 8,
    "total_lines": 1970,
    "audit_model": "codex",
    "audited_at": "2025-12-31T17:50:05.018Z"
  },
  "content": {
    "user_title": "Configure per project plugin settings",
    "value_statement": "You need a simple way to store plugin settings per project. This skill shows a safe file pattern and parsing steps you can reuse.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "plugin settings",
      "YAML frontmatter",
      ".claude local file",
      "plugin configuration",
      "hook configuration",
      "per project settings",
      "markdown frontmatter"
    ],
    "actual_capabilities": [
      "Explains the .claude/plugin-name.local.md file structure with YAML frontmatter and markdown body.",
      "Provides a bash utility to extract all frontmatter or a single field.",
      "Provides a bash validator that checks frontmatter markers and common fields.",
      "Shows hook logic that reads settings and applies strict or standard checks.",
      "Provides templates for creating settings files and command prompts."
    ],
    "limitations": [
      "Parsing uses sed and grep and does not handle complex YAML structures.",
      "Settings changes require restarting Claude Code to take effect.",
      "Examples assume bash and common Unix tools like sed, awk, jq.",
      "No automatic secret management or encryption is included."
    ],
    "use_cases": [
      {
        "target_user": "Plugin developer",
        "title": "Add configurable behavior",
        "description": "Create a .claude settings file so users can toggle features and set limits per project."
      },
      {
        "target_user": "Team lead",
        "title": "Standardize project defaults",
        "description": "Provide a template file and gitignore guidance so teams keep local settings consistent."
      },
      {
        "target_user": "Security engineer",
        "title": "Control hook enforcement",
        "description": "Use enabled and strict_mode fields to gate file access checks in hooks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create settings file",
        "scenario": "New plugin needs local configuration",
        "prompt": "Create a .claude/my-plugin.local.md template with enabled, mode, and max_file_size fields plus a short markdown body."
      },
      {
        "title": "Parse a field",
        "scenario": "Hook needs a single value",
        "prompt": "Show a bash snippet to read the enabled field from .claude/my-plugin.local.md and exit when it is false."
      },
      {
        "title": "Validate structure",
        "scenario": "User reports settings errors",
        "prompt": "Provide a quick validation checklist for frontmatter markers and required fields in a .local.md file."
      },
      {
        "title": "Add strict mode checks",
        "scenario": "Advanced security control",
        "prompt": "Add strict_mode handling to a hook that blocks path traversal and sensitive files using the settings file."
      }
    ],
    "output_examples": [
      {
        "input": "Give me a basic settings file and explain how to read enabled.",
        "output": [
          "Create `.claude/my-plugin.local.md` with `enabled: true` in frontmatter.",
          "Use sed and grep to extract enabled and exit if it is not true.",
          "Restart Claude Code after editing to apply changes."
        ]
      }
    ],
    "best_practices": [
      "Use the .claude/plugin-name.local.md naming pattern and add it to .gitignore.",
      "Provide defaults when the settings file does not exist.",
      "Validate booleans and numbers before using them in hooks."
    ],
    "anti_patterns": [
      "Hardcode absolute file paths for settings.",
      "Update settings in place without atomic writes.",
      "Assume complex YAML parsing without yq or validation."
    ],
    "faq": [
      {
        "question": "Is this compatible with Claude Code and Codex?",
        "answer": "Yes. The pattern uses standard files and bash tools that work with Claude Code and Codex workflows."
      },
      {
        "question": "What are the main limits of the parsing?",
        "answer": "The examples parse simple key values. Complex YAML needs yq or a dedicated parser."
      },
      {
        "question": "How do I integrate this with hooks?",
        "answer": "Check for the file, parse frontmatter, and gate hook behavior with enabled or mode fields."
      },
      {
        "question": "Is my data safe in .local.md files?",
        "answer": "Files are local and should be gitignored, but they are not encrypted."
      },
      {
        "question": "Why are my changes not applied?",
        "answer": "Settings changes require restarting Claude Code because hooks are not hot swapped."
      },
      {
        "question": "How does this compare to JSON config files?",
        "answer": "This pattern supports both structured YAML and a markdown body for prompts or notes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "create-settings-command.md",
          "type": "file",
          "path": "examples/create-settings-command.md"
        },
        {
          "name": "example-settings.md",
          "type": "file",
          "path": "examples/example-settings.md"
        },
        {
          "name": "read-settings-hook.sh",
          "type": "file",
          "path": "examples/read-settings-hook.sh"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "parsing-techniques.md",
          "type": "file",
          "path": "references/parsing-techniques.md"
        },
        {
          "name": "real-world-examples.md",
          "type": "file",
          "path": "references/real-world-examples.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "parse-frontmatter.sh",
          "type": "file",
          "path": "scripts/parse-frontmatter.sh"
        },
        {
          "name": "validate-settings.sh",
          "type": "file",
          "path": "scripts/validate-settings.sh"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}