{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T08:49:14.309Z",
    "slug": "0xdarkmatter-sql-patterns",
    "source_url": "https://github.com/0xDarkMatter/claude-mods/tree/main/skills/sql-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "6a742fdb475af5a695755a30d1dae025d9cb1c726fa4c862cf5a220fbc6ded8a",
    "tree_hash": "ae7f71337aa91ab6448c9d4e9b595523b1361cca9caa80e80575d05a147c255f"
  },
  "skill": {
    "name": "sql-patterns",
    "description": "Quick reference for common SQL patterns, CTEs, window functions, and indexing strategies. Triggers on: sql patterns, cte example, window functions, sql join, index strategy, pagination sql.",
    "summary": "Quick reference for common SQL patterns, CTEs, window functions, and indexing strategies. Triggers o...",
    "icon": "ðŸ—ƒï¸",
    "version": "1.0.0",
    "author": "0xDarkMatter",
    "license": "MIT",
    "category": "data",
    "tags": [
      "sql",
      "database",
      "query-optimization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing SQL reference patterns. No executable code, no file system access beyond reading its own markdown files, no network calls, no command execution. Safe for publication.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 732,
    "audit_model": "claude",
    "audited_at": "2026-01-10T08:49:14.308Z"
  },
  "content": {
    "user_title": "Get SQL patterns reference",
    "value_statement": "Writing efficient SQL queries requires knowing common patterns and anti-patterns. This skill provides ready-to-use examples for CTEs, window functions, joins, and indexing strategies.",
    "seo_keywords": [
      "sql patterns",
      "sql cte",
      "window functions",
      "sql index",
      "sql join",
      "sql pagination",
      "database query",
      "claude sql",
      "codex sql",
      "claude-code sql"
    ],
    "actual_capabilities": [
      "CTE examples with chained common table expressions",
      "Window function patterns (ROW_NUMBER, RANK, LAG, LEAD)",
      "JOIN reference with inner, left, right, and full joins",
      "Pagination patterns using OFFSET/LIMIT and keyset pagination",
      "Index types including B-tree, hash, GIN, and GiST",
      "Anti-patterns to avoid with fixes and explanations"
    ],
    "limitations": [
      "Does not execute queries or connect to databases",
      "Pattern examples may require adjustment for specific database systems",
      "Does not generate custom queries from user requirements"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Query optimization",
        "description": "Learn to write efficient queries using CTEs and proper indexing strategies"
      },
      {
        "target_user": "Data analysts",
        "title": "Analytical queries",
        "description": "Master window functions for running totals, rankings, and time-series analysis"
      },
      {
        "target_user": "Database administrators",
        "title": "Performance tuning",
        "description": "Apply indexing strategies to improve query performance and reduce execution time"
      }
    ],
    "prompt_templates": [
      {
        "title": "CTE pattern",
        "scenario": "Need a common table expression",
        "prompt": "Show me how to write a CTE in SQL"
      },
      {
        "title": "Window function",
        "scenario": "Calculate running totals",
        "prompt": "How do I use SUM() OVER for running totals"
      },
      {
        "title": "Index strategy",
        "scenario": "Optimize query performance",
        "prompt": "What index type should I use for JSONB queries"
      },
      {
        "title": "Join types",
        "scenario": "Understand join differences",
        "prompt": "Explain the difference between INNER JOIN and LEFT JOIN"
      }
    ],
    "output_examples": [
      {
        "input": "Show me how to write a CTE in SQL",
        "output": [
          "Common Table Expressions (CTEs) help organize complex queries:",
          "â€¢ Define a named subquery with WITH clause",
          "â€¢ Chain multiple CTEs together",
          "â€¢ Improve readability of nested queries",
          "Example: WITH active_users AS (SELECT id, name FROM users WHERE status = 'active') SELECT * FROM active_users;"
        ]
      }
    ],
    "best_practices": [
      "List columns explicitly instead of using SELECT *",
      "Use keyset pagination (WHERE id > X) instead of OFFSET for large datasets",
      "Place the most selective column first in composite indexes"
    ],
    "anti_patterns": [
      "Using WHERE YEAR(date) = 2024 instead of date range predicates",
      "Using NOT IN with NULL values causing unexpected results",
      "Writing N+1 queries instead of using JOIN or batch operations"
    ],
    "faq": [
      {
        "question": "Which databases support window functions?",
        "answer": "Most modern databases support window functions including PostgreSQL, MySQL 8+, SQL Server, Oracle, and BigQuery."
      },
      {
        "question": "What is the maximum offset for pagination?",
        "answer": "Avoid large OFFSET values. Keyset pagination with WHERE clause performs better for deep pagination."
      },
      {
        "question": "Can I use these patterns with ORMs?",
        "answer": "Yes. Patterns translate to raw SQL. Some ORM query builders can express CTEs and window functions."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "Yes. This skill only provides reference documentation. It never connects to databases or processes user data."
      },
      {
        "question": "Why is my query slow despite having an index?",
        "answer": "Check if the query uses the indexed column in functions. Also verify column order matches the leftmost prefix rule."
      },
      {
        "question": "How does this differ from online SQL documentation?",
        "answer": "This skill provides curated, verified patterns specifically formatted for AI assistants to use in context."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "indexing-strategies.md",
          "type": "file",
          "path": "references/indexing-strategies.md"
        },
        {
          "name": "window-functions.md",
          "type": "file",
          "path": "references/window-functions.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
