{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T03:42:53.555Z",
    "slug": "k-dense-ai-pysam",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/pysam",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "5612cc9dad45f8ff0e570969a296f30caefc3e0824ee36167b85706a67f5cf31",
    "tree_hash": "0661885db9e7234a34038d11c2aeb7a0d3c420c661cd64a08f017c38c26f38f6"
  },
  "skill": {
    "name": "pysam",
    "description": "Genomic file toolkit. Read/write SAM/BAM/CRAM alignments, VCF/BCF variants, FASTA/FASTQ sequences, extract regions, calculate coverage, for NGS data processing pipelines.",
    "summary": "Genomic file toolkit. Read/write SAM/BAM/CRAM alignments, VCF/BCF variants, FASTA/FASTQ sequences, e...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "MIT license",
    "category": "data",
    "tags": [
      "bioinformatics",
      "genomics",
      "pysam",
      "ngs",
      "variants"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No data theft, malicious execution, or obfuscation patterns were found. Content is documentation and example usage aligned with the stated purpose.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 1834,
    "audit_model": "codex",
    "audited_at": "2026-01-02T03:42:53.554Z"
  },
  "content": {
    "user_title": "Analyze genomic files with Pysam",
    "value_statement": "Struggling to inspect alignment, variant, and sequence files at scale. This skill guides pysam workflows to query regions, calculate coverage, and write outputs.",
    "seo_keywords": [
      "pysam",
      "genomics",
      "bioinformatics",
      "BAM",
      "VCF",
      "FASTA",
      "Claude",
      "Codex",
      "Claude Code",
      "NGS"
    ],
    "actual_capabilities": [
      "Read and write SAM, BAM, and CRAM alignment files with AlignmentFile",
      "Query regions with fetch, count reads, and compute per base coverage",
      "Read and write VCF or BCF variant files and access INFO and FORMAT fields",
      "Extract reference sequences from FASTA and process FASTQ reads",
      "Run samtools and bcftools commands through pysam wrappers"
    ],
    "limitations": [
      "Random access requires index files such as .bai, .crai, .tbi, or .fai",
      "Coordinate systems mix 0 based Python and 1 based region strings",
      "Streaming supports only stdin and stdout, not arbitrary file objects",
      "Thread safety is not fully validated for complex parallel usage"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatician",
        "title": "Region based BAM analysis",
        "description": "Fetch reads from specific loci, compute coverage, and summarize alignment quality."
      },
      {
        "target_user": "Genetics analyst",
        "title": "Variant file filtering",
        "description": "Inspect VCF records, filter by quality, and extract sample genotypes."
      },
      {
        "target_user": "Pipeline engineer",
        "title": "Sequence extraction tasks",
        "description": "Pull FASTA regions or FASTQ reads to feed downstream tools and reports."
      }
    ],
    "prompt_templates": [
      {
        "title": "Read a BAM region",
        "scenario": "Beginner region query",
        "prompt": "Show me how to open a BAM file and fetch reads from chr1:1000-2000 using pysam."
      },
      {
        "title": "Compute coverage",
        "scenario": "Intermediate coverage summary",
        "prompt": "Provide a pysam example to compute per base coverage on chr2:5000-5200 and summarize A C G T counts."
      },
      {
        "title": "Filter VCF variants",
        "scenario": "Intermediate variant filtering",
        "prompt": "Write a pysam snippet that reads a VCF and outputs variants with QUAL above 30 and at least one sample GT."
      },
      {
        "title": "Integrate BAM and VCF",
        "scenario": "Advanced validation workflow",
        "prompt": "Outline a workflow that validates VCF variants against BAM read support and reports low support sites."
      }
    ],
    "output_examples": [
      {
        "input": "Summarize how to fetch reads from a BAM region and count coverage.",
        "output": [
          "Open the BAM with AlignmentFile in read binary mode",
          "Fetch reads overlapping the target region with fetch",
          "Use count_coverage to report per base A C G T counts"
        ]
      }
    ],
    "best_practices": [
      "Create required index files before random access queries",
      "Use pileup or count_coverage for base level metrics",
      "Close files explicitly to release resources"
    ],
    "anti_patterns": [
      "Assuming fetch uses 1 based coordinates for integer arguments",
      "Iterating the whole file for counts when count can be used",
      "Using Python file objects for streaming instead of stdin or stdout"
    ],
    "faq": [
      {
        "question": "Is this compatible with BAM, CRAM, VCF, and FASTA?",
        "answer": "Yes, the skill covers pysam usage for these formats and their indexes."
      },
      {
        "question": "What are the main limits to random access?",
        "answer": "Random access requires the correct index files such as .bai, .crai, or .tbi."
      },
      {
        "question": "Can I integrate this with samtools or bcftools?",
        "answer": "Yes, pysam provides samtools and bcftools command wrappers."
      },
      {
        "question": "Does the skill access my data or secrets?",
        "answer": "No, it provides local code examples and documentation only."
      },
      {
        "question": "What if fetch returns unexpected reads?",
        "answer": "Fetch returns reads overlapping the region; verify coordinate systems and boundaries."
      },
      {
        "question": "How does this compare to direct htslib use?",
        "answer": "This skill focuses on the Pythonic pysam interface instead of C level APIs."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "alignment_files.md",
          "type": "file",
          "path": "references/alignment_files.md"
        },
        {
          "name": "common_workflows.md",
          "type": "file",
          "path": "references/common_workflows.md"
        },
        {
          "name": "sequence_files.md",
          "type": "file",
          "path": "references/sequence_files.md"
        },
        {
          "name": "variant_files.md",
          "type": "file",
          "path": "references/variant_files.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
