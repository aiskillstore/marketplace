{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T01:33:34.669Z",
    "slug": "k-dense-ai-anndata",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/anndata",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "anndata",
    "description": "This skill should be used when working with annotated data matrices in Python, particularly for single-cell genomics analysis, managing experimental measurements with metadata, or handling large-scale biological datasets. Use when tasks involve AnnData objects, h5ad files, single-cell RNA-seq data, or integration with scanpy/scverse tools.",
    "summary": "This skill should be used when working with annotated data matrices in Python, particularly for sing...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "BSD-3-Clause license",
    "category": "research",
    "tags": [
      "anndata",
      "single-cell",
      "h5ad",
      "scverse",
      "data-io"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill contains documentation and code examples only. No file system access, network calls, or execution logic is present.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 2552,
    "audit_model": "codex",
    "audited_at": "2026-01-02T01:33:34.669Z"
  },
  "content": {
    "user_title": "Use AnnData for single cell data tasks",
    "value_statement": "You need a reliable way to organize annotated matrices with metadata. This skill explains AnnData structure, I/O, and manipulation patterns for large datasets.",
    "seo_keywords": [
      "AnnData",
      "single-cell RNA-seq",
      "h5ad",
      "scanpy",
      "scverse",
      "zarr",
      "Claude",
      "Codex",
      "Claude Code",
      "metadata management"
    ],
    "actual_capabilities": [
      "Create AnnData objects with X, obs, and var",
      "Read and write h5ad and zarr files, including backed mode",
      "Subset and filter observations and variables by metadata",
      "Concatenate multiple AnnData objects with join and merge options",
      "Manage layers, embeddings, and unstructured annotations"
    ],
    "limitations": [
      "Does not run full analysis pipelines like clustering or UMAP",
      "Does not validate biological assumptions or experimental design",
      "Does not clean or normalize data beyond examples",
      "Does not guarantee performance on very large files without backed mode"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatician",
        "title": "Prepare single cell dataset",
        "description": "Load h5ad data, add metadata, and subset cells for analysis."
      },
      {
        "target_user": "Data engineer",
        "title": "Convert formats at scale",
        "description": "Convert between CSV, MTX, h5ad, and zarr for pipeline inputs."
      },
      {
        "target_user": "Research analyst",
        "title": "Merge batches safely",
        "description": "Concatenate multiple batches and track batch labels."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create AnnData",
        "scenario": "Start a dataset with metadata",
        "prompt": "Show how to create an AnnData object with X, obs, and var for 100 cells and 2000 genes."
      },
      {
        "title": "Read large file",
        "scenario": "Work with huge h5ad data",
        "prompt": "Explain how to open a large h5ad file in backed mode and load a filtered subset into memory."
      },
      {
        "title": "Concatenate batches",
        "scenario": "Combine multiple samples",
        "prompt": "Provide a safe concatenation pattern for three AnnData objects with batch labels and inner join."
      },
      {
        "title": "Optimize storage",
        "scenario": "Reduce file size",
        "prompt": "List steps to reduce AnnData file size before writing to h5ad."
      }
    ],
    "output_examples": [
      {
        "input": "How do I subset T cells and save the result as h5ad with compression?",
        "output": [
          "Filter observations by obs['cell_type'] equals T cell",
          "Create a copy to avoid view side effects",
          "Write to h5ad with gzip compression"
        ]
      }
    ],
    "best_practices": [
      "Use backed mode for datasets larger than RAM",
      "Convert string columns to categoricals before saving",
      "Store raw data before heavy filtering"
    ],
    "anti_patterns": [
      "Editing views without copying first",
      "Concatenating batches without batch labels",
      "Loading huge h5ad files fully into memory"
    ],
    "faq": [
      {
        "question": "Is this compatible with Scanpy and scverse tools?",
        "answer": "Yes. It uses AnnData conventions that Scanpy and scverse tools expect."
      },
      {
        "question": "What are the limits for file size?",
        "answer": "There is no fixed limit, but use backed mode and chunking for very large files."
      },
      {
        "question": "Can I integrate with cloud storage?",
        "answer": "Yes. Zarr examples show access with fsspec for S3 or HTTPS stores."
      },
      {
        "question": "Does it access my data or credentials?",
        "answer": "No. The skill is documentation only and does not access files or secrets."
      },
      {
        "question": "What if reading a file is slow?",
        "answer": "Use backed mode, compression, and Zarr chunk tuning to improve performance."
      },
      {
        "question": "How does this compare to generic pandas advice?",
        "answer": "It focuses on AnnData structure, backed mode, and single cell formats."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "best_practices.md",
          "type": "file",
          "path": "references/best_practices.md"
        },
        {
          "name": "concatenation.md",
          "type": "file",
          "path": "references/concatenation.md"
        },
        {
          "name": "data_structure.md",
          "type": "file",
          "path": "references/data_structure.md"
        },
        {
          "name": "io_operations.md",
          "type": "file",
          "path": "references/io_operations.md"
        },
        {
          "name": "manipulation.md",
          "type": "file",
          "path": "references/manipulation.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
