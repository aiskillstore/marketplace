{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-03T04:08:39.564Z",
    "slug": "k-dense-ai-anndata",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/anndata",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "889912120885641c2574373c6142b6ef409b3a3a9dab6e4992508a11a4352e5c",
    "tree_hash": "d05c43b927c13a19f530ac7f6c5a919c0809e207d9ab868ffba5f8ba64ac78e2"
  },
  "skill": {
    "name": "anndata",
    "description": "This skill should be used when working with annotated data matrices in Python, particularly for single-cell genomics analysis, managing experimental measurements with metadata, or handling large-scale biological datasets. Use when tasks involve AnnData objects, h5ad files, single-cell RNA-seq data, or integration with scanpy/scverse tools.",
    "summary": "This skill should be used when working with annotated data matrices in Python, particularly for sing...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "BSD-3-Clause license",
    "category": "research",
    "tags": [
      "anndata",
      "single-cell",
      "h5ad",
      "scverse",
      "data-io"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill is documentation and examples only with no executable logic. It demonstrates local file I/O and optional remote storage access, which introduces low risk guidance.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "references/io_operations.md",
            "line_start": 14,
            "line_end": 31
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/io_operations.md",
            "line_start": 74,
            "line_end": 84
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Examples show remote data access via fsspec",
        "description": "The documentation includes remote access examples: \"store = fsspec.get_mapper('s3://bucket-name/data.zarr')\" and \"store = fsspec.get_mapper('https://example.com/data.zarr')\". This can enable network data access if followed, which could be misused to pull or push data to external endpoints.",
        "locations": [
          {
            "file": "references/io_operations.md",
            "line_start": 74,
            "line_end": 84
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 2801,
    "audit_model": "codex",
    "audited_at": "2026-01-03T04:08:39.564Z"
  },
  "content": {
    "user_title": "Learn AnnData for single cell data work",
    "value_statement": "You need a clear way to manage annotated matrices with metadata. This skill explains AnnData structure, file I/O, and safe manipulation patterns.",
    "seo_keywords": [
      "AnnData",
      "single-cell RNA-seq",
      "h5ad",
      "scanpy",
      "scverse",
      "Claude",
      "Codex",
      "Claude Code",
      "zarr"
    ],
    "actual_capabilities": [
      "Explain AnnData core components such as X, obs, var, layers, and uns",
      "Show how to read and write h5ad and zarr with compression and backed mode",
      "Provide subsetting and filtering patterns using metadata and masks",
      "Describe concatenation options with join, merge, and batch labels",
      "Outline format conversion steps across CSV, MTX, Loom, and 10X"
    ],
    "limitations": [
      "Does not run full analysis workflows like clustering or UMAP",
      "Does not validate experimental design or biological assumptions",
      "Does not execute code or access files on your behalf",
      "Does not cover advanced scverse tools beyond AnnData patterns"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatician",
        "title": "Prepare single cell dataset",
        "description": "Create AnnData with metadata and subset cells for downstream analysis."
      },
      {
        "target_user": "Data engineer",
        "title": "Standardize data formats",
        "description": "Convert between CSV, MTX, h5ad, and zarr for pipeline inputs."
      },
      {
        "target_user": "Research analyst",
        "title": "Combine batches safely",
        "description": "Concatenate samples and track batch labels with join strategies."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create AnnData",
        "scenario": "Start a small dataset",
        "prompt": "Show how to create an AnnData object with X, obs, and var for 100 cells and 2000 genes."
      },
      {
        "title": "Read large h5ad",
        "scenario": "Handle large files safely",
        "prompt": "Explain how to open a large h5ad file in backed mode and load a filtered subset into memory."
      },
      {
        "title": "Concatenate batches",
        "scenario": "Merge multiple samples",
        "prompt": "Provide a safe concatenation pattern for three AnnData objects with batch labels and inner join."
      },
      {
        "title": "Optimize storage",
        "scenario": "Reduce file size",
        "prompt": "List steps to reduce AnnData file size before writing to h5ad with compression."
      }
    ],
    "output_examples": [
      {
        "input": "How do I subset T cells and save the result as h5ad with compression?",
        "output": [
          "Filter observations where obs['cell_type'] equals T cell",
          "Create a copy to avoid view side effects",
          "Write to h5ad with gzip compression"
        ]
      }
    ],
    "best_practices": [
      "Use backed mode for datasets larger than RAM",
      "Convert repeated string columns to categoricals",
      "Store raw data before heavy filtering"
    ],
    "anti_patterns": [
      "Editing a view without copying first",
      "Concatenating batches without labels",
      "Loading huge h5ad files fully into memory"
    ],
    "faq": [
      {
        "question": "Is it compatible with Scanpy and scverse tools?",
        "answer": "Yes. It follows AnnData conventions used by Scanpy and scverse."
      },
      {
        "question": "What are the limits on file size?",
        "answer": "There is no fixed limit, but backed mode and chunking are needed for very large files."
      },
      {
        "question": "Can it integrate with cloud storage?",
        "answer": "Yes. It shows Zarr access with fsspec for S3 or HTTPS stores."
      },
      {
        "question": "Does it access my data or credentials?",
        "answer": "No. It is documentation only and does not access files or secrets."
      },
      {
        "question": "What if reading a file is slow?",
        "answer": "Use backed mode, compression, and tuned chunks to improve performance."
      },
      {
        "question": "How does it compare to pandas guidance?",
        "answer": "It focuses on AnnData structure, backed mode, and single cell formats."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "best_practices.md",
          "type": "file",
          "path": "references/best_practices.md"
        },
        {
          "name": "concatenation.md",
          "type": "file",
          "path": "references/concatenation.md"
        },
        {
          "name": "data_structure.md",
          "type": "file",
          "path": "references/data_structure.md"
        },
        {
          "name": "io_operations.md",
          "type": "file",
          "path": "references/io_operations.md"
        },
        {
          "name": "manipulation.md",
          "type": "file",
          "path": "references/manipulation.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
