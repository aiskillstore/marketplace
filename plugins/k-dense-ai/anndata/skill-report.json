{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T11:03:21.526Z",
    "slug": "k-dense-ai-anndata",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/anndata",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "889912120885641c2574373c6142b6ef409b3a3a9dab6e4992508a11a4352e5c",
    "tree_hash": "47ec3a1d3920df144b760424f929ead3f441123f3fde0f30a9e0bac4635ee7cc"
  },
  "skill": {
    "name": "anndata",
    "description": "This skill should be used when working with annotated data matrices in Python, particularly for single-cell genomics analysis, managing experimental measurements with metadata, or handling large-scale biological datasets. Use when tasks involve AnnData objects, h5ad files, single-cell RNA-seq data, or integration with scanpy/scverse tools.",
    "summary": "This skill should be used when working with annotated data matrices in Python, particularly for sing...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "BSD-3-Clause license",
    "category": "research",
    "tags": [
      "anndata",
      "single-cell",
      "h5ad",
      "scverse",
      "data-io"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill is documentation and examples only with no executable automation. It demonstrates local file I/O and optional remote data access patterns, which introduces low risk guidance.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "references/io_operations.md",
            "line_start": 14,
            "line_end": 31
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/io_operations.md",
            "line_start": 74,
            "line_end": 84
          },
          {
            "file": "references/io_operations.md",
            "line_start": 283,
            "line_end": 294
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Remote data access examples",
        "description": "The documentation includes remote access examples such as \"store = fsspec.get_mapper('s3://bucket-name/data.zarr')\" and \"urllib.request.urlretrieve(url, 'local_file.h5ad')\". These patterns enable network data transfer if followed, which could be misused to fetch or exfiltrate data to external endpoints.",
        "locations": [
          {
            "file": "references/io_operations.md",
            "line_start": 74,
            "line_end": 84
          },
          {
            "file": "references/io_operations.md",
            "line_start": 287,
            "line_end": 294
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 8,
    "total_lines": 2819,
    "audit_model": "codex",
    "audited_at": "2026-01-04T11:03:21.526Z"
  },
  "content": {
    "user_title": "Master AnnData for annotated matrices",
    "value_statement": "You need a clear way to store matrices with rich metadata. This skill explains AnnData structure, file I O, and safe manipulation patterns.",
    "seo_keywords": [
      "AnnData",
      "single-cell RNA-seq",
      "h5ad",
      "scanpy",
      "scverse",
      "Claude",
      "Codex",
      "Claude Code",
      "zarr"
    ],
    "actual_capabilities": [
      "Explain AnnData components such as X, obs, var, layers, and uns",
      "Show how to read and write h5ad and zarr with backed mode",
      "Provide subsetting and filtering patterns using metadata and masks",
      "Describe concatenation options with join, merge, and batch labels",
      "Outline format conversion steps across CSV, MTX, Loom, and 10X"
    ],
    "limitations": [
      "Does not run analysis workflows or train models",
      "Does not validate biological assumptions or experimental design",
      "Does not execute code or access files on your behalf",
      "Does not configure cloud credentials or storage permissions"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatician",
        "title": "Prepare single cell dataset",
        "description": "Create AnnData with metadata and subset cells for downstream analysis."
      },
      {
        "target_user": "Data engineer",
        "title": "Standardize file formats",
        "description": "Convert between CSV, MTX, h5ad, and zarr for pipeline inputs."
      },
      {
        "target_user": "Research analyst",
        "title": "Combine study batches",
        "description": "Concatenate datasets with labels and choose safe join strategies."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start with AnnData",
        "scenario": "New to AnnData and need a basic structure",
        "prompt": "Explain the core AnnData components and show a minimal example with X, obs, and var."
      },
      {
        "title": "Read and write h5ad",
        "scenario": "Work with local h5ad files",
        "prompt": "Show how to read a h5ad file in backed mode and write a compressed output."
      },
      {
        "title": "Subset and filter",
        "scenario": "Filter cells and genes by metadata",
        "prompt": "Provide patterns to subset by obs metadata and select highly variable genes."
      },
      {
        "title": "Concatenate batches",
        "scenario": "Combine multiple datasets safely",
        "prompt": "Explain concatenation with batch labels, join options, and merge strategies for var metadata."
      }
    ],
    "output_examples": [
      {
        "input": "Summarize the steps to read a large h5ad file and filter high quality cells.",
        "output": [
          "Open the file in backed read-only mode to avoid loading all data",
          "Filter observations using metadata conditions on obs",
          "Load the filtered subset into memory for further processing",
          "Save the result to a new h5ad file with compression"
        ]
      }
    ],
    "best_practices": [
      "Use backed mode for datasets that exceed available memory",
      "Convert repeated strings to categoricals before saving",
      "Track batch sources with labels and keys during concatenation"
    ],
    "anti_patterns": [
      "Load a very large h5ad file fully into memory",
      "Modify a view without copying when persistence matters",
      "Assume external metadata aligns without index matching"
    ],
    "faq": [
      {
        "question": "Is this skill compatible with Claude, Codex, and Claude Code",
        "answer": "Yes. It provides guidance that works across Claude, Codex, and Claude Code."
      },
      {
        "question": "What are the main limits of this skill",
        "answer": "It provides guidance only and does not execute code or access your data."
      },
      {
        "question": "Can it integrate with Scanpy workflows",
        "answer": "Yes. It includes patterns that align with AnnData use in Scanpy."
      },
      {
        "question": "Does it send my data to external services",
        "answer": "No. It is documentation only and does not run network requests."
      },
      {
        "question": "How do I troubleshoot out of memory errors",
        "answer": "Use backed mode, load filtered subsets, and consider sparse matrices."
      },
      {
        "question": "How does it compare to general Python help",
        "answer": "It focuses on AnnData specific structure, I O, and best practices."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "best_practices.md",
          "type": "file",
          "path": "references/best_practices.md"
        },
        {
          "name": "concatenation.md",
          "type": "file",
          "path": "references/concatenation.md"
        },
        {
          "name": "data_structure.md",
          "type": "file",
          "path": "references/data_structure.md"
        },
        {
          "name": "io_operations.md",
          "type": "file",
          "path": "references/io_operations.md"
        },
        {
          "name": "manipulation.md",
          "type": "file",
          "path": "references/manipulation.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
