{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T03:07:32.998Z",
    "slug": "k-dense-ai-neuropixels-analysis",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/neuropixels-analysis",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "26fa60ee1f285f421ceb3dffe9dc272be8589ce64857a000f213421af41da714",
    "tree_hash": "60f6d829431674ea71e4941dd33cb3d4e48313dc9c72ce9ae395fb994b69b713"
  },
  "skill": {
    "name": "neuropixels-analysis",
    "description": "Neuropixels neural recording analysis. Load SpikeGLX/OpenEphys data, preprocess, motion correction, Kilosort4 spike sorting, quality metrics, Allen/IBL curation, AI-assisted visual analysis, for Neuropixels 1.0/2.0 extracellular electrophysiology. Use when working with neural recordings, spike sorting, extracellular electrophysiology, or when the user mentions Neuropixels, SpikeGLX, Open Ephys, Kilosort, quality metrics, or unit curation.",
    "summary": "Neuropixels neural recording analysis. Load SpikeGLX/OpenEphys data, preprocess, motion correction, ...",
    "icon": "ðŸ§ ",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "MIT license",
    "category": "research",
    "tags": [
      "neuropixels",
      "spike-sorting",
      "electrophysiology",
      "spikeinterface",
      "curation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No credential access, environment harvesting, or network exfiltration patterns were found. The scripts operate on user provided data and local outputs only.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 18,
    "total_lines": 5338,
    "audit_model": "codex",
    "audited_at": "2026-01-02T03:07:32.997Z"
  },
  "content": {
    "user_title": "Analyze Neuropixels recordings end to end",
    "value_statement": "Neuropixels datasets are large and complex to process. This skill guides preprocessing, sorting, metrics, and curation with reproducible scripts and references.",
    "seo_keywords": [
      "Neuropixels analysis",
      "SpikeInterface",
      "Kilosort4",
      "spike sorting",
      "quality metrics",
      "Claude",
      "Codex",
      "Claude Code",
      "electrophysiology",
      "neural data analysis"
    ],
    "actual_capabilities": [
      "Load SpikeGLX, Open Ephys, and NWB recordings",
      "Preprocess data with filtering, phase shift, and bad channel removal",
      "Estimate drift and apply motion correction",
      "Run spike sorting with Kilosort4 and alternatives",
      "Compute quality metrics and apply curation rules",
      "Export results to Phy and generate reports"
    ],
    "limitations": [
      "Requires SpikeInterface and selected sorters installed",
      "Kilosort4 needs a compatible GPU to run efficiently",
      "AI curation examples need external API keys",
      "Does not download or fetch datasets automatically"
    ],
    "use_cases": [
      {
        "target_user": "Neuroscience researcher",
        "title": "Full pipeline run",
        "description": "Process raw Neuropixels data through sorting, metrics, and exports for analysis."
      },
      {
        "target_user": "Lab data engineer",
        "title": "Standardized preprocessing",
        "description": "Apply consistent filters, bad channel detection, and motion correction across sessions."
      },
      {
        "target_user": "Graduate student",
        "title": "Quality control review",
        "description": "Compute metrics and apply Allen or IBL curation thresholds for unit labels."
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick start",
        "scenario": "New dataset in SpikeGLX",
        "prompt": "Show a minimal pipeline to load SpikeGLX data, preprocess, run Kilosort4, and export to Phy."
      },
      {
        "title": "Preprocess only",
        "scenario": "Need cleaned recording",
        "prompt": "Guide me to preprocess Neuropixels data with bandpass, phase shift, bad channel removal, and CMR, then save outputs."
      },
      {
        "title": "Metrics and curation",
        "scenario": "Sorted data ready",
        "prompt": "Compute quality metrics from a sorting and apply Allen curation rules, then save labels and a summary."
      },
      {
        "title": "Drift check",
        "scenario": "Long recording session",
        "prompt": "Add drift detection and motion correction steps to the pipeline and explain when to apply correction."
      }
    ],
    "output_examples": [
      {
        "input": "Summarize the steps and outputs of the full Neuropixels pipeline.",
        "output": [
          "Load recording and report channels, duration, and sampling rate",
          "Preprocess with high pass filter, phase shift, bad channel removal, and CMR",
          "Check drift and apply motion correction when needed",
          "Run spike sorting and compute quality metrics",
          "Curate units and export Phy files, reports, and summary tables"
        ]
      }
    ],
    "best_practices": [
      "Check drift before spike sorting and apply correction when needed",
      "Document curation thresholds and keep them consistent across datasets",
      "Save preprocessed data to avoid repeated heavy computation"
    ],
    "anti_patterns": [
      "Running Kilosort4 without verifying GPU availability",
      "Skipping bad channel detection on raw recordings",
      "Using AI curation without human review for key results"
    ],
    "faq": [
      {
        "question": "What data formats are supported?",
        "answer": "SpikeGLX, Open Ephys, and NWB inputs are supported through SpikeInterface readers."
      },
      {
        "question": "What are the main limits?",
        "answer": "Large datasets require significant CPU, RAM, and GPU for Kilosort4 performance."
      },
      {
        "question": "Can I integrate this with my existing pipeline?",
        "answer": "Yes, scripts are modular and can be called from your own workflow."
      },
      {
        "question": "Is my data sent anywhere?",
        "answer": "No, the provided scripts process data locally. AI API use is optional and user controlled."
      },
      {
        "question": "What if a sorter fails to run?",
        "answer": "Check sorter installation, GPU drivers, and SpikeInterface version compatibility."
      },
      {
        "question": "How does this compare to manual curation?",
        "answer": "It accelerates preprocessing and metrics while still supporting manual review in Phy."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "analysis_template.py",
          "type": "file",
          "path": "assets/analysis_template.py"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "AI_CURATION.md",
          "type": "file",
          "path": "references/AI_CURATION.md"
        },
        {
          "name": "ANALYSIS.md",
          "type": "file",
          "path": "references/ANALYSIS.md"
        },
        {
          "name": "api_reference.md",
          "type": "file",
          "path": "references/api_reference.md"
        },
        {
          "name": "AUTOMATED_CURATION.md",
          "type": "file",
          "path": "references/AUTOMATED_CURATION.md"
        },
        {
          "name": "MOTION_CORRECTION.md",
          "type": "file",
          "path": "references/MOTION_CORRECTION.md"
        },
        {
          "name": "plotting_guide.md",
          "type": "file",
          "path": "references/plotting_guide.md"
        },
        {
          "name": "PREPROCESSING.md",
          "type": "file",
          "path": "references/PREPROCESSING.md"
        },
        {
          "name": "QUALITY_METRICS.md",
          "type": "file",
          "path": "references/QUALITY_METRICS.md"
        },
        {
          "name": "SPIKE_SORTING.md",
          "type": "file",
          "path": "references/SPIKE_SORTING.md"
        },
        {
          "name": "standard_workflow.md",
          "type": "file",
          "path": "references/standard_workflow.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "compute_metrics.py",
          "type": "file",
          "path": "scripts/compute_metrics.py"
        },
        {
          "name": "explore_recording.py",
          "type": "file",
          "path": "scripts/explore_recording.py"
        },
        {
          "name": "export_to_phy.py",
          "type": "file",
          "path": "scripts/export_to_phy.py"
        },
        {
          "name": "neuropixels_pipeline.py",
          "type": "file",
          "path": "scripts/neuropixels_pipeline.py"
        },
        {
          "name": "preprocess_recording.py",
          "type": "file",
          "path": "scripts/preprocess_recording.py"
        },
        {
          "name": "run_sorting.py",
          "type": "file",
          "path": "scripts/run_sorting.py"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
