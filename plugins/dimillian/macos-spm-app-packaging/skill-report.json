{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T14:05:27.438Z",
    "slug": "dimillian-macos-spm-app-packaging",
    "source_url": "https://github.com/Dimillian/Skills/tree/main/macos-spm-app-packaging",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "bacaf081b91615b3769185ae19d172fa8a798636f57e3e69e602eb8448d6106f",
    "tree_hash": "73d19b7e0adbd212dd99754e463d6620b3ab2c7d6dd6d68e4edb744560de1a45"
  },
  "skill": {
    "name": "macos-spm-app-packaging",
    "description": "Scaffold, build, and package SwiftPM-based macOS apps without an Xcode project. Use when you need a from-scratch macOS app layout, SwiftPM targets/resources, a custom .app bundle assembly script, or signing/notarization/appcast steps outside Xcode.",
    "summary": "Scaffold, build, and package SwiftPM-based macOS apps without an Xcode project. Use when you need a ...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "Dimillian",
    "license": "MIT",
    "category": "development",
    "tags": [
      "macos",
      "swift",
      "packaging",
      "swiftpm",
      "cli"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Legitimate macOS app development tooling. Contains shell scripts for building, packaging, signing, and releasing SwiftPM-based macOS applications using standard Apple development tools. No malicious code, credential theft, or data exfiltration detected.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "assets/templates/build_icon.sh",
            "line_start": 1,
            "line_end": 50
          },
          {
            "file": "assets/templates/launch.sh",
            "line_start": 1,
            "line_end": 29
          },
          {
            "file": "assets/templates/compile_and_run.sh",
            "line_start": 1,
            "line_end": 64
          },
          {
            "file": "assets/templates/sign-and-notarize.sh",
            "line_start": 1,
            "line_end": 53
          },
          {
            "file": "assets/templates/setup_dev_signing.sh",
            "line_start": 1,
            "line_end": 53
          },
          {
            "file": "assets/templates/make_appcast.sh",
            "line_start": 1,
            "line_end": 83
          },
          {
            "file": "assets/templates/package_app.sh",
            "line_start": 1,
            "line_end": 207
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "assets/templates/package_app.sh",
            "line_start": 32,
            "line_end": 34
          },
          {
            "file": "assets/templates/package_app.sh",
            "line_start": 126,
            "line_end": 140
          },
          {
            "file": "assets/templates/launch.sh",
            "line_start": 13,
            "line_end": 17
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "assets/templates/package_app.sh",
            "line_start": 28,
            "line_end": 30
          },
          {
            "file": "assets/templates/package_app.sh",
            "line_start": 115,
            "line_end": 121
          },
          {
            "file": "assets/templates/sign-and-notarize.sh",
            "line_start": 22,
            "line_end": 24
          },
          {
            "file": "assets/templates/sign-and-notarize.sh",
            "line_start": 36,
            "line_end": 42
          },
          {
            "file": "assets/templates/setup_dev_signing.sh",
            "line_start": 36,
            "line_end": 45
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 16,
    "total_lines": 706,
    "audit_model": "claude",
    "audited_at": "2026-01-10T14:05:27.438Z"
  },
  "content": {
    "user_title": "Package SwiftPM macOS apps without Xcode",
    "value_statement": "Creating macOS apps with Swift Package Manager requires complex build and packaging steps outside Xcode. This skill provides ready-to-use shell scripts that scaffold, build, sign, notarize, and release SwiftPM apps with proper .app bundle structure.",
    "seo_keywords": [
      "macOS app packaging",
      "SwiftPM build scripts",
      "Swift Package Manager macOS",
      "Xcode-free macOS development",
      "macOS app signing",
      "Apple notarization script",
      "Claude macOS development",
      "Codex Swift packaging",
      "macOS bundle creation",
      "Swift macOS deployment"
    ],
    "actual_capabilities": [
      "Bootstrap a complete SwiftPM macOS app folder structure",
      "Build SwiftPM projects for arm64 and x86_64 architectures",
      "Create properly structured .app bundles with Info.plist",
      "Sign and notarize apps for distribution outside the App Store",
      "Generate Sparkle appcast entries for automatic updates",
      "Create self-signed development certificates for testing"
    ],
    "limitations": [
      "Requires macOS and Xcode Command Line Tools installed",
      "Does not generate SwiftUI or AppKit code beyond a minimal template",
      "Notarization requires App Store Connect API credentials",
      "App Store distribution requires additional Xcode configuration"
    ],
    "use_cases": [
      {
        "target_user": "Independent macOS developers",
        "title": "Lightweight CI/CD pipelines",
        "description": "Build and package macOS apps in CI environments without full Xcode project files"
      },
      {
        "target_user": "Swift library authors",
        "title": "Desktop app examples",
        "description": "Create sample macOS apps that demonstrate library usage without Xcode complexity"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Automated release workflows",
        "description": "Script signing, notarization, and appcast generation for automated releases"
      }
    ],
    "prompt_templates": [
      {
        "title": "Bootstrap new app",
        "scenario": "Create a new SwiftPM macOS project",
        "prompt": "Use the macos-spm-app-packaging skill to bootstrap a new SwiftPM macOS app called MyApp with bundle ID com.example.myapp. Copy the bootstrap template and set MARKETING_VERSION to 1.0.0."
      },
      {
        "title": "Build universal binary",
        "scenario": "Compile for both Apple Silicon and Intel",
        "prompt": "Use macos-spm-app-packaging to build a universal binary for MyApp. Set ARCHES to 'arm64 x86_64' and run swift build in release configuration."
      },
      {
        "title": "Package and sign",
        "scenario": "Create a signed release build",
        "prompt": "Use package_app.sh from macos-spm-app-packaging to create a signed .app bundle for MyApp. Set APP_IDENTITY to your Developer ID certificate name and use runtime signing options."
      },
      {
        "title": "Notarize for release",
        "scenario": "Submit app for Apple notarization",
        "prompt": "Use sign-and-notarize.sh from macos-spm-app-packaging to notarize the MyApp release. Provide APP_STORE_CONNECT_API_KEY_P8, APP_STORE_CONNECT_KEY_ID, and APP_STORE_CONNECT_ISSUER_ID environment variables."
      }
    ],
    "output_examples": [
      {
        "input": "Bootstrap a new SwiftPM macOS app called ImageResizer with bundle ID com.example.imageresizer. Set MARKETING_VERSION to 2.1.0 and BUILD_NUMBER to 42.",
        "output": [
          "Created project structure at /Users/dev/ImageResizer/",
          "Package.swift configured with macOS .v14 target",
          "version.env: MARKETING_VERSION=2.1.0, BUILD_NUMBER=42",
          "Sources/ImageResizer/main.swift: SwiftUI Hello World template",
          "Next: Copy Scripts/package_app.sh and customize APP_NAME, BUNDLE_ID"
        ]
      }
    ],
    "best_practices": [
      "Use environment variables (APP_NAME, BUNDLE_ID) to make scripts reusable across projects",
      "Increment BUILD_NUMBER for each release to support Sparkle auto-update comparisons",
      "Test signing with adhoc mode before configuring production certificates"
    ],
    "anti_patterns": [
      "Hardcoding bundle identifiers or version numbers inside scripts instead of using version.env",
      "Skipping notarization when distributing outside the App Store (users will see Gatekeeper warnings)",
      "Using the same signing identity for development and release builds"
    ],
    "faq": [
      {
        "question": "Does this skill work on Linux or Windows?",
        "answer": "No. SwiftPM macOS packaging requires macOS and Xcode Command Line Tools. The scripts invoke Apple-specific tools like codesign and xcrun."
      },
      {
        "question": "What Swift versions are supported?",
        "answer": "Templates use swift-tools-version 6.2 and require macOS 14+. Adjust the tools version and platform target in Package.swift for older Swift or macOS versions."
      },
      {
        "question": "Can I use this with existing Xcode projects?",
        "answer": "This skill is for SwiftPM-based projects without Xcode. Existing Xcode projects already have build and packaging capabilities built in."
      },
      {
        "question": "Is my code safe when using these scripts?",
        "answer": "Yes. Scripts run locally and only access your project files. They do not transmit code or credentials anywhere. Notarization credentials are passed via environment variables."
      },
      {
        "question": "Why is my app rejected by Gatekeeper?",
        "answer": "Apps distributed outside the App Store must be signed and notarized. Run sign-and-notarize.sh or ensure --timestamp and --options runtime are used with codesign."
      },
      {
        "question": "How does this differ from Xcode archive?",
        "answer": "Xcode archive wraps builds in a proprietary format. These scripts create plain .app bundles and zips, ideal for direct distribution, CI/CD, or custom installers."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "templates",
          "type": "dir",
          "path": "assets/templates",
          "children": [
            {
              "name": "bootstrap",
              "type": "dir",
              "path": "assets/templates/bootstrap",
              "children": [
                {
                  "name": "Sources",
                  "type": "dir",
                  "path": "assets/templates/bootstrap/Sources"
                },
                {
                  "name": "Package.swift",
                  "type": "file",
                  "path": "assets/templates/bootstrap/Package.swift"
                },
                {
                  "name": "version.env",
                  "type": "file",
                  "path": "assets/templates/bootstrap/version.env"
                }
              ]
            },
            {
              "name": "build_icon.sh",
              "type": "file",
              "path": "assets/templates/build_icon.sh"
            },
            {
              "name": "compile_and_run.sh",
              "type": "file",
              "path": "assets/templates/compile_and_run.sh"
            },
            {
              "name": "launch.sh",
              "type": "file",
              "path": "assets/templates/launch.sh"
            },
            {
              "name": "make_appcast.sh",
              "type": "file",
              "path": "assets/templates/make_appcast.sh"
            },
            {
              "name": "package_app.sh",
              "type": "file",
              "path": "assets/templates/package_app.sh"
            },
            {
              "name": "setup_dev_signing.sh",
              "type": "file",
              "path": "assets/templates/setup_dev_signing.sh"
            },
            {
              "name": "sign-and-notarize.sh",
              "type": "file",
              "path": "assets/templates/sign-and-notarize.sh"
            },
            {
              "name": "version.env",
              "type": "file",
              "path": "assets/templates/version.env"
            }
          ]
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "packaging.md",
          "type": "file",
          "path": "references/packaging.md"
        },
        {
          "name": "release.md",
          "type": "file",
          "path": "references/release.md"
        },
        {
          "name": "scaffold.md",
          "type": "file",
          "path": "references/scaffold.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
