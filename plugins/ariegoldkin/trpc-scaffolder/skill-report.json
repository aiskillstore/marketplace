{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:31:10.449Z",
    "slug": "ariegoldkin-trpc-scaffolder",
    "source_url": "https://github.com/ArieGoldkin/devPrepAi/tree/main/.claude/skills/trpc-scaffolder",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c474e4c1a7761ad96570697e6e8b9e3c156d5c8c632ca29ffa29c1db8daf2f41",
    "tree_hash": "62ee102c7faa53bc71897e4d7b1ddb7f2053c40c6021b77aefac1bc2cce1ba3e"
  },
  "skill": {
    "name": "trpc-scaffolder",
    "description": "Scaffolds tRPC routers, procedures, and Zod schemas with full type safety following DevPrep AI patterns",
    "summary": "Scaffolds tRPC routers, procedures, and Zod schemas with full type safety following DevPrep AI patte...",
    "icon": "ðŸ—ï¸",
    "version": "1.0.0",
    "author": "ArieGoldkin",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "typescript",
      "trpc",
      "zod",
      "scaffolding",
      "api"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains shell scripts for scaffolding tRPC routers and schemas. Scripts only operate within the project directory structure, use standard Unix utilities for file operations, and make no network calls. All file access is constrained to predefined project paths.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/validate-trpc.sh",
            "line_start": 1,
            "line_end": 117
          },
          {
            "file": "scripts/create-schema.sh",
            "line_start": 1,
            "line_end": 68
          },
          {
            "file": "scripts/create-router.sh",
            "line_start": 1,
            "line_end": 64
          },
          {
            "file": "scripts/add-procedure.sh",
            "line_start": 1,
            "line_end": 73
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/validate-trpc.sh",
            "line_start": 14,
            "line_end": 101
          },
          {
            "file": "scripts/create-schema.sh",
            "line_start": 26,
            "line_end": 54
          },
          {
            "file": "scripts/create-router.sh",
            "line_start": 24,
            "line_end": 52
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/validate-trpc.sh",
            "line_start": 34,
            "line_end": 92
          },
          {
            "file": "scripts/create-schema.sh",
            "line_start": 50,
            "line_end": 54
          },
          {
            "file": "scripts/create-router.sh",
            "line_start": 48,
            "line_end": 52
          },
          {
            "file": "scripts/add-procedure.sh",
            "line_start": 53,
            "line_end": 59
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Shell scripts execute external commands",
        "description": "The skill uses bash scripts that invoke standard Unix utilities including find, grep, sed, mkdir, and basename for file operations. While these commands are standard and necessary for the scaffolding functionality, scripts that execute external commands should be reviewed to ensure they operate only on expected paths.\n\nRelevant code from scripts/validate-trpc.sh (lines 34, 56, 62, 78, 92):\n```\nROUTER_FILES=$(find \"$ROUTERS_DIR\" -name \"*.ts\" ! -name \"_app.ts\" -type f 2>/dev/null || true)\nif ! grep -q \"import.*${router_name}Router.*from.*\\\\./${router_name}\" \"$APP_ROUTER\"; then\n```",
        "locations": [
          {
            "file": "scripts/validate-trpc.sh",
            "line_start": 34,
            "line_end": 92
          },
          {
            "file": "scripts/create-schema.sh",
            "line_start": 45,
            "line_end": 54
          },
          {
            "file": "scripts/create-router.sh",
            "line_start": 43,
            "line_end": 52
          },
          {
            "file": "scripts/add-procedure.sh",
            "line_start": 53,
            "line_end": 59
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 13,
    "total_lines": 1610,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:31:10.449Z"
  },
  "content": {
    "user_title": "Create type-safe tRPC endpoints",
    "value_statement": "Building tRPC routers and Zod schemas manually takes 20-30 minutes per endpoint with risk of type errors and missing exports. This skill scaffolds complete type-safe endpoints with validation schemas, example patterns, and automated registration checks.",
    "seo_keywords": [
      "Claude tRPC scaffolder",
      "type-safe API TypeScript",
      "Zod schema generator",
      "tRPC router automation",
      "Next.js API endpoints",
      "Claude Code skill",
      "API procedure scaffold",
      "TypeScript validation schemas"
    ],
    "actual_capabilities": [
      "Create new tRPC router files with correct structure from templates",
      "Add query and mutation procedures to existing routers with code snippets",
      "Generate Zod validation schemas with type inference exports",
      "Validate router registration and schema compliance automatically",
      "Apply DevPrep AI naming conventions and best practices"
    ],
    "limitations": [
      "Designed for Next.js projects with tRPC v11 and Zod",
      "Operates within predefined project paths only",
      "Does not implement business logic for endpoints",
      "Scripts require bash shell and standard Unix utilities"
    ],
    "use_cases": [
      {
        "target_user": "Full-stack developers",
        "title": "Add new API endpoints",
        "description": "Quickly scaffold type-safe tRPC endpoints following project conventions for Next.js applications"
      },
      {
        "target_user": "Backend engineers",
        "title": "Generate validation schemas",
        "description": "Create Zod schemas with proper type inference for input and output validation"
      },
      {
        "target_user": "Team leads",
        "title": "Enforce code standards",
        "description": "Ensure all new endpoints follow consistent patterns with automated validation checks"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create new router",
        "scenario": "Need a new API module",
        "prompt": "Create a new tRPC router for user management. Use the trpc-scaffolder skill to generate the router file and Zod schemas."
      },
      {
        "title": "Add procedure",
        "scenario": "Extend existing endpoint",
        "prompt": "Add a query procedure called getUserProfile to the existing userRouter. Use the add-procedure.sh script from trpc-scaffolder."
      },
      {
        "title": "Generate schemas",
        "scenario": "New validation needs",
        "prompt": "Create Zod schemas for a notification entity. Use create-schema.sh to generate the schema file with input and output schemas."
      },
      {
        "title": "Validate setup",
        "scenario": "Check registration",
        "prompt": "Run the tRPC validation script to check if all routers are properly registered in _app.ts and schemas export types correctly."
      }
    ],
    "output_examples": [
      {
        "input": "Create a new tRPC router for analytics with a getDashboardStats query procedure",
        "output": [
          "Created router file: frontend/src/lib/trpc/routers/analytics.ts",
          "Procedure snippet generated for getDashboardStats",
          "Remember to register analyticsRouter in _app.ts",
          "Next: Create schemas in lib/trpc/schemas/analytics.schema.ts"
        ]
      }
    ],
    "best_practices": [
      "Always run validate-trpc.sh after creating new endpoints to ensure proper registration",
      "Export inferred types using z.infer<typeof schemaName> for full type safety",
      "Use query procedures for GET operations and mutation procedures for data modifications",
      "Register new routers in _app.ts before using them in the frontend"
    ],
    "anti_patterns": [
      "Skipping router registration in _app.ts - causes type errors at runtime",
      "Forgetting to export inferred types - breaks TypeScript inference",
      "Using mutation for read operations - violates REST conventions and caching",
      "Not running validation script - misses registration and export errors"
    ],
    "faq": [
      {
        "question": "What tRPC versions are supported?",
        "answer": "Designed for tRPC v11 with Next.js App Router. Works with Zod for validation."
      },
      {
        "question": "Where can I use this skill?",
        "answer": "Compatible with Claude, Codex, and Claude Code. Auto-triggers on tRPC and API-related keywords."
      },
      {
        "question": "Does it modify existing files?",
        "answer": "Scripts only create new files from templates. Validation script only reads files to check compliance."
      },
      {
        "question": "Is my data safe?",
        "answer": "Scripts operate within project directory only. No network calls. No external data transmission."
      },
      {
        "question": "What if validation fails?",
        "answer": "Check that router is imported and registered in _app.ts. Ensure schemas export types with z.infer."
      },
      {
        "question": "How is this different from tRPC CLI?",
        "answer": "Uses project-specific templates following DevPrep AI patterns. Includes validation and best practice enforcement."
      }
    ]
  },
  "file_structure": [
    {
      "name": "docs",
      "type": "dir",
      "path": "docs",
      "children": [
        {
          "name": "quick-start-guide.md",
          "type": "file",
          "path": "docs/quick-start-guide.md"
        },
        {
          "name": "trpc-patterns.md",
          "type": "file",
          "path": "docs/trpc-patterns.md"
        }
      ]
    },
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "good-router.ts",
          "type": "file",
          "path": "examples/good-router.ts"
        },
        {
          "name": "good-schema.ts",
          "type": "file",
          "path": "examples/good-schema.ts"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "add-procedure.sh",
          "type": "file",
          "path": "scripts/add-procedure.sh"
        },
        {
          "name": "create-router.sh",
          "type": "file",
          "path": "scripts/create-router.sh"
        },
        {
          "name": "create-schema.sh",
          "type": "file",
          "path": "scripts/create-schema.sh"
        },
        {
          "name": "validate-trpc.sh",
          "type": "file",
          "path": "scripts/validate-trpc.sh"
        }
      ]
    },
    {
      "name": "templates",
      "type": "dir",
      "path": "templates",
      "children": [
        {
          "name": "procedure.snippet",
          "type": "file",
          "path": "templates/procedure.snippet"
        },
        {
          "name": "router.ts.template",
          "type": "file",
          "path": "templates/router.ts.template"
        },
        {
          "name": "schema.ts.template",
          "type": "file",
          "path": "templates/schema.ts.template"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
