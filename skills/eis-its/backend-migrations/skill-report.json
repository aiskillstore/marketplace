{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T06:18:26.995Z",
    "slug": "eis-its-backend-migrations",
    "source_url": "https://github.com/EIS-ITS/vss-cli/tree/main/.claude/skills/backend-migrations",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "d01fdfafb82f8b138750182cf658c01d3b549ed6bb8b8d31bc2da3b736c105eb",
    "tree_hash": "959878b8d906eb096a37c7e66391564ca8c598323d5512ae48064ee0e296d5bf"
  },
  "skill": {
    "name": "backend-migrations",
    "description": "Create and manage database schema migrations with reversibility, zero-downtime deployment support, and proper version control. Use this skill when creating database migration files, modifying schema, adding or removing tables/columns, creating indexes, managing migration rollbacks, or planning database changes. Apply when working with migration files, schema changes, database versioning, or any task involving evolving database structure over time while maintaining backwards compatibility and data integrity.",
    "summary": "Create and manage database schema migrations with reversibility, zero-downtime deployment support, a...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "EIS-ITS",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "database",
      "migrations",
      "schema",
      "deployment"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill providing guidance on database migration best practices. All 21 static findings are FALSE POSITIVES: content hashes trigger weak crypto and C2 keyword alerts, relative documentation paths trigger path traversal alerts, and source URLs trigger hidden file access alerts. The skill contains no executable code, network calls, or file system operations - it only provides documentation references for migration patterns.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 204,
    "audit_model": "claude",
    "audited_at": "2026-01-17T06:18:26.995Z"
  },
  "content": {
    "user_title": "Manage Database Migrations with Zero-Downtime",
    "value_statement": "Database schema changes often cause downtime and data loss. This skill guides you through creating reversible, zero-downtime migrations that maintain data integrity.",
    "seo_keywords": [
      "database migrations",
      "zero-downtime deployment",
      "schema changes",
      "Claude Code",
      "database versioning",
      "migration rollback",
      "Claude",
      "database integrity",
      "backend development",
      "devops"
    ],
    "actual_capabilities": [
      "Guides creation of reversible database migrations",
      "Provides zero-downtime deployment strategies",
      "Advises on schema vs data migration separation",
      "Recommends backwards-compatible change patterns",
      "Suggests migration safety and reversibility checks"
    ],
    "limitations": [
      "Does not execute migrations automatically",
      "Requires manual implementation of migration code",
      "Database-specific syntax may vary",
      "No automatic rollback execution"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Safe Production Schema Updates",
        "description": "Deploy schema changes to production databases without downtime or data loss using proven migration patterns."
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Migration Review and Validation",
        "description": "Review migration files for safety, reversibility, and compliance with zero-downtime deployment standards."
      },
      {
        "target_user": "Database Administrators",
        "title": "Schema Evolution Planning",
        "description": "Plan complex schema refactorings while maintaining backwards compatibility and data integrity."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create Reversible Migration",
        "scenario": "Adding a new column with safe defaults",
        "prompt": "Create a reversible migration to add an email_verified boolean column to the users table with a safe default value of false and proper indexing."
      },
      {
        "title": "Zero-Downtime Deployment",
        "scenario": "Renaming a column without breaking the app",
        "prompt": "Design a multi-step migration strategy to rename the 'username' column to 'handle' in the users table with zero downtime."
      },
      {
        "title": "Migration Safety Check",
        "scenario": "Reviewing a migration for production safety",
        "prompt": "Review this migration for potential issues: [paste migration code]. Is it reversible? Could it cause downtime? Any data loss risks?"
      },
      {
        "title": "Rollback Strategy",
        "scenario": "Planning for failed deployments",
        "prompt": "Create a rollback migration for dropping the deprecated 'legacy_id' column from the products table, ensuring we can recover if needed."
      }
    ],
    "output_examples": [
      {
        "input": "Create a migration to add a status column to orders table with safe defaults",
        "output": [
          "1. Migration file: 20240110120000_add_status_to_orders.rb",
          "2. Up method: Adds status column with default 'pending' and NOT NULL constraint",
          "3. Down method: Removes status column safely",
          "4. Safety checks: Verify no existing NULL values, add index for queries",
          "5. Deployment: Run in maintenance window or use online schema change tool"
        ]
      },
      {
        "input": "Help me rename a column safely in PostgreSQL",
        "output": [
          "Step 1: Add new 'handle' column with proper default (empty string)",
          "Step 2: Migrate data from 'username' to 'handle' in batches",
          "Step 3: Update all application queries to use 'handle'",
          "Step 4: Make 'handle' NOT NULL after data migration",
          "Step 5: Add index on 'handle' for performance",
          "Step 6: Drop 'username' column in a later release"
        ]
      },
      {
        "input": "What makes a migration irreversible?",
        "output": [
          "Data destruction without backup (DROP COLUMN without backup plan)",
          "Data transformation that cannot be reversed",
          "Operations on large tables without proper locking considerations",
          "Missing down method in migration framework",
          "Dependencies on external systems that may change"
        ]
      }
    ],
    "best_practices": [
      "Always create reversible migrations with proper up and down methods",
      "Test migrations on a copy of production data before deployment",
      "Separate schema changes from data migrations for clarity and safety"
    ],
    "anti_patterns": [
      "Irreversible migrations without rollback plans",
      "Modifying data in schema migrations",
      "Deploying untested migrations directly to production"
    ],
    "faq": [
      {
        "question": "Which databases are supported?",
        "answer": "The skill provides general patterns applicable to PostgreSQL, MySQL, SQLite, and most SQL databases."
      },
      {
        "question": "How do I handle large tables?",
        "answer": "Use online schema change tools like pt-online-schema-change or built-in features like PostgreSQL's CONCURRENTLY."
      },
      {
        "question": "Can this integrate with my ORM?",
        "answer": "Yes, the patterns work with ActiveRecord, Sequelize, SQLAlchemy, and other ORMs that support migrations."
      },
      {
        "question": "Is my data safe during migrations?",
        "answer": "The skill emphasizes reversible migrations and backup strategies to ensure data safety during schema changes."
      },
      {
        "question": "What if a migration fails?",
        "answer": "Always have a rollback plan tested. The skill guides you through creating fail-safe migration strategies."
      },
      {
        "question": "How does this compare to migration generators?",
        "answer": "This skill provides intelligent guidance beyond basic generators, focusing on safety, reversibility, and zero-downtime patterns."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 29
    }
  ]
}
