{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T08:48:17.434Z",
    "slug": "0xdarkmatter-python-observability-patterns",
    "source_url": "https://github.com/0xDarkMatter/claude-mods/tree/main/skills/python-observability-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "f5ceb4cd93e3fe0f96ef13b1c8902326df5c88d889138e6f29f3857a139c2298",
    "tree_hash": "7ec7501536a423f8214644fa03b7d4f5d577510acf8ca06893c3a723621c5000"
  },
  "skill": {
    "name": "python-observability-patterns",
    "description": "Observability patterns for Python applications. Triggers on: logging, metrics, tracing, opentelemetry, prometheus, observability, monitoring, structlog, correlation id.",
    "summary": "Observability patterns for Python applications. Triggers on: logging, metrics, tracing, opentelemetr...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "0xDarkMatter",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "logging",
      "monitoring",
      "metrics",
      "tracing",
      "opentelemetry"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing observability patterns for Python. No executable code, network calls, file system access, or external commands. Purely informational content with example code snippets for legitimate devops patterns like structlog, Prometheus, and OpenTelemetry.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 1213,
    "audit_model": "claude",
    "audited_at": "2026-01-10T08:48:17.434Z"
  },
  "content": {
    "user_title": "Add Observability to Python Apps",
    "value_statement": "Python applications often lack clear logging, metrics, and tracing, making debugging difficult in production. This skill provides ready-to-use patterns for structlog, Prometheus metrics, and OpenTelemetry distributed tracing.",
    "seo_keywords": [
      "Python observability",
      "structured logging",
      "Prometheus metrics",
      "OpenTelemetry tracing",
      "Claude observability",
      "Codex monitoring",
      "Claude Code logging",
      "structlog patterns",
      "distributed tracing",
      "Python monitoring"
    ],
    "actual_capabilities": [
      "Configure structlog for production JSON logging",
      "Create Prometheus counters, histograms, and gauges",
      "Implement OpenTelemetry distributed tracing",
      "Add request context and correlation IDs to logs",
      "Build FastAPI middleware for metrics and tracing",
      "Link traces to structured logs automatically"
    ],
    "limitations": [
      "Does not include pre-built monitoring dashboards",
      "Requires external dependencies (structlog, prometheus-client, opentelemetry-api)",
      "Does not configure external observability backends"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Debug Production Issues",
        "description": "Add correlation IDs and tracing to quickly identify root cause of errors in distributed systems."
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Monitor Service Health",
        "description": "Expose Prometheus metrics for dashboards and alerting on request rates, latency, and error counts."
      },
      {
        "target_user": "SRE Teams",
        "title": "Track Request Flows",
        "description": "Implement distributed tracing to visualize how requests flow across microservices."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Logging Setup",
        "scenario": "Add structured logging to Python app",
        "prompt": "Show me how to configure structlog for production with JSON output and request context binding."
      },
      {
        "title": "HTTP Metrics",
        "scenario": "Track API performance",
        "prompt": "Create a FastAPI middleware that records request count, latency histogram, and active connections as Prometheus metrics."
      },
      {
        "title": "Distributed Tracing",
        "scenario": "Trace requests across services",
        "prompt": "Set up OpenTelemetry tracing with context propagation for a Python service that calls external APIs."
      },
      {
        "title": "Custom Span Decorator",
        "scenario": "Instrument specific functions",
        "prompt": "Write a Python decorator that wraps functions with OpenTelemetry spans and records exceptions as span events."
      }
    ],
    "output_examples": [
      {
        "input": "Add Prometheus metrics for my FastAPI endpoint that tracks request count by status code and latency by endpoint",
        "output": [
          "Define metrics at module level: REQUEST_COUNT (Counter) with labels [method, endpoint, status], REQUEST_LATENCY (Histogram) with buckets [0.01, 0.05, 0.1, 0.5, 1.0, 5.0] and labels [method, endpoint]",
          "Create middleware that increments counters before/after request and observes latency",
          "Expose /metrics endpoint that returns generate_latest() with text/plain content type"
        ]
      }
    ],
    "best_practices": [
      "Use semantic event names (e.g., 'user_created' not 'log_message_123') for structured logs",
      "Include request_id and user_id in all log entries for debugging traceability",
      "Filter sensitive data (passwords, tokens, API keys) before logging with a processor"
    ],
    "anti_patterns": [
      "Logging sensitive data like passwords, tokens, or PII in plain text",
      "Using high cardinality labels (user_id, request_id) on Prometheus metrics",
      "Missing error context in exception logging without error type and stack trace"
    ],
    "faq": [
      {
        "question": "Which Python versions are supported?",
        "answer": "Python 3.10 and newer. Requires structlog, opentelemetry-api, and prometheus-client packages."
      },
      {
        "question": "What observability backends work with these patterns?",
        "answer": "OpenTelemetry exporters support Jaeger, Tempo, Datadog, and cloud solutions. Prometheus metrics work with any Prometheus-compatible scrape target."
      },
      {
        "question": "Can these patterns integrate with FastAPI?",
        "answer": "Yes. FastAPI instrumentation packages from OpenTelemetry work alongside the middleware patterns shown for request context and metrics."
      },
      {
        "question": "Is data sent to external services?",
        "answer": "No. The skill only provides code patterns. You configure and control all network endpoints for exporting logs and traces."
      },
      {
        "question": "Why are my metrics showing high cardinality?",
        "answer": "Avoid labels with many unique values like user_id or request_id. Use labels like method, endpoint, or status instead."
      },
      {
        "question": "How does this compare to other logging libraries?",
        "answer": "structlog provides structured logging with processors. Prometheus-client is metrics-focused. OpenTelemetry gives distributed tracing. They complement each other."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "logging-config.py",
          "type": "file",
          "path": "assets/logging-config.py"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "metrics.md",
          "type": "file",
          "path": "references/metrics.md"
        },
        {
          "name": "structured-logging.md",
          "type": "file",
          "path": "references/structured-logging.md"
        },
        {
          "name": "tracing.md",
          "type": "file",
          "path": "references/tracing.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
