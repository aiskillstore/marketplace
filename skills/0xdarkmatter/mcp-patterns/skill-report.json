{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T13:48:37.425Z",
    "slug": "0xdarkmatter-mcp-patterns",
    "source_url": "https://github.com/0xDarkMatter/claude-mods/tree/main/skills/mcp-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "d5ce5b7e529167f774009d037c88e2f9879a699ef62e68bf98fa09966b7cedac",
    "tree_hash": "dce56ab8382fe758a3bf9d3084f793190650104ccd6bc8339e8ab3b3d87a4359"
  },
  "skill": {
    "name": "mcp-patterns",
    "description": "Model Context Protocol (MCP) server patterns for building integrations with Claude Code. Triggers on: mcp server, model context protocol, tool handler, mcp resource, mcp tool.",
    "summary": "Model Context Protocol (MCP) server patterns for building integrations with Claude Code. Triggers on...",
    "icon": "ðŸ”—",
    "version": "1.0.0",
    "author": "0xDarkMatter",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "mcp",
      "model-context-protocol",
      "claude-code",
      "integration",
      "server-development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure documentation skill containing only code examples and patterns for MCP server development. The static analyzer flagged pattern matches in example code, but all findings are FALSE POSITIVES. The skill contains no executable code, makes no network calls, reads no environment variables, and performs no file system operations at runtime. All code samples are illustrative educational examples demonstrating secure patterns including Pydantic validation, environment variable authentication, and proper error handling.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "references/auth-patterns.md",
            "line_start": 7,
            "line_end": 22
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 22,
            "line_end": 26
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 26,
            "line_end": 50
          },
          {
            "file": "references/resource-patterns.md",
            "line_start": 7,
            "line_end": 23
          },
          {
            "file": "references/resource-patterns.md",
            "line_start": 23,
            "line_end": 27
          },
          {
            "file": "references/resource-patterns.md",
            "line_start": 27,
            "line_end": 48
          },
          {
            "file": "references/state-patterns.md",
            "line_start": 7,
            "line_end": 40
          },
          {
            "file": "references/state-patterns.md",
            "line_start": 40,
            "line_end": 44
          },
          {
            "file": "references/state-patterns.md",
            "line_start": 44,
            "line_end": 57
          },
          {
            "file": "references/testing-patterns.md",
            "line_start": 7,
            "line_end": 21
          },
          {
            "file": "references/testing-patterns.md",
            "line_start": 21,
            "line_end": 25
          },
          {
            "file": "references/testing-patterns.md",
            "line_start": 25,
            "line_end": 39
          },
          {
            "file": "references/tool-patterns.md",
            "line_start": 7,
            "line_end": 21
          },
          {
            "file": "references/tool-patterns.md",
            "line_start": 21,
            "line_end": 25
          },
          {
            "file": "references/tool-patterns.md",
            "line_start": 25,
            "line_end": 42
          },
          {
            "file": "references/tool-patterns.md",
            "line_start": 42,
            "line_end": 46
          },
          {
            "file": "references/tool-patterns.md",
            "line_start": 46,
            "line_end": 88
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 72
          },
          {
            "file": "SKILL.md",
            "line_start": 72,
            "line_end": 84
          },
          {
            "file": "SKILL.md",
            "line_start": 84,
            "line_end": 88
          },
          {
            "file": "SKILL.md",
            "line_start": 88,
            "line_end": 100
          },
          {
            "file": "SKILL.md",
            "line_start": 100,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 107
          },
          {
            "file": "SKILL.md",
            "line_start": 107,
            "line_end": 108
          },
          {
            "file": "SKILL.md",
            "line_start": 108,
            "line_end": 109
          },
          {
            "file": "SKILL.md",
            "line_start": 109,
            "line_end": 110
          },
          {
            "file": "SKILL.md",
            "line_start": 110,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 113
          },
          {
            "file": "SKILL.md",
            "line_start": 113,
            "line_end": 114
          },
          {
            "file": "SKILL.md",
            "line_start": 114,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 116
          },
          {
            "file": "SKILL.md",
            "line_start": 116,
            "line_end": 122
          },
          {
            "file": "SKILL.md",
            "line_start": 122,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 126
          },
          {
            "file": "SKILL.md",
            "line_start": 126,
            "line_end": 140
          },
          {
            "file": "SKILL.md",
            "line_start": 140,
            "line_end": 141
          },
          {
            "file": "SKILL.md",
            "line_start": 141,
            "line_end": 142
          },
          {
            "file": "SKILL.md",
            "line_start": 142,
            "line_end": 143
          },
          {
            "file": "SKILL.md",
            "line_start": 143,
            "line_end": 144
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/auth-patterns.md",
            "line_start": 17,
            "line_end": 17
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 41,
            "line_end": 41
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 131,
            "line_end": 131
          },
          {
            "file": "SKILL.md",
            "line_start": 132,
            "line_end": 132
          },
          {
            "file": "SKILL.md",
            "line_start": 133,
            "line_end": 133
          },
          {
            "file": "SKILL.md",
            "line_start": 134,
            "line_end": 134
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "references/auth-patterns.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 11,
            "line_end": 11
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 12,
            "line_end": 12
          },
          {
            "file": "references/auth-patterns.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 95,
            "line_end": 95
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 644,
    "audit_model": "claude",
    "audited_at": "2026-01-16T13:48:37.424Z"
  },
  "content": {
    "user_title": "Build MCP servers for Claude Code",
    "value_statement": "Creating MCP servers requires understanding Model Context Protocol patterns. This skill provides ready-to-use code examples and best practices for tools, resources, authentication, and state management so you can build integrations faster.",
    "seo_keywords": [
      "mcp server",
      "model context protocol",
      "claude code integration",
      "mcp patterns",
      "mcp tools",
      "mcp resources",
      "claude code",
      "anthropic",
      "mcp authentication",
      "mcp server development"
    ],
    "actual_capabilities": [
      "Shows how to create basic MCP servers with tools and handlers",
      "Provides validation patterns using Pydantic for input sanitization",
      "Demonstrates error handling with proper error responses",
      "Explains static and dynamic resource exposure",
      "Covers environment variable and OAuth authentication patterns",
      "Includes SQLite persistence and in-memory caching strategies"
    ],
    "limitations": [
      "Does not install or run MCP servers directly",
      "Does not provide pre-built MCP server implementations",
      "Requires Python 3.10+ or Node.js 18+ to use the patterns",
      "Users must implement their own tool logic following the patterns"
    ],
    "use_cases": [
      {
        "target_user": "AI Developers",
        "title": "Build custom MCP servers",
        "description": "Create MCP servers that expose your APIs and tools to Claude Code for enhanced AI integration."
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Design server patterns",
        "description": "Implement proper authentication, caching, and state management patterns for production MCP servers."
      },
      {
        "target_user": "Documentation Writers",
        "title": "Reference code examples",
        "description": "Use pattern references to document MCP server implementations with working code examples."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic MCP Server",
        "scenario": "Create a simple MCP server",
        "prompt": "Show me how to create a basic MCP server that exposes a tool for searching data."
      },
      {
        "title": "Add Validation",
        "scenario": "Validate tool inputs",
        "prompt": "How do I add Pydantic validation to my MCP tool to ensure inputs are safe and correct?"
      },
      {
        "title": "Implement Caching",
        "scenario": "Cache API responses",
        "prompt": "What patterns should I use to cache API responses in my MCP server to reduce latency?"
      },
      {
        "title": "Handle Authentication",
        "scenario": "Add API authentication",
        "prompt": "Show me how to implement OAuth token refresh with expiration handling in my MCP server."
      }
    ],
    "output_examples": [
      {
        "input": "Show me how to create a basic MCP server with a tool",
        "output": [
          "Basic MCP Server Pattern:",
          "â€¢ Create a Server instance with your server name",
          "â€¢ Define list_tools() to return tool schemas",
          "â€¢ Implement call_tool() to handle tool execution",
          "â€¢ Use stdio_server() for transport",
          "â€¢ Configure with Claude Desktop using JSON config"
        ]
      },
      {
        "input": "How do I add input validation to my MCP tool?",
        "output": [
          "Use Pydantic BaseModel for validation:",
          "â€¢ Define a SearchInput class with Field constraints",
          "â€¢ Set min_length, max_length for strings",
          "â€¢ Use ge and le for numeric bounds",
          "â€¢ Pass arguments to SearchInput(**arguments) for automatic validation"
        ]
      },
      {
        "input": "What authentication patterns should I use?",
        "output": [
          "Environment Variable Pattern:",
          "â€¢ Read API_KEY from os.environ.get()",
          "â€¢ Raise error if key is missing",
          "â€¢ Pass key in Authorization header",
          "â€¢ OAuth Pattern: Use TokenManager class with TTL tracking"
        ]
      }
    ],
    "best_practices": [
      "Use Pydantic models to validate tool inputs and prevent injection attacks",
      "Return proper error responses with isError flag for graceful failure handling",
      "Store sensitive credentials in environment variables, never in code",
      "Implement TTL-based caching to reduce API calls and improve response times"
    ],
    "anti_patterns": [
      "Hardcoding API keys or secrets directly in source code",
      "Skipping input validation and trusting user-provided arguments",
      "Returning raw exceptions without sanitization, which leaks implementation details",
      "Making synchronous HTTP calls in async handlers, which blocks the event loop"
    ],
    "faq": [
      {
        "question": "What Python version do I need?",
        "answer": "MCP server development requires Python 3.10+ or Node.js 18+ for async support and type hints."
      },
      {
        "question": "How many tools can I expose?",
        "answer": "MCP does not limit tool count, but too many tools can impact Claude response quality. Group related tools."
      },
      {
        "question": "Can I use this with Claude Code?",
        "answer": "Yes. Configure your MCP server in Claude Desktop or your MCP client to expose tools to Claude Code."
      },
      {
        "question": "Is my data sent anywhere?",
        "answer": "No. This skill only contains documentation. Your MCP server runs locally and controls all data flow."
      },
      {
        "question": "Why is my server not connecting?",
        "answer": "Check command path, verify dependencies are installed, and ensure your list_tools() returns valid JSON schemas."
      },
      {
        "question": "How is this different from official servers?",
        "answer": "This provides patterns and examples. Official servers are pre-built implementations for specific services like filesystem or GitHub."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "auth-patterns.md",
          "type": "file",
          "path": "references/auth-patterns.md",
          "lines": 51
        },
        {
          "name": "resource-patterns.md",
          "type": "file",
          "path": "references/resource-patterns.md",
          "lines": 49
        },
        {
          "name": "state-patterns.md",
          "type": "file",
          "path": "references/state-patterns.md",
          "lines": 58
        },
        {
          "name": "testing-patterns.md",
          "type": "file",
          "path": "references/testing-patterns.md",
          "lines": 40
        },
        {
          "name": "tool-patterns.md",
          "type": "file",
          "path": "references/tool-patterns.md",
          "lines": 89
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 145
    }
  ]
}
