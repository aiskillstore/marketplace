{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T08:49:16.665Z",
    "slug": "0xdarkmatter-python-pytest-patterns",
    "source_url": "https://github.com/0xDarkMatter/claude-mods/tree/main/skills/python-pytest-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "a8e6c7db9b94f47b019ad20d6685c2d594fb380c5e12450ff299b461e67eaa65",
    "tree_hash": "e018159be1b64fb82115b7848422cebbe83a86c3a5d0eaee5261aa42286f474b"
  },
  "skill": {
    "name": "python-pytest-patterns",
    "description": "pytest testing patterns for Python. Triggers on: pytest, fixture, mark, parametrize, mock, conftest, test coverage, unit test, integration test, pytest.raises.",
    "summary": "pytest testing patterns for Python. Triggers on: pytest, fixture, mark, parametrize, mock, conftest,...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "0xDarkMatter",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "python",
      "pytest",
      "testing",
      "tdd"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation and reference skill with helper scripts for pytest test generation and execution. All capabilities align with stated purpose of testing assistance. Scripts only operate within project directory.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 13,
    "total_lines": 1598,
    "audit_model": "claude",
    "audited_at": "2026-01-10T08:49:16.665Z"
  },
  "content": {
    "user_title": "Write pytest tests with patterns and fixtures",
    "value_statement": "Writing maintainable tests is challenging without guidance. This skill provides proven pytest patterns for fixtures, parametrization, mocking, async testing, and coverage to help you build reliable test suites.",
    "seo_keywords": [
      "pytest patterns",
      "python testing",
      "pytest fixtures",
      "pytest mocking",
      "claude code testing",
      "codex pytest",
      "claude pytest",
      "test automation",
      "property testing",
      "integration testing"
    ],
    "actual_capabilities": [
      "Generate pytest fixture boilerplate with conftest.py templates",
      "Create parametrized tests with multiple input combinations",
      "Apply mocking patterns using unittest.mock and pytest-mock",
      "Write async tests with pytest-asyncio fixtures and markers",
      "Configure test coverage reporting with pytest-cov",
      "Structure tests with session, module, and function-scoped fixtures"
    ],
    "limitations": [
      "Does not execute tests directly - generates patterns and code examples",
      "Requires pytest and related packages to be installed separately",
      "Focus on pytest patterns - does not cover other testing frameworks",
      "Scripts generate boilerplate - actual test logic must be written by user"
    ],
    "use_cases": [
      {
        "target_user": "Python developers",
        "title": "Test-Driven Development",
        "description": "Set up pytest with fixtures, markers, and coverage for new Python projects"
      },
      {
        "target_user": "QA engineers",
        "title": "Integration Testing",
        "description": "Create database fixtures, API test clients, and mock external services"
      },
      {
        "target_user": "Backend developers",
        "title": "Async Code Testing",
        "description": "Test asyncio functions with proper event loop management and async fixtures"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Test Setup",
        "scenario": "Create simple test",
        "prompt": "Write a basic pytest test for a function called calculate_total that takes a list of numbers. Include a fixture for sample data."
      },
      {
        "title": "Parametrized Tests",
        "scenario": "Multiple test cases",
        "prompt": "Create parametrized pytest tests for a function that validates email addresses. Cover valid, invalid, and edge case formats."
      },
      {
        "title": "Mock External API",
        "scenario": "Isolate from dependencies",
        "prompt": "Write a test for a function that calls an external API. Use pytest-mock to mock the HTTP response and verify the call was made correctly."
      },
      {
        "title": "Async Database Tests",
        "scenario": "Test async ORM operations",
        "prompt": "Create an async test fixture for a SQLAlchemy database session. Write a test that creates a user and verifies it can be queried."
      }
    ],
    "output_examples": [
      {
        "input": "Write a pytest test for user authentication",
        "output": [
          "Create a test_user fixture with sample user data",
          "Use @pytest.mark.parametrize for multiple login scenarios",
          "Mock the authentication service with pytest-mock",
          "Verify success and failure cases with assertions"
        ]
      }
    ],
    "best_practices": [
      "Use session-scoped fixtures for expensive setup like database engines",
      "Apply parametrization to test multiple inputs without duplicating code",
      "Isolate unit tests from external services using mocking"
    ],
    "anti_patterns": [
      "Avoid over-mocking - test behavior, not implementation details",
      "Do not skip cleanup in fixtures that create persistent resources",
      "Avoid tight coupling between tests using shared mutable state"
    ],
    "faq": [
      {
        "question": "What Python version is required?",
        "answer": "Python 3.9+ with pytest 7.0+. Async tests require pytest-asyncio."
      },
      {
        "question": "How many test examples can I generate?",
        "answer": "No hard limit. Use @pytest.mark.parametrize for multiple cases. Consider performance for large matrices."
      },
      {
        "question": "Can I integrate with CI systems?",
        "answer": "Yes. Use pytest-cov for coverage reports. Configure markers to separate slow integration tests."
      },
      {
        "question": "Is my test data safe?",
        "answer": "Skills only read and generate code patterns. No external data access. Use temp directories for test files."
      },
      {
        "question": "Why are my tests slow?",
        "answer": "Check fixture scopes. Use session/module scope for expensive setup. Consider parallel execution with pytest-xdist."
      },
      {
        "question": "How is this different from unittest?",
        "answer": "Pytest offers simpler syntax, fixtures, parametrization, and plugins like pytest-mock for easier mocking."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "conftest.py.template",
          "type": "file",
          "path": "assets/conftest.py.template"
        },
        {
          "name": "pytest.ini.template",
          "type": "file",
          "path": "assets/pytest.ini.template"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "async-testing.md",
          "type": "file",
          "path": "references/async-testing.md"
        },
        {
          "name": "coverage-strategies.md",
          "type": "file",
          "path": "references/coverage-strategies.md"
        },
        {
          "name": "fixtures-advanced.md",
          "type": "file",
          "path": "references/fixtures-advanced.md"
        },
        {
          "name": "integration-testing.md",
          "type": "file",
          "path": "references/integration-testing.md"
        },
        {
          "name": "mocking-patterns.md",
          "type": "file",
          "path": "references/mocking-patterns.md"
        },
        {
          "name": "property-testing.md",
          "type": "file",
          "path": "references/property-testing.md"
        },
        {
          "name": "test-architecture.md",
          "type": "file",
          "path": "references/test-architecture.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "generate-conftest.sh",
          "type": "file",
          "path": "scripts/generate-conftest.sh"
        },
        {
          "name": "run-tests.sh",
          "type": "file",
          "path": "scripts/run-tests.sh"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
