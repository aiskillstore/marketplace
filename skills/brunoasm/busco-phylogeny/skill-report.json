{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-11T13:06:40.693Z",
    "slug": "brunoasm-busco-phylogeny",
    "source_url": "https://github.com/brunoasm/my_claude_skills/tree/main/phylo_from_buscos",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "2bac0291fb2789b75ba6b97c11de49678d3dde6ad3dae50985e7d84d526b6e23",
    "tree_hash": "519f98436becc41790b522fe2b6819354de476ad9b68239c5c2201d746e35d8d"
  },
  "skill": {
    "name": "busco-phylogeny",
    "description": "Generate phylogenies from genome assemblies using BUSCO/compleasm-based single-copy orthologs with scheduler-aware workflow generation",
    "summary": "Generate phylogenies from genome assemblies using BUSCO/compleasm-based single-copy orthologs with s...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "brunoasm",
    "license": "MIT",
    "category": "data",
    "tags": [
      "bioinformatics",
      "phylogenomics",
      "genomics",
      "busco"
    ],
    "supported_tools": [
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a legitimate bioinformatics phylogenomics workflow generator. All 998 static findings are FALSE POSITIVES - they represent standard bioinformatics practices for running external tools (compleasm, MAFFT, IQ-TREE, ASTRAL), NCBI API access, and filesystem operations typical of scientific computing pipelines.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "claude",
            "line_start": 69,
            "line_end": 71
          },
          {
            "file": "scripts/download_ncbi_genomes.py",
            "line_start": 28,
            "line_end": 34
          },
          {
            "file": "scripts/query_ncbi_assemblies.py",
            "line_start": 52,
            "line_end": 56
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "README.md",
            "line_start": 80,
            "line_end": 85
          },
          {
            "file": "references/REFERENCE.md",
            "line_start": 614,
            "line_end": 655
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "claude",
            "line_start": 69,
            "line_end": 71
          },
          {
            "file": "templates/slurm/02_compleasm_first.job",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "scripts/download_ncbi_genomes.py",
            "line_start": 34,
            "line_end": 34
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 30,
    "total_lines": 9180,
    "audit_model": "claude",
    "audited_at": "2026-01-11T13:06:40.693Z"
  },
  "content": {
    "user_title": "Generate phylogenies from genome assemblies",
    "value_statement": "Building phylogenetic trees from multiple genome assemblies requires complex workflows with many tools. This skill generates ready-to-run, scheduler-aware scripts for the complete BUSCO-based phylogenomics pipeline.",
    "seo_keywords": [
      "busco phylogenomics",
      "genome assembly phylogeny",
      "compleasm workflow",
      "claude code bioinformatics",
      "phylogenetic tree inference",
      "single-copy orthologs",
      "maximum likelihood phylogenetics",
      "ASTRAL species tree",
      "IQ-TREE phylogenetic analysis"
    ],
    "actual_capabilities": [
      "Generates complete phylogenomics workflows from genome assemblies",
      "Creates scheduler-specific scripts (SLURM, PBS, local machines)",
      "Downloads genomes from NCBI by BioProject or Assembly accession",
      "Aligns single-copy orthologs and trims alignments",
      "Builds concatenated ML trees and ASTRAL coalescent species trees",
      "Writes draft methods paragraphs for publications"
    ],
    "limitations": [
      "Requires external tool installation (compleasm, MAFFT, IQ-TREE, ASTRAL)",
      "Does not run workflows directly - generates scripts for execution",
      "Quality of results depends on genome assembly completeness",
      "Lineage dataset selection requires user knowledge of taxonomic group"
    ],
    "use_cases": [
      {
        "target_user": "Evolutionary biologists",
        "title": "Build species phylogenies",
        "description": "Generate phylogenetic trees from genome assemblies for published evolutionary studies."
      },
      {
        "target_user": "Bioinformatics researchers",
        "title": "Automate phylogenomics pipelines",
        "description": "Create reproducible workflows for ortholog extraction, alignment, and tree inference."
      },
      {
        "target_user": "Students and educators",
        "title": "Learn phylogenomics workflows",
        "description": "Follow step-by-step guidance through the complete BUSCO-based analysis pipeline."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic phylogeny request",
        "scenario": "Starting a new phylogenomics project",
        "prompt": "I need to generate a phylogeny from 20 genome assemblies on a SLURM cluster"
      },
      {
        "title": "NCBI genome download",
        "scenario": "Using genomes from NCBI database",
        "prompt": "Help me find and download beetle genome assemblies from NCBI by taxon name"
      },
      {
        "title": "Custom workflow",
        "scenario": "Specific workflow parameters needed",
        "prompt": "Generate scripts for a PBS cluster with 48 cores, using Aliscore/ALICUT trimming and Q.insect substitution model"
      },
      {
        "title": "Quality-focused analysis",
        "scenario": "Quality control and validation",
        "prompt": "Validate the generated scripts and provide quality control recommendations for the BUSCO results"
      }
    ],
    "output_examples": [
      {
        "input": "I need to generate a phylogeny from 15 insect genome assemblies on a SLURM cluster",
        "output": [
          "Setup script for conda environment with all required tools",
          "Questions about lineage dataset, CPU allocation, trimming method",
          "Scripts for Step 2 (compleasm), Step 5 (MAFFT alignment), Step 6 (trimming), Step 8 (phylogenetic inference)",
          "Methods paragraph template with citations",
          "Quality control recommendations"
        ]
      }
    ],
    "best_practices": [
      "Use RefSeq assemblies (GCF_*) when available for higher quality reference data",
      "Start with Step 0 environment setup to install all required tools in one unified conda environment",
      "Validate all generated scripts before running them on your computing cluster",
      "Generate the methods paragraph at the end for your publication"
    ],
    "anti_patterns": [
      "Do not run scripts without validating the command-line options first",
      "Avoid skipping quality control - assess BUSCO completeness before proceeding to alignment",
      "Do not use the same CPU allocation for all steps - first compleasm job needs full resources for database download"
    ],
    "faq": [
      {
        "question": "What computing environments are supported?",
        "answer": "SLURM clusters, PBS/Torque clusters, and local machines with GNU parallel or serial execution."
      },
      {
        "question": "Can I use both local files and NCBI accessions?",
        "answer": "Yes, the skill supports mixed input. Download NCBI genomes first, then rename all files consistently."
      },
      {
        "question": "What trimming methods are available?",
        "answer": "Aliscore/ALICUT (thorough), trimAl (fast automated), BMGE (entropy-based), or ClipKit (modern)."
      },
      {
        "question": "How do I choose a BUSCO lineage dataset?",
        "answer": "Select the most specific lineage for your taxonomic group. See references/REFERENCE.md for the complete list."
      },
      {
        "question": "What substitution models does IQ-TREE use?",
        "answer": "Nuclear (LG, WAG, JTT, Q.pfam), mitochondrial (mtREV, mtZOA), or taxonomically-targeted models (Q.insect, Q.mammal)."
      },
      {
        "question": "Does the skill run the analysis?",
        "answer": "No, the skill generates ready-to-run scripts. You copy and execute them on your computing environment."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "REFERENCE.md",
          "type": "file",
          "path": "references/REFERENCE.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "predownloaded_aliscore_alicut",
          "type": "dir",
          "path": "scripts/predownloaded_aliscore_alicut",
          "children": [
            {
              "name": "ALICUT_V2.31.pl",
              "type": "file",
              "path": "scripts/predownloaded_aliscore_alicut/ALICUT_V2.31.pl"
            },
            {
              "name": "Aliscore_module.pm",
              "type": "file",
              "path": "scripts/predownloaded_aliscore_alicut/Aliscore_module.pm"
            },
            {
              "name": "Aliscore.02.2.pl",
              "type": "file",
              "path": "scripts/predownloaded_aliscore_alicut/Aliscore.02.2.pl"
            }
          ]
        },
        {
          "name": "convert_fasconcat_to_partition.py",
          "type": "file",
          "path": "scripts/convert_fasconcat_to_partition.py"
        },
        {
          "name": "download_ncbi_genomes.py",
          "type": "file",
          "path": "scripts/download_ncbi_genomes.py"
        },
        {
          "name": "extract_orthologs.sh",
          "type": "file",
          "path": "scripts/extract_orthologs.sh"
        },
        {
          "name": "generate_qc_report.sh",
          "type": "file",
          "path": "scripts/generate_qc_report.sh"
        },
        {
          "name": "query_ncbi_assemblies.py",
          "type": "file",
          "path": "scripts/query_ncbi_assemblies.py"
        },
        {
          "name": "rename_genomes.py",
          "type": "file",
          "path": "scripts/rename_genomes.py"
        },
        {
          "name": "run_alicut.sh",
          "type": "file",
          "path": "scripts/run_alicut.sh"
        },
        {
          "name": "run_aliscore_alicut_batch.sh",
          "type": "file",
          "path": "scripts/run_aliscore_alicut_batch.sh"
        },
        {
          "name": "run_aliscore.sh",
          "type": "file",
          "path": "scripts/run_aliscore.sh"
        }
      ]
    },
    {
      "name": "templates",
      "type": "dir",
      "path": "templates",
      "children": [
        {
          "name": "local",
          "type": "dir",
          "path": "templates/local",
          "children": [
            {
              "name": "02_compleasm_first.sh",
              "type": "file",
              "path": "templates/local/02_compleasm_first.sh"
            },
            {
              "name": "02_compleasm_parallel.sh",
              "type": "file",
              "path": "templates/local/02_compleasm_parallel.sh"
            },
            {
              "name": "08a_partition_search.sh",
              "type": "file",
              "path": "templates/local/08a_partition_search.sh"
            },
            {
              "name": "08c_gene_trees_parallel.sh",
              "type": "file",
              "path": "templates/local/08c_gene_trees_parallel.sh"
            },
            {
              "name": "08c_gene_trees_serial.sh",
              "type": "file",
              "path": "templates/local/08c_gene_trees_serial.sh"
            }
          ]
        },
        {
          "name": "pbs",
          "type": "dir",
          "path": "templates/pbs",
          "children": [
            {
              "name": "02_compleasm_first.job",
              "type": "file",
              "path": "templates/pbs/02_compleasm_first.job"
            },
            {
              "name": "02_compleasm_parallel.job",
              "type": "file",
              "path": "templates/pbs/02_compleasm_parallel.job"
            },
            {
              "name": "08a_partition_search.job",
              "type": "file",
              "path": "templates/pbs/08a_partition_search.job"
            },
            {
              "name": "08c_gene_trees_array.job",
              "type": "file",
              "path": "templates/pbs/08c_gene_trees_array.job"
            }
          ]
        },
        {
          "name": "slurm",
          "type": "dir",
          "path": "templates/slurm",
          "children": [
            {
              "name": "02_compleasm_first.job",
              "type": "file",
              "path": "templates/slurm/02_compleasm_first.job"
            },
            {
              "name": "02_compleasm_parallel.job",
              "type": "file",
              "path": "templates/slurm/02_compleasm_parallel.job"
            },
            {
              "name": "08a_partition_search.job",
              "type": "file",
              "path": "templates/slurm/08a_partition_search.job"
            },
            {
              "name": "08c_gene_trees_array.job",
              "type": "file",
              "path": "templates/slurm/08c_gene_trees_array.job"
            }
          ]
        },
        {
          "name": "README.md",
          "type": "file",
          "path": "templates/README.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
