{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T03:35:12.760Z",
    "slug": "dmitrypogrebnoy-generating-rbs-inline",
    "source_url": "https://github.com/DmitryPogrebnoy/ruby-agent-skills/tree/main/plugins/ruby-type-signature-skills/skills/generating-rbs-inline",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "1c78f9ffe84bfc565a4f52f21553fb85e5cca772b91b1341eb4f59be5968d2de",
    "tree_hash": "32b3ff1b6e6093cf8f0f4e88e59acf2df92d508d5355fc32d6140a1d13cad649"
  },
  "skill": {
    "name": "generating-rbs-inline",
    "description": "Generates RBS-inline type annotations directly in Ruby source files as comments. Triggers when adding inline type signatures, annotating Ruby methods with rbs-inline syntax, or generating type comments without existing inline annotations.",
    "summary": "Generates RBS-inline type annotations directly in Ruby source files as comments. Triggers when addin...",
    "icon": "ðŸ“",
    "version": "1.0.0",
    "author": "DmitryPogrebnoy",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "ruby",
      "rbs",
      "types",
      "annotations",
      "static-typing"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill providing guidance for adding RBS-inline type annotations to Ruby files. All 304 static findings are false positives caused by the scanner detecting patterns in markdown documentation and reference Ruby source files. The skill contains no executable code, network calls, file system access, or credential handling. Reference files include examples from the legitimate Zeitwerk gem.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "reference/rbs_inline_examples/zeitwerk/zeitwerk/core_ext/kernel.rb",
            "line_start": 23,
            "line_end": 34
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "reference/syntax.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "SKILL.md",
            "line_start": 162,
            "line_end": 162
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 28,
    "total_lines": 2908,
    "audit_model": "claude",
    "audited_at": "2026-01-17T03:35:12.760Z"
  },
  "content": {
    "user_title": "Add RBS-inline type annotations to Ruby",
    "value_statement": "Ruby lacks built-in type annotations, making code harder to understand and maintain. This skill adds RBS-inline type comments directly to your Ruby files, improving code clarity without requiring separate .rbs signature files.",
    "seo_keywords": [
      "Ruby type annotations",
      "RBS inline",
      "Ruby static typing",
      "rbs-inline",
      "Ruby documentation",
      "Claude Code Ruby",
      "Ruby type checking",
      "Steep integration",
      "Ruby development",
      "type signatures"
    ],
    "actual_capabilities": [
      "Adds # rbs_inline: enabled magic comment to Ruby files",
      "Generates # @rbs parameter and return type annotations",
      "Creates #: syntax for simple method signatures",
      "Annotates attr_reader/writer/accessor with types",
      "Handles Data.define and Struct.new type generation",
      "Validates generated RBS files using rbs validate"
    ],
    "limitations": [
      "Cannot run Ruby code or execute type checking directly",
      "Requires rbs-inline gem to be installed separately",
      "Does not support regular .rbs files, inline annotations only",
      "Type inference depends on code context and may need manual refinement"
    ],
    "use_cases": [
      {
        "target_user": "Ruby developers",
        "title": "Add type safety to legacy Ruby code",
        "description": "Annotate existing Ruby codebases with inline type information to improve understanding and catch type errors early."
      },
      {
        "target_user": "Gem maintainers",
        "title": "Provide type definitions for users",
        "description": "Add rbs-inline annotations to gems so users get type checking and IDE support without separate RBS files."
      },
      {
        "target_user": "Development teams",
        "title": "Standardize type documentation",
        "description": "Ensure consistent type annotations across team projects using rbs-inline format for better collaboration."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic class annotations",
        "scenario": "Adding types to a simple Ruby class",
        "prompt": "Add RBS-inline type annotations to this Ruby class. Include parameter types, return types, and attribute types where applicable."
      },
      {
        "title": "Complex signatures",
        "scenario": "Annotating methods with blocks and generics",
        "prompt": "Generate RBS-inline annotations for methods that accept blocks, have generic parameters, or return complex types."
      },
      {
        "title": "Data and Struct types",
        "scenario": "Working with Data.define and Struct.new",
        "prompt": "Add proper RBS-inline annotations for Data.define and Struct.new declarations, including member types."
      },
      {
        "title": "Full file coverage",
        "scenario": "Complete type coverage for Ruby file",
        "prompt": "Add comprehensive RBS-inline annotations to this entire Ruby file. Include magic comment, all methods, attributes, and constants."
      }
    ],
    "output_examples": [
      {
        "input": "Add RBS-inline types to a User class with name, age, and greet method",
        "output": [
          "# rbs_inline: enabled",
          "",
          "class User",
          "  attr_reader :name #: String",
          "  attr_reader :age #: Integer",
          "",
          "  # @rbs name: String",
          "  # @rbs age: Integer",
          "  # @rbs return: void",
          "  def initialize(name, age)",
          "    @name = name",
          "    @age = age",
          "  end",
          "",
          "  #: (String greeting) -> String",
          "  def greet(greeting)",
          "    \"#{greeting}, #{@name}!\"",
          "  end",
          "end"
        ]
      }
    ],
    "best_practices": [
      "Always start with # rbs_inline: enabled magic comment to activate processing",
      "Use specific types instead of untyped - infer from method calls and context",
      "Validate annotations with rbs-inline --output lib and rbs validate commands"
    ],
    "anti_patterns": [
      "Avoid using untyped unless absolutely necessary - always try to infer the correct type",
      "Do not mix regular .rbs files with rbs-inline annotations in the same project",
      "Never execute the project's Ruby code during annotation - analyze statically only"
    ],
    "faq": [
      {
        "question": "Is this compatible with Steep type checker?",
        "answer": "Yes, but you must first generate RBS files using rbs-inline --output lib before running steep check."
      },
      {
        "question": "What are the limitations of rbs-inline?",
        "answer": "rbs-inline only supports annotations as comments. It cannot generate separate .rbs files directly."
      },
      {
        "question": "Can I use this with existing .rbs files?",
        "answer": "No, this skill works with rbs-inline format. Use regular RBS tools for separate .rbs file management."
      },
      {
        "question": "Is my code safe during annotation?",
        "answer": "Yes, the skill never executes your Ruby code. It only analyzes code statically to add type annotations."
      },
      {
        "question": "How do I validate the generated annotations?",
        "answer": "Run rbs-inline --output lib to generate RBS files, then rbs validate to check syntax."
      },
      {
        "question": "What is the difference between #: and # @rbs syntax?",
        "answer": "#: is for simple method signatures. # @rbs supports overloads with pipe syntax and works for parameters, returns."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "rbs_inline_examples",
          "type": "dir",
          "path": "reference/rbs_inline_examples",
          "children": [
            {
              "name": "zeitwerk",
              "type": "dir",
              "path": "reference/rbs_inline_examples/zeitwerk",
              "children": [
                {
                  "name": "zeitwerk",
                  "type": "dir",
                  "path": "reference/rbs_inline_examples/zeitwerk/zeitwerk"
                },
                {
                  "name": "zeitwerk.rb",
                  "type": "file",
                  "path": "reference/rbs_inline_examples/zeitwerk/zeitwerk.rb",
                  "lines": 30
                }
              ]
            },
            {
              "name": "STRUCTURE.md",
              "type": "file",
              "path": "reference/rbs_inline_examples/STRUCTURE.md",
              "lines": 6
            }
          ]
        },
        {
          "name": "data-struct-support.md",
          "type": "file",
          "path": "reference/data-struct-support.md",
          "lines": 89
        },
        {
          "name": "syntax.md",
          "type": "file",
          "path": "reference/syntax.md",
          "lines": 147
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 162
    }
  ]
}
