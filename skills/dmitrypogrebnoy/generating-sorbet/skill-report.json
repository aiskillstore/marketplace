{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T14:18:49.559Z",
    "slug": "dmitrypogrebnoy-generating-sorbet",
    "source_url": "https://github.com/DmitryPogrebnoy/ruby-agent-skills/tree/main/plugins/ruby-type-signature-skills/skills/generating-sorbet",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "f9972bbdfc013ab5def7f3b499dd5827f3f30185cd71438a9e4e5cd6ffd9ca88",
    "tree_hash": "f2437f398a518b87506a4444796fc731a23a83440a44f46b8a90037441ec2b64"
  },
  "skill": {
    "name": "generating-sorbet",
    "description": "Generates Sorbet type signatures in separate RBI files from Ruby source files. Triggers when creating type definitions, adding types to Ruby code, or generating .rbi files for classes/modules without existing Sorbet signatures.",
    "summary": "Generates Sorbet type signatures in separate RBI files from Ruby source files. Triggers when creatin...",
    "icon": "ðŸ”·",
    "version": "1.0.0",
    "author": "DmitryPogrebnoy",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "ruby",
      "sorbet",
      "types",
      "rbi",
      "static-typing"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill containing only documentation and reference RBI files. No executable code, network calls, file system access, or command execution capabilities detected.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 393,
    "audit_model": "claude",
    "audited_at": "2026-01-10T14:18:49.559Z"
  },
  "content": {
    "user_title": "Generate Sorbet RBI Type Signatures",
    "value_statement": "Adding type signatures to Ruby codebases manually is time-consuming and error-prone. This skill guides AI assistants to automatically generate correct Sorbet RBI files with proper type annotations following best practices.",
    "seo_keywords": [
      "sorbet",
      "rbi",
      "ruby types",
      "claude code",
      "type signatures",
      "static typing",
      "ruby type checking",
      "sorbet rbi generation",
      "claude",
      "codex"
    ],
    "actual_capabilities": [
      "Generate RBI files from Ruby source classes and modules",
      "Create method signatures with proper parameter and return types",
      "Follow Sorbet RBI syntax conventions and best practices",
      "Use reference examples from real-world libraries like stripe-ruby",
      "Validate generated signatures with Sorbet type checker",
      "Eliminate T.untyped in favor of proper inferred types"
    ],
    "limitations": [
      "Does not execute or modify Ruby source code directly",
      "Does not run Sorbet type checker automatically",
      "Cannot infer types from runtime behavior or test execution",
      "Requires user to validate generated RBI files with srb tc"
    ],
    "use_cases": [
      {
        "target_user": "Ruby gem maintainers",
        "title": "Add types to Ruby gems",
        "description": "Generate RBI files for gems without type annotations so Sorbet users get type checking."
      },
      {
        "target_user": "Legacy codebase teams",
        "title": "Type existing Ruby code",
        "description": "Add type signatures to legacy codebases without modifying the original source files."
      },
      {
        "target_user": "Rails developers",
        "title": "Type Rails applications",
        "description": "Generate signatures for Rails models and services using DSLs that Sorbet cannot analyze statically."
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple class",
        "scenario": "Generate RBI for a basic class",
        "prompt": "Generate an RBI file for this Ruby class with proper Sorbet signatures. Place it in the ./rbi directory."
      },
      {
        "title": "Module with methods",
        "scenario": "Create signatures for a module",
        "prompt": "Create an RBI file for this module. Include all public methods with correct parameter and return types."
      },
      {
        "title": "Generic classes",
        "scenario": "Handle generic type parameters",
        "prompt": "Generate RBI signatures for this generic class. Use type parameters for generic types and proper bounds."
      },
      {
        "title": "Complex API client",
        "scenario": "Stripe-style API types",
        "prompt": "Create a complete RBI structure for this API client similar to stripe-ruby patterns. Include resource types, service classes, and params classes."
      }
    ],
    "output_examples": [
      {
        "input": "Generate RBI signatures for a User class with name, email, and age attributes, plus a greet method.",
        "output": [
          "Created: ./rbi/user.rbi",
          "Class: User (extend T::Sig)",
          "  attr_reader :name â†’ sig { returns(String) }",
          "  attr_reader :email â†’ sig { returns(String) }",
          "  attr_reader :age â†’ sig { returns(Integer) }",
          "  initialize(name, age) â†’ sig { params(name: String, age: Integer).void }",
          "  greet(greeting) â†’ sig { params(greeting: String).returns(String) }",
          "Run: bundle exec srb tc to validate"
        ]
      }
    ],
    "best_practices": [
      "Run bundle exec srb tc to validate all generated RBI signatures",
      "Use strict typing level and eliminate T.untyped whenever possible",
      "Follow gem naming conventions: gem_name.rbi for main file, gem_name/ directory for supporting files"
    ],
    "anti_patterns": [
      "Using T.untyped as a shortcut instead of inferring proper types",
      "Adding method bodies in RBI files instead of empty method stubs",
      "Forgetting to extend T::Sig on classes and modules using sig blocks"
    ],
    "faq": [
      {
        "question": "What Ruby versions are supported?",
        "answer": "Sorbet supports Ruby 2.6+. Generated RBI files work with any Ruby version Sorbet supports."
      },
      {
        "question": "What are the size limits for RBI files?",
        "answer": "Sorbet handles large RBI files. For very large codebases, split into multiple RBI files by module or gem."
      },
      {
        "question": "How do I integrate with my project?",
        "answer": "Place RBI files in ./rbi directory. Configure sorbet/config to include: --dir=./rbi"
      },
      {
        "question": "Is my source code safe?",
        "answer": "Yes. This skill generates new RBI files without modifying your original Ruby source code."
      },
      {
        "question": "Validation fails with errors",
        "answer": "Check signature syntax matches Sorbet docs. Ensure all types are defined. Run srb tc for specific error messages."
      },
      {
        "question": "How is this different from tapioca?",
        "answer": "Tapioca automatically generates RBI from runtime reflection. This skill guides AI to write correct signatures manually when runtime generation is not possible."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "references",
          "type": "dir",
          "path": "reference/references",
          "children": [
            {
              "name": "stripe-ruby",
              "type": "dir",
              "path": "reference/references/stripe-ruby",
              "children": [
                {
                  "name": "lib",
                  "type": "dir",
                  "path": "reference/references/stripe-ruby/lib"
                },
                {
                  "name": "rbi",
                  "type": "dir",
                  "path": "reference/references/stripe-ruby/rbi"
                }
              ]
            },
            {
              "name": "STRUCTURE.md",
              "type": "file",
              "path": "reference/references/STRUCTURE.md"
            }
          ]
        },
        {
          "name": "syntax.md",
          "type": "file",
          "path": "reference/syntax.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
