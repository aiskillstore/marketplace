{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T22:43:06.597Z",
    "slug": "crearize-check-migration",
    "source_url": "https://github.com/Crearize/ProjectTemplate/tree/main/.claude/skills/check-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "bb18c590795039b314e964afb6b8155d9e52650376c894975c919902721cd649",
    "tree_hash": "311e7422e5d5da7b765f67fb265af45278f31cb10fd5ad5c38d6d15327e9739a"
  },
  "skill": {
    "name": "check-migration",
    "description": "Flywayãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ã‚¹ã‚­ãƒ« - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œè¨¼ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ç«¶åˆãƒã‚§ãƒƒã‚¯ã€å‘½åè¦å‰‡ãƒã‚§ãƒƒã‚¯ã€SQLæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚mainãƒ–ãƒ©ãƒ³ãƒã¨ã®ç«¶åˆç¢ºèªã‚‚è¡Œã„ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å“è³ªã‚’ä¿è¨¼ã—ã¾ã™ã€‚",
    "summary": "Flywayãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒã‚§ãƒƒã‚¯ã‚¹ã‚­ãƒ« - ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã®æ¤œè¨¼ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ã®ç«¶åˆãƒã‚§ãƒƒã‚¯ã€å‘½åè¦å‰‡ãƒã‚§ãƒƒã‚¯ã€SQLæ§‹æ–‡ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚mainãƒ–ãƒ©ãƒ³ãƒã¨ã®ç«¶åˆç¢ºèªã‚‚è¡Œã„ã€ãƒã‚¤...",
    "icon": "ğŸ—„ï¸",
    "version": "1.0.0",
    "author": "Crearize",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "database",
      "migration",
      "flyway",
      "validation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a prompt-only skill with no executable code. The SKILL.md defines AI instructions for validating Flyway migrations. All 21 static findings are false positives: example bash commands in documentation were misidentified as shell execution, Japanese description text triggered false cryptographic/obfuscation flags, and metadata fields were misidentified as network/filesystem access. The skill performs legitimate database migration validation without any security risks.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 29
          },
          {
            "file": "SKILL.md",
            "line_start": 29,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 46
          },
          {
            "file": "SKILL.md",
            "line_start": 46,
            "line_end": 61
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 237,
    "audit_model": "claude",
    "audited_at": "2026-01-16T22:43:06.597Z"
  },
  "content": {
    "user_title": "Validate Flyway database migration files",
    "value_statement": "Database migration conflicts and naming errors cause deployment failures and data integrity issues. This skill validates migration files for version conflicts, naming conventions, SQL syntax, and main branch conflicts before deployment.",
    "seo_keywords": [
      "Flyway",
      "database migration",
      "SQL validation",
      "version control",
      "Claude",
      "Codex",
      "Claude Code",
      "database schema",
      "migration testing",
      "devops"
    ],
    "actual_capabilities": [
      "Validates migration file version number sequence and detects duplicates",
      "Checks naming convention compliance (V{version}__{description}.sql format)",
      "Verifies main branch conflicts in migration files",
      "Validates basic SQL syntax and idempotency (IF NOT EXISTS)"
    ],
    "limitations": [
      "Does not execute SQL against a live database",
      "Performs only basic SQL syntax checks, not full validation",
      "Requires git access for main branch conflict checks"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Pre-commit migration validation",
        "description": "Validate migration files before committing to prevent deployment issues"
      },
      {
        "target_user": "DevOps engineers",
        "title": "CI/CD pipeline integration",
        "description": "Add migration checks to deployment pipelines to catch issues early"
      },
      {
        "target_user": "Database administrators",
        "title": "Migration audit and review",
        "description": "Audit migration files for compliance with team naming conventions"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic migration check",
        "scenario": "Quick validation of all migrations",
        "prompt": "Check the Flyway migrations in backend/src/main/resources/db/migration/"
      },
      {
        "title": "Version conflict check",
        "scenario": "Find duplicate or missing version numbers",
        "prompt": "Find any duplicate version numbers or gaps in the migration sequence"
      },
      {
        "title": "Naming convention check",
        "scenario": "Validate file naming format",
        "prompt": "Check if all migration files follow the V{version}__{description}.sql naming convention"
      },
      {
        "title": "Main branch comparison",
        "scenario": "Compare migrations with main branch",
        "prompt": "Check if any migrations conflict with the main branch by comparing version numbers"
      }
    ],
    "output_examples": [
      {
        "input": "Check migration files",
        "output": [
          "Total migrations: 15 files",
          "Latest version: V015",
          "Version numbers: OK (continuous, no duplicates)",
          "Naming convention: Compliant (V{version}__{description}.sql format)",
          "Main branch conflicts: None detected",
          "Idempotency: 12 files use IF NOT EXISTS, 3 files may need review"
        ]
      },
      {
        "input": "Check for version conflicts",
        "output": [
          "Found 2 duplicate version numbers: V003 and V007",
          "Missing versions: V005, V006",
          "Recommendation: Renumber V007 to V008 to maintain sequence"
        ]
      },
      {
        "input": "Validate naming convention",
        "output": [
          "All 10 files follow V{version}__{description}.sql format",
          "Example compliant files: V001__create_users_table.sql, V002__add_email_index.sql"
        ]
      }
    ],
    "best_practices": [
      "Use IF NOT EXISTS in all CREATE TABLE statements for idempotency",
      "Keep version numbers sequential without gaps",
      "Review migrations with main branch before merging pull requests"
    ],
    "anti_patterns": [
      "Skipping migration validation before deployment",
      "Using custom naming formats instead of Flyway standard",
      "Modifying migrations that have already been applied to main"
    ],
    "faq": [
      {
        "question": "Which database systems does this skill support?",
        "answer": "Any database supported by Flyway, including PostgreSQL, MySQL, Oracle, SQL Server, and SQLite."
      },
      {
        "question": "What version number formats are supported?",
        "answer": "Flyway supports numeric versions (V1, V2, V10) and semantic versions (V1_0, V1_1) in the naming convention."
      },
      {
        "question": "Can I use this skill in my CI/CD pipeline?",
        "answer": "Yes, invoke the skill during your build process to validate migrations before deployment."
      },
      {
        "question": "Is my database connection required for validation?",
        "answer": "No, this skill validates file names, content structure, and version numbers without connecting to the database."
      },
      {
        "question": "Why are my migrations failing validation?",
        "answer": "Common issues include missing IF NOT EXISTS, duplicate version numbers, or non-standard file naming format."
      },
      {
        "question": "How does this compare to Flyway's built-in validation?",
        "answer": "This skill provides quick pre-validation without running Flyway. It complements Flyway's validation for early error detection."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 62
    }
  ]
}
