{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T07:20:19.780Z",
    "slug": "expo-native-data-fetching",
    "source_url": "https://github.com/expo/skills/tree/main/plugins/expo-app-design/skills/native-data-fetching/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "daf0280c7965642b57bad8d9e888fb2323fabc45d33b293c8a3eb42abaa54bb4",
    "tree_hash": "9ee2746f713c8461f0c801ba0d6bf86349820eb9b132ad505ab30f29aac11d99"
  },
  "skill": {
    "name": "native-data-fetching",
    "description": "Use when implementing or debugging ANY network request, API call, or data fetching. Covers fetch API, axios, React Query, SWR, error handling, caching strategies, offline support.",
    "summary": "Expo networking patterns for data fetching, caching, authentication, and offline support in React Native apps.",
    "icon": "ðŸŒ",
    "version": "1.0.0",
    "author": "expo",
    "license": "MIT",
    "tags": [
      "react-native",
      "networking",
      "api",
      "data-fetching",
      "offline"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation skill with code examples for Expo networking patterns. Static scanner flagged common JavaScript patterns (template literals, fetch API, environment variables) that are false positives for this documentation use case. All demonstrated patterns follow Expo security best practices.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Network API Patterns in Code Examples",
        "description": "Fetch API and HTTP client patterns appear throughout code examples for documentation purposes. These are educational examples with placeholder URLs, not actual network calls or credential exfiltration.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 36
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 154,
            "line_end": 154
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "Clear documentation context with example URLs and educational intent. No actual network calls or data exfiltration."
      },
      {
        "title": "Environment Variable Access Patterns",
        "description": "process.env.EXPO_PUBLIC_ patterns detected for API configuration. This is the recommended Expo pattern for client-safe configuration. Skill explicitly warns against storing secrets.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 304,
            "line_end": 304
          },
          {
            "file": "SKILL.md",
            "line_start": 326,
            "line_end": 326
          }
        ],
        "confidence": 0.92,
        "confidence_reasoning": "Standard Expo configuration pattern with explicit security warnings about not exposing secrets to the client bundle."
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 492,
    "audit_model": "claude",
    "audited_at": "2026-01-23T07:20:19.780Z",
    "risk_factors": [
      "network",
      "env_access"
    ],
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 36
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 154,
            "line_end": 154
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 304,
            "line_end": 304
          },
          {
            "file": "SKILL.md",
            "line_start": 326,
            "line_end": 326
          }
        ]
      }
    ]
  },
  "content": {
    "user_title": "Implement Network Requests and Data Fetching",
    "value_statement": "Expo apps need reliable data fetching with proper caching, error handling, and offline support. This skill provides proven patterns for implementing network requests, authentication, and resilient data fetching in React Native.",
    "seo_keywords": [
      "Expo data fetching",
      "React Native networking",
      "fetch API examples",
      "React Query tutorial",
      "offline support React Native",
      "API authentication tokens",
      "environment variables Expo",
      "Claude Code networking",
      "Clade Code data fetching",
      "Claude Codex API requests"
    ],
    "actual_capabilities": [
      "Implement fetch API calls with proper error handling",
      "Set up React Query or SWR for caching and state management",
      "Handle authentication tokens securely with expo-secure-store",
      "Add offline support with NetInfo and React Query persistence",
      "Configure environment-specific API URLs with EXPO_PUBLIC_ variables",
      "Implement retry logic with exponential backoff"
    ],
    "limitations": [
      "Does not cover server-side API routes or backend implementation",
      "Does not provide authentication backend services",
      "Does not include GraphQL integration patterns",
      "Does not generate API client code automatically"
    ],
    "use_cases": [
      {
        "title": "Build API Integration for React Native App",
        "description": "Set up reliable network layer with fetch, error handling, and retry logic for your mobile app.",
        "target_user": "Mobile developers building Expo apps that need to consume APIs"
      },
      {
        "title": "Add Caching and Offline Support",
        "description": "Implement React Query for caching, background updates, and offline-first data access.",
        "target_user": "Developers optimizing app performance and user experience"
      },
      {
        "title": "Configure Multi-Environment API Settings",
        "description": "Set up development, staging, and production API URLs with environment variables.",
        "target_user": "Teams managing multiple deployment environments"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic API Call Setup",
        "prompt": "How do I make API requests in my Expo app? Show me how to fetch data from an endpoint and handle errors properly.",
        "scenario": "Getting started with networking in Expo"
      },
      {
        "title": "Data Fetching with Caching",
        "prompt": "I want to use React Query in my Expo app for data fetching. Show me how to set up the QueryClient and implement queries with caching.",
        "scenario": "Adding caching and state management"
      },
      {
        "title": "Offline-First App",
        "prompt": "My Expo app needs to work offline. Show me how to detect network status and persist React Query data for offline access.",
        "scenario": "Building apps with offline support"
      },
      {
        "title": "Authentication and Token Management",
        "prompt": "How do I securely store authentication tokens in my Expo app and add them to API requests? Include token refresh logic.",
        "scenario": "Implementing authenticated API calls"
      }
    ],
    "output_examples": [
      {
        "input": "How do I make a basic GET request to an API?",
        "output": "Use the fetch API with error handling:\n\n```tsx\nconst fetchUser = async (userId: string) => {\n  const response = await fetch(`https://api.example.com/users/${userId}`);\n\n  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }\n\n  return response.json();\n};\n```\n\nKey points:\n- Always check response.ok before parsing\n- Handle network errors separately from HTTP errors\n- Consider adding retry logic for resilience"
      },
      {
        "input": "Should I use AsyncStorage or SecureStore for tokens?",
        "output": "Use SecureStore for authentication tokens and other sensitive data:\n\n```tsx\nimport * as SecureStore from 'expo-secure-store';\n\nawait SecureStore.setItemAsync('auth_token', token);\n// NOT: await AsyncStorage.setItem('token', token);\n```\n\nAsyncStorage is not encrypted and is accessible to any app with root access. SecureStore uses the device's secure enclave for sensitive data."
      },
      {
        "input": "How do I configure different API URLs for dev and prod?",
        "output": "Use EXPO_PUBLIC_ environment variables with .env files:\n\n```\n# .env.development\nEXPO_PUBLIC_API_URL=http://localhost:3000\n\n# .env.production\nEXPO_PUBLIC_API_URL=https://api.production.com\n```\n\n```tsx\nconst BASE_URL = process.env.EXPO_PUBLIC_API_URL;\n```\n\nOnly use EXPO_PUBLIC_ prefix for client-safe values. Never put secrets (API keys, database passwords) in these variables."
      }
    ],
    "best_practices": [
      "Always check response.ok and handle both network and HTTP errors in data fetching operations",
      "Use React Query or SWR for production apps to get automatic caching, deduplication, and background updates",
      "Store authentication tokens in expo-secure-store, never in AsyncStorage or plain localStorage"
    ],
    "anti_patterns": [
      "Skipping response.ok checks and assuming all requests succeed",
      "Storing sensitive data like tokens in AsyncStorage or environment variables with write access",
      "Making the same API call repeatedly without implementing caching or request deduplication"
    ],
    "faq": [
      {
        "question": "What is the difference between fetch and axios in Expo?",
        "answer": "Expo provides a built-in fetch polyfill that works consistently across platforms. Use the native fetch API instead of axios for better compatibility and smaller bundle size."
      },
      {
        "question": "How do I cancel in-flight network requests?",
        "answer": "Use AbortController with fetch or let React Query handle cancellation automatically when components unmount or queries are invalidated."
      },
      {
        "question": "Can I use environment variables for API keys?",
        "answer": "Only use EXPO_PUBLIC_ prefix for client-safe values. Server-side secrets should stay in API routes. Never expose keys with write access in the client bundle."
      },
      {
        "question": "How do I handle expired authentication tokens?",
        "answer": "Implement a token refresh flow that catches 401 errors, refreshes the token, and retries the original request automatically."
      },
      {
        "question": "What caching strategy should I use?",
        "answer": "React Query provides built-in caching with configurable staleTime. Set longer staleTime for rarely-changing data and use invalidation for fresh data."
      },
      {
        "question": "How do I debug network requests in Expo?",
        "answer": "Use React Query Devtools to inspect queries and cache state. For network debugging, use the Network panel in Chrome DevTools or Flipper."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 492
    }
  ]
}
