{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-22T08:40:46.955Z",
    "slug": "microsoft-azure-messaging",
    "source_url": "https://github.com/microsoft/github-copilot-for-azure/tree/main/plugin/skills/azure-messaging/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "8699ddcf2d4ca12d7bb44176c18eff51a032b6a3f3a72ad201ad34b5038cd84d",
    "tree_hash": "519a5363f5b01ea9c2940caa8585052a68aa401f6343a4e2d4de7e69d589f4aa"
  },
  "skill": {
    "name": "azure-messaging",
    "description": "Troubleshoot and resolve issues with Azure Messaging SDKs for Event Hubs and Service Bus. Covers connection failures, authentication errors, message processing issues, and SDK configuration problems. USE FOR: event hub SDK error, service bus SDK issue, messaging connection failure, AMQP error, event processor host issue, message lock lost, send timeout, receiver disconnected, SDK troubleshooting, azure messaging SDK, event hub consumer, service bus queue issue, topic subscription error, enable logging event hub, service bus logging, eventhub python, servicebus java, eventhub javascript, servicebus dotnet, event hub checkpoint, event hub not receiving messages, service bus dead letter DO NOT USE FOR: creating Event Hub or Service Bus resources (use azure-prepare), monitoring metrics (use azure-observability), cost analysis (use azure-cost-optimization)",
    "summary": "Microsoft skill for troubleshooting Azure Event Hubs and Service Bus SDK issues including connection failures, authentication errors, and message processing problems.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "microsoft",
    "license": "MIT",
    "tags": [
      "azure",
      "event-hubs",
      "service-bus",
      "troubleshooting",
      "messaging"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a Microsoft-official troubleshooting reference skill containing only documentation and example commands for debugging Azure Event Hubs and Service Bus SDK issues. All static findings are false positives: code fences (backticks) are markdown examples, URLs point to official Microsoft documentation, and diagnostic commands are standard troubleshooting tools. No executable code or malicious patterns detected.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 10,
    "total_lines": 599,
    "audit_model": "claude",
    "audited_at": "2026-02-22T08:40:46.955Z",
    "risk_factors": []
  },
  "content": {
    "user_title": "Troubleshoot Azure Messaging SDK Issues",
    "value_statement": "This skill helps developers diagnose and fix Azure Event Hubs and Service Bus SDK problems including connection failures, authentication errors, message processing issues, and configuration questions across Python, Java, JavaScript, and .NET SDKs.",
    "seo_keywords": [
      "azure messaging troubleshooting",
      "event hub SDK error",
      "service bus SDK issue",
      "azure eventhubs fix",
      "azure servicebus debugging",
      "AMQP connection error",
      "azure messaging SDK",
      "claude azure",
      "codex azure",
      "claude code azure"
    ],
    "actual_capabilities": [
      "Diagnose Event Hubs SDK connection failures and authentication errors across all supported languages",
      "Resolve Service Bus SDK issues including queue, topic, and subscription errors",
      "Configure retry policies, prefetch settings, and checkpoint stores for optimal performance",
      "Troubleshoot AMQP link errors, message lock issues, and sender/receiver timeouts",
      "Enable SDK logging and capture diagnostic information for support cases",
      "Guide users through network troubleshooting including firewall, proxy, and private endpoint issues"
    ],
    "limitations": [
      "This skill does not create or manage Azure Event Hub or Service Bus resources",
      "This skill does not provide monitoring or metrics for Azure messaging services",
      "This skill does not perform cost analysis or optimization for messaging resources",
      "This skill requires the Azure MCP tools to be configured for full functionality"
    ],
    "use_cases": [
      {
        "title": "Fix Event Hub connection failures",
        "description": "Developer encountering connection timeout or authentication errors when connecting to Azure Event Hubs from their application",
        "target_user": "Developers building event-driven applications with Azure Event Hubs"
      },
      {
        "title": "Resolve Service Bus message processing issues",
        "description": "Engineer dealing with message lock lost errors, dead letter queue problems, or session handling issues in Azure Service Bus",
        "target_user": "Backend engineers using Azure Service Bus for async messaging"
      },
      {
        "title": "Configure Event Processor for production",
        "description": "Team optimizing their Event Hub consumer application for high throughput with proper checkpointing and retry configuration",
        "target_user": "DevOps engineers and architects optimizing messaging workloads"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Event Hub error help",
        "prompt": "I am getting this error when using Azure Event Hubs: [ERROR_MESSAGE]. Help me understand what it means and how to fix it.",
        "scenario": "User has a specific error message from Event Hubs SDK"
      },
      {
        "title": "Service Bus authentication issue",
        "prompt": "My Service Bus client is failing with unauthorized access. I am using [AUTH_METHOD] in [LANGUAGE] SDK. Check my configuration and suggest fixes.",
        "scenario": "User facing authentication or authorization errors"
      },
      {
        "title": "Connection troubleshooting",
        "prompt": "My Azure messaging client cannot connect. The error is [ERROR]. Help me troubleshoot connectivity issues including firewall and network configuration.",
        "scenario": "User experiencing connectivity problems to Azure messaging services"
      },
      {
        "title": "Performance optimization",
        "prompt": "I want to optimize my Event Hub consumer for high throughput. Current setup: [DESCRIBE_CURRENT_CONFIG]. Help me tune retry, prefetch, and checkpoint settings.",
        "scenario": "User wants to improve messaging performance"
      }
    ],
    "output_examples": [
      {
        "input": "EventHubsException: The connection was closed unexpectedly when receiving events",
        "output": "This error typically indicates the EventProcessorClient was disposed or the AMQP connection was lost. Common causes: 1) Unhandled exception in event handler - ensure all exceptions are caught. 2) Process crash - host your processor in a stable environment. 3) Network interruption - implement retry logic. Check our documentation for proper event handler implementation and connection recovery patterns."
      },
      {
        "input": "Service Bus message lock lost immediately after processing",
        "output": "Message lock loss can occur if: 1) You complete the message before async processing finishes - use await. 2) The handler throws an unhandled exception. 3) The lock duration is too short for your processing time. Solution: Increase lock duration via QueueDescription.LockDuration, implement try-catch in your handler, and consider using PeekLock mode with explicit complete/abandon."
      }
    ],
    "best_practices": [
      "TreatHubClient Event as a singleton - creating new clients for each operation causes socket exhaustion and performance issues",
      "Configure appropriate retry policies using SDK retry options to handle transient failures gracefully",
      "Enable SDK logging with debug/verbose level to capture detailed diagnostic information for troubleshooting"
    ],
    "anti_patterns": [
      "Do not create new client instances for each message or operation - reuse the same client across your application",
      "Avoid disabling retry policies unless you have specific requirements - transient failures are common in cloud messaging",
      "Do not ignore exception types - different failure reasons require different handling strategies"
    ],
    "faq": [
      {
        "question": "What languages does this skill support?",
        "answer": "This skill covers troubleshooting guidance for Azure Event Hubs and Service Bus SDKs in .NET, Java, JavaScript/TypeScript, and Python."
      },
      {
        "question": "Does this skill create Event Hubs or Service Bus resources?",
        "answer": "No, this skill is for troubleshooting existing resources. Use the azure-prepare skill for creating and managing Azure messaging resources."
      },
      {
        "question": "How do I enable verbose logging for debugging?",
        "answer": "Set the appropriate environment variable or configuration for your SDK. For .NET, configure EventHubClientOptions. For Python, set AZURE_LOG_LEVEL. For JavaScript, use the DEBUG environment variable."
      },
      {
        "question": "Why am I getting quota exceeded errors?",
        "answer": "This usually means you have too many concurrent readers per consumer group. Each consumer group allows up to 5 concurrent readers. Reduce the number of consumers or use a different consumer group."
      },
      {
        "question": "How do I configure WebSocket connections?",
        "answer": "Use the WebSocket transport type for your SDK: .NET uses EventHubsTransportType.AmqpWebSockets, Java uses AmqpTransportType.AMQP_WEB_SOCKETS, Python uses TransportType.AmqpOverWebsocket."
      },
      {
        "question": "What is checkpointing and how do I configure it?",
        "answer": "Checkpointing tracks the last processed event position. Use Azure Blob Storage with EventProcessorClient. Configure the BlobContainerClient and the processor will automatically manage partition ownership and checkpoint progress."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "sdk",
          "type": "dir",
          "path": "references/sdk",
          "children": [
            {
              "name": "azure-eventhubs-dotnet.md",
              "type": "file",
              "path": "references/sdk/azure-eventhubs-dotnet.md",
              "lines": 67
            },
            {
              "name": "azure-eventhubs-java.md",
              "type": "file",
              "path": "references/sdk/azure-eventhubs-java.md",
              "lines": 68
            },
            {
              "name": "azure-eventhubs-js.md",
              "type": "file",
              "path": "references/sdk/azure-eventhubs-js.md",
              "lines": 63
            },
            {
              "name": "azure-eventhubs-py.md",
              "type": "file",
              "path": "references/sdk/azure-eventhubs-py.md",
              "lines": 82
            },
            {
              "name": "azure-servicebus-dotnet.md",
              "type": "file",
              "path": "references/sdk/azure-servicebus-dotnet.md",
              "lines": 36
            },
            {
              "name": "azure-servicebus-java.md",
              "type": "file",
              "path": "references/sdk/azure-servicebus-java.md",
              "lines": 50
            },
            {
              "name": "azure-servicebus-js.md",
              "type": "file",
              "path": "references/sdk/azure-servicebus-js.md",
              "lines": 45
            },
            {
              "name": "azure-servicebus-py.md",
              "type": "file",
              "path": "references/sdk/azure-servicebus-py.md",
              "lines": 51
            }
          ]
        },
        {
          "name": "service-troubleshooting.md",
          "type": "file",
          "path": "references/service-troubleshooting.md",
          "lines": 74
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 63
    }
  ]
}
