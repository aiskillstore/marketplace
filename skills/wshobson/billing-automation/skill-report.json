{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T07:42:48.166Z",
    "slug": "wshobson-billing-automation",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/payment-processing/skills/billing-automation",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "a56e9e71f5ccb8f95069d2f34158e28c05a1bb7e5f6f2c2f68b00a05d011a09e",
    "tree_hash": "ad517e348bc00c129b804d6f14880bf3a5dc166657894282bde44c72b5cc84e8"
  },
  "skill": {
    "name": "billing-automation",
    "description": "Build automated billing systems for recurring payments, invoicing, subscription lifecycle, and dunning management. Use when implementing subscription billing, automating invoicing, or managing recurring payment systems.",
    "summary": "Build automated billing systems for recurring payments, invoicing, subscription lifecycle, and dunni...",
    "icon": "ðŸ’³",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "productivity",
    "tags": [
      "billing",
      "subscriptions",
      "invoicing",
      "payments",
      "dunning"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only SKILL.md with billing patterns and sample code. No executable scripts, file system access, environment variable reading, or actual network calls. All 47 static findings are false positives: markdown code block backticks misidentified as Ruby execution, basic arithmetic misidentified as weak crypto, placeholder URLs in templates, and billing state management misidentified as reconnaissance.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 271,
            "line_end": 271
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 51
          },
          {
            "file": "SKILL.md",
            "line_start": 51,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 127
          },
          {
            "file": "SKILL.md",
            "line_start": 127,
            "line_end": 131
          },
          {
            "file": "SKILL.md",
            "line_start": 131,
            "line_end": 206
          },
          {
            "file": "SKILL.md",
            "line_start": 206,
            "line_end": 210
          },
          {
            "file": "SKILL.md",
            "line_start": 210,
            "line_end": 279
          },
          {
            "file": "SKILL.md",
            "line_start": 279,
            "line_end": 283
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 329
          },
          {
            "file": "SKILL.md",
            "line_start": 329,
            "line_end": 333
          },
          {
            "file": "SKILL.md",
            "line_start": 333,
            "line_end": 398
          },
          {
            "file": "SKILL.md",
            "line_start": 398,
            "line_end": 402
          },
          {
            "file": "SKILL.md",
            "line_start": 402,
            "line_end": 477
          },
          {
            "file": "SKILL.md",
            "line_start": 477,
            "line_end": 481
          },
          {
            "file": "SKILL.md",
            "line_start": 481,
            "line_end": 530
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 737,
    "audit_model": "claude",
    "audited_at": "2026-01-17T07:42:48.166Z"
  },
  "content": {
    "user_title": "Automate subscription billing workflows",
    "value_statement": "Recurring billing systems are complex to design and maintain. This skill provides clear patterns for subscriptions, invoicing, dunning, proration, and taxes.",
    "seo_keywords": [
      "subscription billing",
      "invoice automation",
      "dunning management",
      "proration logic",
      "tax calculation",
      "usage-based billing",
      "Claude",
      "Codex",
      "Claude Code",
      "SaaS billing"
    ],
    "actual_capabilities": [
      "Define subscription states and lifecycle transitions",
      "Generate invoices with line items, tax, and totals",
      "Run billing cycles with payment retries and dunning",
      "Calculate proration for plan or seat changes",
      "Compute sales tax, VAT, and GST by region",
      "Model usage-based billing with tiered pricing"
    ],
    "limitations": [
      "Sample code only, no production storage or scheduler",
      "Payment processor calls are illustrative and not authenticated",
      "Tax validation is a placeholder without API integration",
      "Invoice PDF and HTML rendering are partial examples"
    ],
    "use_cases": [
      {
        "target_user": "SaaS founder",
        "title": "Launch subscriptions",
        "description": "Set up basic subscription billing, trials, and renewals for a new product."
      },
      {
        "target_user": "Billing engineer",
        "title": "Improve dunning",
        "description": "Design a retry schedule and notifications for failed payments."
      },
      {
        "target_user": "Finance analyst",
        "title": "Model proration",
        "description": "Estimate credits and charges for mid-cycle plan changes."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start subscription flow",
        "scenario": "New product needs monthly billing",
        "prompt": "Design a subscription lifecycle with trial, active, past due, and canceled states. Include key transitions and required data fields."
      },
      {
        "title": "Invoice generation plan",
        "scenario": "Need standard invoice output",
        "prompt": "Outline invoice generation steps with line items, tax, and totals. Include data inputs and validation checks."
      },
      {
        "title": "Dunning retry schedule",
        "scenario": "Recover failed payments",
        "prompt": "Propose a dunning schedule with retries and email notifications. Explain how to handle recovery and cancellation."
      },
      {
        "title": "Usage based billing",
        "scenario": "Metered pricing model",
        "prompt": "Describe how to track usage events and calculate tiered pricing charges for a billing period."
      }
    ],
    "output_examples": [
      {
        "input": "Create a billing cycle workflow for monthly subscriptions with dunning.",
        "output": [
          "Check if billing period ended and generate invoice",
          "Attempt payment and mark invoice paid on success",
          "On failure, mark past due and start retry schedule",
          "Send notifications and cancel after final retry"
        ]
      },
      {
        "input": "How do I calculate proration when a customer upgrades mid-month?",
        "output": [
          "Calculate days used on current plan",
          "Calculate remaining days in billing period",
          "Credit unused portion of old plan",
          "Charge prorated amount for new plan",
          "Apply net difference to next invoice"
        ]
      },
      {
        "input": "What tax rates apply to EU customers versus US customers?",
        "output": [
          "EU: VAT rates by country (GB 20%, DE 19%, FR 20%)",
          "US: State-level sales tax (CA 7.25%, NY 4%)",
          "AU: GST at 10%",
          "Non-listed regions: No tax calculation"
        ]
      }
    ],
    "best_practices": [
      "Keep an audit trail of billing events",
      "Notify customers at each billing change",
      "Validate tax rules by jurisdiction"
    ],
    "anti_patterns": [
      "Hardcoding billing dates and intervals",
      "Canceling after a single failed payment",
      "Skipping proration when plans change mid-cycle"
    ],
    "faq": [
      {
        "question": "Is this compatible with Claude, Codex, and Claude Code?",
        "answer": "Yes, the guidance is platform neutral and works in Claude, Codex, and Claude Code."
      },
      {
        "question": "What are the limits of the provided code?",
        "answer": "It is sample logic and does not include storage, job scheduling, or full production error handling."
      },
      {
        "question": "Can I integrate it with Stripe or other processors?",
        "answer": "Yes, the examples show where processor calls fit, but you must add real SDK calls and auth."
      },
      {
        "question": "Does it access or store sensitive data?",
        "answer": "No, the skill is documentation and code patterns only. It does not read local files."
      },
      {
        "question": "What if my billing cycle is custom?",
        "answer": "Adjust the billing cycle calculation and proration logic to match your custom schedule."
      },
      {
        "question": "How does it compare to a full billing platform?",
        "answer": "It provides architecture and logic patterns, not a hosted billing service or turnkey UI."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 560
    }
  ]
}
