{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T07:37:37.811Z",
    "slug": "wshobson-bazel-build-optimization",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/developer-essentials/skills/bazel-build-optimization",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "e0b45c0a6a30d1119f259b8a19a09b3fd9c33cbfa6d373077a5f94ce05848a11",
    "tree_hash": "c9af0d125aefbdedbc77dcb3ee211ac7be36fa02280365f27212e6eb4edd60a5"
  },
  "skill": {
    "name": "bazel-build-optimization",
    "description": "Optimize Bazel builds for large-scale monorepos. Use when configuring Bazel, implementing remote execution, or optimizing build performance for enterprise codebases.",
    "summary": "Optimize Bazel builds for large-scale monorepos. Use when configuring Bazel, implementing remote exe...",
    "icon": "ðŸ§±",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "bazel",
      "build",
      "performance",
      "monorepo",
      "devops"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure documentation skill containing only instructional markdown content. No executable code, scripts, or functions exist. Static findings are false positives triggered by documentation patterns: 'sha256' in http_archive() calls are integrity checksums for dependency downloads (security best practice), backticks are Markdown code fences, and URL references are documentation links. No file system access, network calls, or command execution capabilities exist.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 65,
            "line_end": 65
          },
          {
            "file": "SKILL.md",
            "line_start": 92,
            "line_end": 92
          },
          {
            "file": "SKILL.md",
            "line_start": 135,
            "line_end": 135
          },
          {
            "file": "SKILL.md",
            "line_start": 383,
            "line_end": 383
          },
          {
            "file": "SKILL.md",
            "line_start": 384,
            "line_end": 384
          },
          {
            "file": "SKILL.md",
            "line_start": 385,
            "line_end": 385
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 46
          },
          {
            "file": "SKILL.md",
            "line_start": 46,
            "line_end": 54
          },
          {
            "file": "SKILL.md",
            "line_start": 54,
            "line_end": 97
          },
          {
            "file": "SKILL.md",
            "line_start": 97,
            "line_end": 101
          },
          {
            "file": "SKILL.md",
            "line_start": 101,
            "line_end": 152
          },
          {
            "file": "SKILL.md",
            "line_start": 152,
            "line_end": 156
          },
          {
            "file": "SKILL.md",
            "line_start": 156,
            "line_end": 193
          },
          {
            "file": "SKILL.md",
            "line_start": 193,
            "line_end": 197
          },
          {
            "file": "SKILL.md",
            "line_start": 197,
            "line_end": 231
          },
          {
            "file": "SKILL.md",
            "line_start": 231,
            "line_end": 235
          },
          {
            "file": "SKILL.md",
            "line_start": 235,
            "line_end": 278
          },
          {
            "file": "SKILL.md",
            "line_start": 278,
            "line_end": 282
          },
          {
            "file": "SKILL.md",
            "line_start": 282,
            "line_end": 306
          },
          {
            "file": "SKILL.md",
            "line_start": 306,
            "line_end": 310
          },
          {
            "file": "SKILL.md",
            "line_start": 310,
            "line_end": 347
          },
          {
            "file": "SKILL.md",
            "line_start": 347,
            "line_end": 351
          },
          {
            "file": "SKILL.md",
            "line_start": 351,
            "line_end": 364
          },
          {
            "file": "SKILL.md",
            "line_start": 293,
            "line_end": 293
          },
          {
            "file": "SKILL.md",
            "line_start": 282,
            "line_end": 306
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 116,
            "line_end": 116
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 116,
            "line_end": 116
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 561,
    "audit_model": "claude",
    "audited_at": "2026-01-17T07:37:37.811Z"
  },
  "content": {
    "user_title": "Optimize Bazel builds for large monorepos",
    "value_statement": "Large Bazel builds can become slow and hard to maintain. This skill provides proven templates and workflows to improve speed and reliability across enterprise codebases.",
    "seo_keywords": [
      "Bazel optimization",
      "remote caching",
      "remote execution",
      "monorepo builds",
      "build performance",
      "Bazel rules",
      "Claude",
      "Codex",
      "Claude Code",
      "build profiling"
    ],
    "actual_capabilities": [
      "Provide WORKSPACE and .bazelrc configuration templates for monorepo setups",
      "Offer TypeScript and Python BUILD file examples with test configurations",
      "Show custom Bazel rule patterns for Docker image building",
      "List Bazel query commands for dependency analysis and build graph inspection",
      "Outline remote execution platform and toolchain configuration patterns",
      "Include build profiling commands to identify performance bottlenecks"
    ],
    "limitations": [
      "Does not run Bazel commands or modify your repository files",
      "Requires you to fill in specific versions, URLs, and checksums for your project",
      "Does not validate remote cache or executor service availability",
      "Does not generate full CI/CD pipeline configuration files"
    ],
    "use_cases": [
      {
        "target_user": "Platform engineer",
        "title": "Standardize monorepo builds",
        "description": "Adopt consistent Bazel configuration templates and caching strategies across teams for faster, reproducible builds."
      },
      {
        "target_user": "Build systems developer",
        "title": "Design remote execution setup",
        "description": "Draft platform definitions and toolchain configurations for connecting to remote execution clusters."
      },
      {
        "target_user": "Tech lead",
        "title": "Reduce build times",
        "description": "Identify caching improvements and profiling steps to cut pipeline execution time in large codebases."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start Bazel setup",
        "scenario": "New monorepo using Bazel",
        "prompt": "Create a minimal WORKSPACE.bazel and .bazelrc for a TypeScript and Python monorepo. Include placeholders for rule versions and checksums."
      },
      {
        "title": "Improve caching",
        "scenario": "Slow CI builds",
        "prompt": "Recommend .bazelrc settings for local disk cache and remote cache. Explain when to enable remote upload of local results."
      },
      {
        "title": "Add build rules",
        "scenario": "New library package",
        "prompt": "Draft BUILD.bazel examples for a TypeScript library and a Python library with test targets included."
      },
      {
        "title": "Optimize performance",
        "scenario": "Large build graph",
        "prompt": "List Bazel query and profiling commands to identify slow targets and high fanout dependencies in a monorepo."
      }
    ],
    "output_examples": [
      {
        "input": "Help me speed up Bazel builds in a large monorepo",
        "output": [
          "Enable disk and repository caching in .bazelrc to reuse build artifacts across runs",
          "Add remote cache flags for CI environments and set remote_upload_local_results=true",
          "Use bazel analyze-profile on profile.json to identify action bottlenecks"
        ]
      },
      {
        "input": "Set up remote execution for our Bazel builds",
        "output": [
          "Configure .bazelrc with remote_cache and remote_executor endpoints for your execution service",
          "Define platform constraints in platforms/BUILD.bazel for worker selection",
          "Add toolchain definitions in toolchains/BUILD.bazel for language-specific toolchains"
        ]
      },
      {
        "input": "Create BUILD files for a new Python library",
        "output": [
          "Use py_library rule with glob for source files and requirement() for pip dependencies",
          "Add py_test rule with pytest dependency and appropriate size/timeout attributes",
          "Consider py_binary for entrypoint scripts with data dependencies for assets"
        ]
      }
    ],
    "best_practices": [
      "Use fine-grained targets to maximize incremental build cache hits across your codebase",
      "Pin Bazel rules and tool versions in WORKSPACE for reproducible, deterministic builds",
      "Profile builds regularly with bazel build --profile and address slow actions before they compound"
    ],
    "anti_patterns": [
      "Using broad glob patterns for source files in BUILD rules reduces cache effectiveness",
      "Skipping WORKSPACE setup or not pinning rule versions leads to non-reproducible builds",
      "Ignoring build warnings and analysis cache issues creates technical debt in build configurations"
    ],
    "faq": [
      {
        "question": "Is this compatible with any Bazel version?",
        "answer": "The templates are version-agnostic but you must match Bazel and rules versions to your project's requirements."
      },
      {
        "question": "What are the limits of this skill?",
        "answer": "It provides guidance, templates, and examples but does not execute Bazel or validate your specific configuration."
      },
      {
        "question": "Can it integrate with remote execution services?",
        "answer": "It outlines platform and toolchain patterns but you must configure service credentials and endpoints separately."
      },
      {
        "question": "Does it access my data or secrets?",
        "answer": "No. The content is static guidance that does not read files, environment variables, or make network requests."
      },
      {
        "question": "What if my build is still slow after applying these patterns?",
        "answer": "Use profiling commands to find specific slow actions and review target granularity and dependency structure."
      },
      {
        "question": "How does it compare to official Bazel documentation?",
        "answer": "It focuses on enterprise monorepo patterns and practical templates rather than API reference documentation."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 386
    }
  ]
}
