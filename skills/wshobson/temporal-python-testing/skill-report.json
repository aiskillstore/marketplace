{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T08:23:21.348Z",
    "slug": "wshobson-temporal-python-testing",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/backend-development/skills/temporal-python-testing",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "a9b1188dca10b80d2aef89d867fc6ecc1e1a76611ed70575a4fa82f6a570c5e2",
    "tree_hash": "df4ce190bd5a437930a37afcc28346d047e146adde17d5dfdaaf004f1d24286f"
  },
  "skill": {
    "name": "temporal-python-testing",
    "description": "Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, integration testing, replay testing, and local development setup. Use when implementing Temporal workflow tests or debugging test failures.",
    "summary": "Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, int...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "temporal",
      "python",
      "testing",
      "pytest",
      "workflows"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Educational documentation for Temporal workflow testing. Static scanner false positives: markdown code block backticks flagged as shell execution, legitimate docs URLs as hardcoded URLs, and test code patterns as cryptographic/C2 indicators. Previous Claude audit (skill-report.json) confirmed safe with no risk factors. All 149 findings are false positives from documentation patterns.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "resources/integration-testing.md",
            "line_start": 11,
            "line_end": 49
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 49,
            "line_end": 54
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 54,
            "line_end": 102
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 102,
            "line_end": 109
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 109,
            "line_end": 152
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 152,
            "line_end": 157
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 157,
            "line_end": 197
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 197,
            "line_end": 203
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 203,
            "line_end": 260
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 260,
            "line_end": 264
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 264,
            "line_end": 301
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 301,
            "line_end": 307
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 307,
            "line_end": 358
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 358,
            "line_end": 366
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 366,
            "line_end": 376
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 376,
            "line_end": 382
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 382,
            "line_end": 393
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 393,
            "line_end": 399
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 399,
            "line_end": 411
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 411,
            "line_end": 415
          },
          {
            "file": "resources/integration-testing.md",
            "line_start": 415,
            "line_end": 436
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 9,
            "line_end": 54
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 54,
            "line_end": 58
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 58,
            "line_end": 76
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 76,
            "line_end": 80
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 80,
            "line_end": 120
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 120,
            "line_end": 126
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 126,
            "line_end": 153
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 153,
            "line_end": 157
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 157,
            "line_end": 184
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 184,
            "line_end": 188
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 188,
            "line_end": 235
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 235,
            "line_end": 239
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 239,
            "line_end": 246
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 246,
            "line_end": 248
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 248,
            "line_end": 273
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 273,
            "line_end": 279
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 279,
            "line_end": 301
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 301,
            "line_end": 305
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 305,
            "line_end": 323
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 323,
            "line_end": 327
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 327,
            "line_end": 342
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 342,
            "line_end": 348
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 348,
            "line_end": 366
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 366,
            "line_end": 370
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 370,
            "line_end": 383
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 383,
            "line_end": 387
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 387,
            "line_end": 424
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 424,
            "line_end": 428
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 428,
            "line_end": 472
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 472,
            "line_end": 478
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 478,
            "line_end": 485
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 485,
            "line_end": 489
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 489,
            "line_end": 497
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 497,
            "line_end": 501
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 501,
            "line_end": 507
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 507,
            "line_end": 522
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 522,
            "line_end": 529
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 529,
            "line_end": 532
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 532,
            "line_end": 535
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 535,
            "line_end": 538
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 538,
            "line_end": 543
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 372,
            "line_end": 372
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 25,
            "line_end": 47
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 47,
            "line_end": 51
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 51,
            "line_end": 74
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 74,
            "line_end": 81
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 81,
            "line_end": 95
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 95,
            "line_end": 98
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 98,
            "line_end": 114
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 114,
            "line_end": 117
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 117,
            "line_end": 136
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 136,
            "line_end": 140
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 140,
            "line_end": 176
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 176,
            "line_end": 182
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 182,
            "line_end": 199
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 199,
            "line_end": 203
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 203,
            "line_end": 218
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 218,
            "line_end": 224
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 224,
            "line_end": 264
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 264,
            "line_end": 268
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 268,
            "line_end": 302
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 302,
            "line_end": 306
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 306,
            "line_end": 344
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 344,
            "line_end": 350
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 350,
            "line_end": 394
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 394,
            "line_end": 398
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 398,
            "line_end": 420
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 420,
            "line_end": 435
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 435,
            "line_end": 439
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 439,
            "line_end": 444
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 444,
            "line_end": 446
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 11,
            "line_end": 39
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 39,
            "line_end": 42
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 42,
            "line_end": 49
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 49,
            "line_end": 72
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 72,
            "line_end": 75
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 75,
            "line_end": 97
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 97,
            "line_end": 102
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 102,
            "line_end": 137
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 137,
            "line_end": 145
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 145,
            "line_end": 158
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 158,
            "line_end": 163
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 163,
            "line_end": 177
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 177,
            "line_end": 180
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 180,
            "line_end": 197
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 197,
            "line_end": 202
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 202,
            "line_end": 222
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 222,
            "line_end": 228
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 228,
            "line_end": 244
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 244,
            "line_end": 248
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 248,
            "line_end": 258
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 258,
            "line_end": 273
          },
          {
            "file": "resources/unit-testing.md",
            "line_start": 273,
            "line_end": 314
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 48,
            "line_end": 48
          },
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 105
          },
          {
            "file": "SKILL.md",
            "line_start": 105,
            "line_end": 109
          },
          {
            "file": "SKILL.md",
            "line_start": 109,
            "line_end": 116
          },
          {
            "file": "SKILL.md",
            "line_start": 116,
            "line_end": 137
          },
          {
            "file": "SKILL.md",
            "line_start": 137,
            "line_end": 138
          },
          {
            "file": "SKILL.md",
            "line_start": 138,
            "line_end": 139
          },
          {
            "file": "SKILL.md",
            "line_start": 139,
            "line_end": 140
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "resources/local-setup.md",
            "line_start": 48,
            "line_end": 48
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 69,
            "line_end": 69
          },
          {
            "file": "resources/local-setup.md",
            "line_start": 502,
            "line_end": 502
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "resources/replay-testing.md",
            "line_start": 455,
            "line_end": 455
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 195,
            "line_end": 195
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 291,
            "line_end": 291
          },
          {
            "file": "resources/replay-testing.md",
            "line_start": 323,
            "line_end": 323
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 2131,
    "audit_model": "claude",
    "audited_at": "2026-01-17T08:23:21.348Z"
  },
  "content": {
    "user_title": "Test Temporal workflows with pytest and mocks",
    "value_statement": "Temporal workflow tests are often slow or flaky. This skill provides fast, deterministic testing patterns using time-skipping, activity mocking, and replay validation for reliable CI/CD pipelines.",
    "seo_keywords": [
      "Temporal Python testing",
      "pytest Temporal workflows",
      "Temporal replay testing",
      "Temporal integration tests",
      "WorkflowEnvironment",
      "ActivityEnvironment",
      "Claude",
      "Codex",
      "Claude Code",
      "Temporal SDK"
    ],
    "actual_capabilities": [
      "Explain unit testing with WorkflowEnvironment time skipping",
      "Show activity testing patterns with ActivityEnvironment",
      "Describe integration testing with mocked activities and error injection",
      "Guide replay testing for determinism and version compatibility",
      "Outline local setup with Docker Compose and pytest configuration",
      "Provide CI/CD integration patterns for automated testing"
    ],
    "limitations": [
      "Does not execute tests or connect to your Temporal server",
      "Examples are templates that require your workflow code",
      "Replay testing needs existing production workflow histories",
      "Coverage targets are recommendations, not enforced guarantees"
    ],
    "use_cases": [
      {
        "target_user": "Backend engineer",
        "title": "Add fast unit tests",
        "description": "Create quick workflow and activity tests with time skipping that run in milliseconds instead of hours."
      },
      {
        "target_user": "QA engineer",
        "title": "Validate integration flows",
        "description": "Mock external services and verify complex workflow orchestration paths with error injection."
      },
      {
        "target_user": "DevOps engineer",
        "title": "Run replay checks",
        "description": "Confirm workflow determinism before deployment and validate version compatibility."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start unit tests",
        "scenario": "First Temporal workflow tests",
        "prompt": "Show me a minimal pytest setup to test a workflow with time skipping and a simple activity. Include fixtures and assertions."
      },
      {
        "title": "Mock activities",
        "scenario": "Integration test with mocks",
        "prompt": "Provide an integration test example that mocks activities and verifies workflow branching logic based on activity results."
      },
      {
        "title": "Replay safety check",
        "scenario": "Before production deploy",
        "prompt": "Explain how to replay workflow histories from production and detect non-deterministic changes that could break running workflows."
      },
      {
        "title": "CI coverage plan",
        "scenario": "Add testing to CI",
        "prompt": "Outline a complete CI plan with pytest markers, coverage thresholds, and automated replay tests for safe deployments."
      }
    ],
    "output_examples": [
      {
        "input": "Create a test plan for Temporal workflows with unit, integration, and replay coverage.",
        "output": [
          "Use WorkflowEnvironment with time skipping for fast unit workflow tests",
          "Mock external dependencies in integration tests and verify error handling paths",
          "Export production histories and replay against new code before deployment"
        ]
      },
      {
        "input": "How do I test a workflow that has retry logic and multiple activities?",
        "output": [
          "Create a test with mocked activities to isolate workflow logic",
          "Use ActivityEnvironment to test activity-specific error handling",
          "Verify retry behavior by counting activity invocations",
          "Test both success and failure paths with assertions"
        ]
      },
      {
        "input": "What are common mistakes when testing Temporal workflows?",
        "output": [
          "Calling real external APIs instead of mocking them",
          "Using random() or datetime.now() which breaks replay determinism",
          "Skipping replay tests before deploying workflow changes",
          "Not using time-skipping for long-running workflow tests"
        ]
      }
    ],
    "best_practices": [
      "Use time skipping for all workflow unit tests to run month-long workflows in seconds",
      "Mock external dependencies in integration tests to isolate workflow logic",
      "Run replay tests before deploying any workflow changes to ensure determinism"
    ],
    "anti_patterns": [
      "Calling real external APIs inside workflow tests instead of mocking",
      "Using random() or datetime.now() in workflow code without Temporal helpers",
      "Skipping replay tests after significant workflow refactors or logic changes"
    ],
    "faq": [
      {
        "question": "What Python versions are supported?",
        "answer": "Examples target Python 3.10 or newer with the Temporal Python SDK v1.5.0 or later."
      },
      {
        "question": "Are there limits on test size?",
        "answer": "No fixed limits, but large replay test suites should be batched in CI for performance."
      },
      {
        "question": "Can I integrate this with existing pytest setups?",
        "answer": "Yes, the guidance uses standard pytest fixtures and markers that work with existing configurations."
      },
      {
        "question": "Does this skill access my data or credentials?",
        "answer": "No, it provides guidance only and does not read files, environment variables, or secrets."
      },
      {
        "question": "What if tests fail due to nondeterminism?",
        "answer": "Use workflow.get_version() for safe changes and avoid random or datetime without Temporal helpers."
      },
      {
        "question": "How does this compare to end-to-end tests?",
        "answer": "It emphasizes faster unit and integration tests with mocking, using replay tests for safety validation."
      }
    ]
  },
  "file_structure": [
    {
      "name": "resources",
      "type": "dir",
      "path": "resources",
      "children": [
        {
          "name": "integration-testing.md",
          "type": "file",
          "path": "resources/integration-testing.md",
          "lines": 453
        },
        {
          "name": "local-setup.md",
          "type": "file",
          "path": "resources/local-setup.md",
          "lines": 551
        },
        {
          "name": "replay-testing.md",
          "type": "file",
          "path": "resources/replay-testing.md",
          "lines": 456
        },
        {
          "name": "unit-testing.md",
          "type": "file",
          "path": "resources/unit-testing.md",
          "lines": 321
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 147
    }
  ]
}
