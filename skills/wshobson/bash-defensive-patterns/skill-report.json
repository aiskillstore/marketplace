{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-04T16:48:21.327Z",
    "slug": "wshobson-bash-defensive-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/shell-scripting/skills/bash-defensive-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "0433ee4f992fa9cdcc4fbfc908a34ccbf66dcd35034631699ba63cf76de292fa",
    "tree_hash": "bed8e72a9952a0d6da31d197d24844a89ebd49fea291860606336da371b8fdd7"
  },
  "skill": {
    "name": "bash-defensive-patterns",
    "description": "Master defensive Bash programming techniques for production-grade scripts. Use when writing robust shell scripts, CI/CD pipelines, or system utilities requiring fault tolerance and safety.",
    "summary": "Master defensive Bash programming techniques for production-grade scripts. Use when writing robust s...",
    "icon": "üõ°Ô∏è",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "category": "security",
    "tags": [
      "bash",
      "shell",
      "scripting",
      "safety",
      "ci-cd"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only instructional markdown and code examples. No executable scripts, file system access, network calls, or data collection capabilities. Content matches stated purpose of teaching defensive Bash programming patterns.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 533,
    "audit_model": "claude",
    "audited_at": "2026-01-04T16:48:21.327Z"
  },
  "content": {
    "user_title": "Build safer Bash scripts",
    "value_statement": "Write Bash scripts that fail safely and are easier to debug. This skill provides defensive patterns for errors, inputs, and cleanup.",
    "seo_keywords": [
      "Bash defensive scripting",
      "Bash strict mode",
      "shell error handling",
      "CI/CD script safety",
      "Claude",
      "Codex",
      "Claude Code",
      "secure shell scripts",
      "Bash logging",
      "Bash argument parsing"
    ],
    "actual_capabilities": [
      "Shows strict mode setup with error traps",
      "Demonstrates safe variable and array handling",
      "Provides robust argument parsing patterns",
      "Explains safe temporary file management",
      "Includes structured logging helpers",
      "Covers idempotent script design"
    ],
    "limitations": [
      "Does not execute or test scripts for you",
      "Assumes Bash, not other shells",
      "Does not provide OS specific installer steps",
      "Does not validate external command versions"
    ],
    "use_cases": [
      {
        "target_user": "DevOps engineer",
        "title": "Harden CI scripts",
        "description": "Apply strict mode, traps, and safe file handling to reduce pipeline failures."
      },
      {
        "target_user": "SRE",
        "title": "Safer maintenance scripts",
        "description": "Build idempotent system scripts with logging and cleanup patterns."
      },
      {
        "target_user": "Developer",
        "title": "Reliable utilities",
        "description": "Add input validation and dry run support to team utilities."
      }
    ],
    "prompt_templates": [
      {
        "title": "Strict mode setup",
        "scenario": "Start a new Bash script safely",
        "prompt": "Create a Bash script header with strict mode, error traps, and a cleanup handler for temporary files."
      },
      {
        "title": "Parse arguments",
        "scenario": "Add CLI options to a script",
        "prompt": "Show a robust argument parser with --verbose, --dry-run, and --output, plus validation."
      },
      {
        "title": "Safe file ops",
        "scenario": "Prevent destructive mistakes",
        "prompt": "Provide safe move and safe delete functions with clear error messages."
      },
      {
        "title": "Process orchestration",
        "scenario": "Manage background tasks",
        "prompt": "Give a pattern to start background jobs, track PIDs, and cleanly stop on SIGTERM."
      }
    ],
    "output_examples": [
      {
        "input": "Explain how to add strict mode and cleanup to my script",
        "output": [
          "Enable strict mode with set -Eeuo pipefail",
          "Add an ERR trap that prints the failing line",
          "Create a temp directory with mktemp -d",
          "Use an EXIT trap to remove the temp directory"
        ]
      }
    ],
    "best_practices": [
      "Enable strict mode and inherit ERR traps",
      "Quote all variables and validate inputs",
      "Use traps for cleanup and clear error messages"
    ],
    "anti_patterns": [
      "Using unquoted variables in file operations",
      "Ignoring command failures in pipelines",
      "Overwriting files without existence checks"
    ],
    "faq": [
      {
        "question": "Is this compatible with macOS and Linux?",
        "answer": "Yes, examples target Bash on common macOS and Linux environments."
      },
      {
        "question": "Does it support POSIX sh?",
        "answer": "No, many examples use Bash specific features."
      },
      {
        "question": "Can I integrate this into CI pipelines?",
        "answer": "Yes, the patterns are designed for CI and automation scripts."
      },
      {
        "question": "Does it access my files or secrets?",
        "answer": "No, it only provides guidance and code patterns."
      },
      {
        "question": "What if strict mode breaks my script?",
        "answer": "Review unset variables and failing commands, then add checks or defaults."
      },
      {
        "question": "How does this compare to a linter?",
        "answer": "It provides patterns and examples, not automated linting."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
