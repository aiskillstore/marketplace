{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T19:24:19.735Z",
    "slug": "wshobson-linkerd-patterns",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/cloud-infrastructure/skills/linkerd-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "2fa4da9f6cd479eb649fa81be5ae3de92acfbd788e5d3e418b432cae962c4f87",
    "tree_hash": "0dda43d27f4e6432868264c32cb82dbb3b2dd6a2844ad31e8fcf2471bf686960"
  },
  "skill": {
    "name": "linkerd-patterns",
    "description": "Implement Linkerd service mesh patterns for lightweight, security-focused service mesh deployments. Use when setting up Linkerd, configuring traffic policies, or implementing zero-trust networking with minimal overhead.",
    "summary": "Implement Linkerd service mesh patterns for lightweight, security-focused service mesh deployments. ...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "wshobson",
    "license": "MIT",
    "tags": [
      "kubernetes",
      "service-mesh",
      "linkerd",
      "microservices",
      "zero-trust"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings evaluated as false positives. The skill contains only documentation and YAML templates for Linkerd service mesh. Patterns detected (URLs, shell pipes, network CIDRs) are legitimate infrastructure documentation. No actual code execution, cryptographic operations, or malicious patterns present.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 245,
            "line_end": 245
          },
          {
            "file": "SKILL.md",
            "line_start": 307,
            "line_end": 307
          },
          {
            "file": "SKILL.md",
            "line_start": 308,
            "line_end": 308
          },
          {
            "file": "SKILL.md",
            "line_start": 309,
            "line_end": 309
          },
          {
            "file": "SKILL.md",
            "line_start": 200,
            "line_end": 200
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 74
          },
          {
            "file": "SKILL.md",
            "line_start": 74,
            "line_end": 78
          },
          {
            "file": "SKILL.md",
            "line_start": 78,
            "line_end": 99
          },
          {
            "file": "SKILL.md",
            "line_start": 99,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 138
          },
          {
            "file": "SKILL.md",
            "line_start": 138,
            "line_end": 142
          },
          {
            "file": "SKILL.md",
            "line_start": 142,
            "line_end": 155
          },
          {
            "file": "SKILL.md",
            "line_start": 155,
            "line_end": 159
          },
          {
            "file": "SKILL.md",
            "line_start": 159,
            "line_end": 201
          },
          {
            "file": "SKILL.md",
            "line_start": 201,
            "line_end": 205
          },
          {
            "file": "SKILL.md",
            "line_start": 205,
            "line_end": 235
          },
          {
            "file": "SKILL.md",
            "line_start": 235,
            "line_end": 239
          },
          {
            "file": "SKILL.md",
            "line_start": 239,
            "line_end": 254
          },
          {
            "file": "SKILL.md",
            "line_start": 254,
            "line_end": 258
          },
          {
            "file": "SKILL.md",
            "line_start": 258,
            "line_end": 273
          },
          {
            "file": "SKILL.md",
            "line_start": 273,
            "line_end": 277
          },
          {
            "file": "SKILL.md",
            "line_start": 277,
            "line_end": 289
          },
          {
            "file": "SKILL.md",
            "line_start": 289,
            "line_end": 300
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 748,
    "audit_model": "claude",
    "audited_at": "2026-01-21T19:24:19.735Z"
  },
  "content": {
    "user_title": "Set up Linkerd Service Mesh",
    "value_statement": "Implementing a service mesh adds complexity to Kubernetes clusters. This skill provides ready-to-use templates and patterns for Linkerd, the lightweight CNCF service mesh that enables automatic mTLS, traffic splitting, and zero-trust networking with minimal configuration overhead.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Linkerd",
      "service mesh",
      "Kubernetes",
      "microservices",
      "zero trust",
      "service mesh patterns",
      "Kubernetes security"
    ],
    "actual_capabilities": [
      "Generate Linkerd installation commands for Kubernetes clusters",
      "Create ServiceProfile configurations with retries and timeouts",
      "Configure TrafficSplit resources for canary deployments",
      "Define ServerAuthorization policies for zero-trust access control",
      "Build multi-cluster Linkerd setups with gateway configuration",
      "Generate monitoring commands for Linkerd observability"
    ],
    "limitations": [
      "Does not execute kubectl or linkerd commands directly",
      "Cannot validate existing cluster configurations",
      "Does not modify running services or deployments",
      "Cannot perform health checks or troubleshoot live Linkerd installations"
    ],
    "use_cases": [
      {
        "title": "Setting up Linkerd for the First Time",
        "description": "DevOps engineers new to Linkerd can use this skill to generate complete installation commands, namespace injection configurations, and verification steps for a production-ready service mesh deployment.",
        "target_user": "Platform engineers and DevOps practitioners"
      },
      {
        "title": "Configuring Advanced Traffic Management",
        "description": "SREs and traffic engineers can create ServiceProfile configurations with custom retries, timeouts, and TrafficSplit resources for blue-green deployments and canary releases.",
        "target_user": "Site reliability engineers and traffic managers"
      },
      {
        "title": "Implementing Zero-Trust Network Policies",
        "description": "Security teams can generate ServerAuthorization policies that restrict service-to-service communication to authenticated clients, supporting compliance requirements for zero-trust architectures.",
        "target_user": "Security engineers and compliance teams"
      }
    ],
    "prompt_templates": [
      {
        "title": "Install Linkerd on Kubernetes",
        "prompt": "Generate the commands and YAML templates to install Linkerd on my Kubernetes cluster. Include pre-check validation, CRD installation, control plane setup, and the viz extension for observability.",
        "scenario": "Initial service mesh deployment"
      },
      {
        "title": "Create Service Profile with Retries",
        "prompt": "Create a Linkerd ServiceProfile for my api-service with retry configuration. GET requests should be retryable with a 0.2 retry ratio. Set a 5 second timeout on endpoint calls.",
        "scenario": "Configuring route-level resilience"
      },
      {
        "title": "Set Up Canary Deployment",
        "prompt": "Generate a TrafficSplit configuration to route 10% of traffic to my-service-canary while keeping 90% on my-service-stable for a controlled canary rollout.",
        "scenario": "Blue-green or canary deployment"
      },
      {
        "title": "Configure Authorization Policy",
        "prompt": "Create a ServerAuthorization policy that allows only my frontend service account to access the api-server on port 8080. All other traffic should be denied by default.",
        "scenario": "Zero-trust access control"
      }
    ],
    "output_examples": [
      {
        "input": "Generate a TrafficSplit for canary deployment with 90/10 split",
        "output": [
          "```yaml",
          "apiVersion: split.smi-spec.io/v1alpha1",
          "kind: TrafficSplit",
          "metadata:",
          "  name: my-service-canary",
          "  namespace: my-namespace",
          "spec:",
          "  service: my-service",
          "  backends:",
          "    - service: my-service-stable",
          "      weight: 900m",
          "    - service: my-service-canary",
          "      weight: 100m",
          "```"
        ]
      },
      {
        "input": "Create ServerAuthorization for authenticated clients only",
        "output": [
          "```yaml",
          "apiVersion: policy.linkerd.io/v1beta1",
          "kind: ServerAuthorization",
          "metadata:",
          "  name: allow-frontend",
          "  namespace: my-namespace",
          "spec:",
          "  server:",
          "    name: my-service-http",
          "  client:",
          "    meshTLS:",
          "      serviceAccounts:",
          "        - name: frontend",
          "          namespace: my-namespace",
          "```"
        ]
      }
    ],
    "best_practices": [
      "Always run linkerd check after any configuration change to validate the mesh is healthy before deploying changes to production traffic.",
      "Enable automatic mTLS on all namespaces by default to ensure all service-to-service communication is encrypted and authenticated without manual certificate management.",
      "Use ServiceProfiles to define per-route timeouts and retries that match your application semantics, preventing cascade failures during upstream issues."
    ],
    "anti_patterns": [
      "Skipping linkerd check after installation or configuration changes can lead to silent failures where the service mesh is not functioning as expected.",
      "Configuring overly broad ServerAuthorization policies with unauthenticated access defeats the purpose of zero-trust networking and should be limited to specific ingress paths.",
      "Setting retry budgets too high can cause retry storms during outages, overwhelming downstream services and degrading overall system stability."
    ],
    "faq": [
      {
        "question": "Does this skill execute commands on my cluster?",
        "answer": "No, this skill only generates YAML configurations and kubectl commands based on your requirements. You review and apply them manually in your terminal."
      },
      {
        "question": "What version of Linkerd is supported?",
        "answer": "This skill targets Linkerd 2.x which is the current stable version. Templates use v1alpha2 and v1beta1 API versions common in 2.14 and later releases."
      },
      {
        "question": "Can I use this with managed Kubernetes services?",
        "answer": "Yes, Linkerd works with any conformant Kubernetes cluster including EKS, GKE, AKS, and self-managed clusters. The installation commands are identical."
      },
      {
        "question": "How does Linkerd differ from Istio?",
        "answer": "Linkerd is designed to be lightweight and simpler to operate with automatic mTLS, smaller resource footprint, and a focused feature set compared to Istio's extensive capabilities."
      },
      {
        "question": "Do I need to generate certificates manually?",
        "answer": "No, Linkerd handles mTLS certificate rotation automatically. The service mesh identity system manages certificates without operator intervention."
      },
      {
        "question": "Can this skill help with troubleshooting?",
        "answer": "The skill generates monitoring commands like linkerd viz top and linkerd viz stat to help diagnose traffic issues, but cannot interpret results or fix problems automatically."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 310
    }
  ]
}
