{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T15:13:06.198Z",
    "slug": "cleanexpo-deployment-audit-skill",
    "source_url": "https://github.com/CleanExpo/Unite-Hub/tree/main/.claude/skills/deployment-audit",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fa1fe043fe40c5cd5e0a0be3f1019a3d2139e74106fc699a52912375ca77837e",
    "tree_hash": "9612454edbb57ba4a390d316d2ca6fbedbc61e98e5ccbcc52cbe112f0669959a"
  },
  "skill": {
    "name": "deployment-audit-skill",
    "description": "Use DigitalOcean MCP and related tools to check deployment health, crash logs, environment consistency, and runtime issues for Unite-Hub / Synthex. Use when diagnosing deployment failures or verifying readiness.",
    "summary": "Audit deployment health and troubleshoot runtime issues on DigitalOcean and Vercel platforms.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "CleanExpo",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "deployment",
      "audit",
      "monitoring",
      "digitalocean",
      "vercel"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This deployment audit skill reads local environment files and documents CLI commands for checking DigitalOcean and Vercel deployments. Static scanner flagged 43 patterns, but all are false positives or legitimate devops operations. The skill accesses .env files to validate configuration consistency, which is its intended purpose. No malicious behavior detected.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 59,
            "line_end": 59
          },
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 91
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 14,
            "line_end": 16
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 87
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 42
          },
          {
            "file": "SKILL.md",
            "line_start": 46,
            "line_end": 52
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Environment File Access",
        "description": "The skill reads .env.local files to check environment variable consistency across deployment platforms. This is the documented purpose of the audit skill and poses minimal risk as it operates on local files for validation purposes only.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 59,
            "line_end": 59
          }
        ]
      },
      {
        "title": "CLI Command Documentation",
        "description": "The skill documents usage of doctl and npm commands in markdown examples. These are not executable code but instructions for users to manually run deployment health checks.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 14,
            "line_end": 16
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 66
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 561,
    "audit_model": "claude",
    "audited_at": "2026-01-21T15:13:06.198Z"
  },
  "content": {
    "user_title": "Audit Deployment Health on DigitalOcean and Vercel",
    "value_statement": "Deployment failures are difficult to diagnose without centralized health checks. This skill audits crash logs, environment variable consistency, and runtime issues across DigitalOcean and Vercel to help you quickly identify and resolve deployment problems.",
    "seo_keywords": [
      "Claude Code",
      "Claude",
      "Codex",
      "deployment audit",
      "DigitalOcean monitoring",
      "Vercel troubleshooting",
      "environment variables",
      "crash logs",
      "devops automation",
      "deployment health"
    ],
    "actual_capabilities": [
      "Retrieve and analyze crash logs from DigitalOcean App Platform using doctl CLI commands",
      "Compare environment variables across local files, Vercel settings, and DigitalOcean app specs",
      "Validate required environment variables for Next.js, Supabase, Stripe, and authentication services",
      "Generate human-readable audit reports documenting deployment health status",
      "Check build processes for TypeScript errors and missing dependencies",
      "Document common deployment issues with suggested fixes"
    ],
    "limitations": [
      "Requires manual execution of CLI commands documented in the skill output",
      "Only monitors DigitalOcean and Vercel platforms, not other cloud providers",
      "Cannot automatically fix deployment issues, only identifies and documents them",
      "Designed specifically for Unite-Hub and Synthex projects, may need adaptation for other applications"
    ],
    "use_cases": [
      {
        "title": "Diagnose Production Crashes",
        "description": "Quickly identify why your application is crashing in production by retrieving and analyzing recent crash logs from DigitalOcean App Platform.",
        "target_user": "DevOps engineers responding to production incidents"
      },
      {
        "title": "Verify Pre-Deployment Configuration",
        "description": "Before deploying to production, validate that all required environment variables are set correctly across all platforms to prevent configuration-related failures.",
        "target_user": "Developers preparing production deployments"
      },
      {
        "title": "Audit Environment Consistency",
        "description": "Compare environment variables across local development, Vercel, and DigitalOcean to ensure consistency and identify configuration drift between environments.",
        "target_user": "Platform engineers maintaining deployment infrastructure"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Health Check",
        "prompt": "Run a deployment health check for my application",
        "scenario": "Quick overview of current deployment status"
      },
      {
        "title": "Crash Log Analysis",
        "prompt": "Retrieve and analyze the recent crash logs from DigitalOcean",
        "scenario": "Investigating why the application keeps restarting"
      },
      {
        "title": "Environment Variable Audit",
        "prompt": "Compare environment variables between local, Vercel, and DigitalOcean to find any mismatches",
        "scenario": "Debugging configuration issues across environments"
      },
      {
        "title": "Full Deployment Audit",
        "prompt": "Perform a complete deployment audit including environment check, build verification, and runtime validation, then generate a report",
        "scenario": "Comprehensive pre-deployment readiness check"
      }
    ],
    "output_examples": [
      {
        "input": "Run a deployment health check for my application",
        "output": "Deployment Health Summary:\n\nEnvironment Variables: 8/10 required variables found\n- Missing: STRIPE_WEBHOOK_SECRET, SENDGRID_API_KEY\n- Mismatch detected: NEXTAUTH_URL differs between Vercel and DigitalOcean\n\nBuild Status: Passing\n- No TypeScript errors\n- All dependencies installed\n\nRuntime Status: 2 crashes in last 24 hours\n- Error: Database connection timeout\n- Recommendation: Enable connection pooling in Supabase settings\n\nFull report saved to docs/audit/DEPLOYMENT_HEALTH.md"
      },
      {
        "input": "Retrieve and analyze the recent crash logs from DigitalOcean",
        "output": "Crash Log Analysis:\n\nMost Recent Crash (2 hours ago):\nComponent: web\nError Type: Memory limit exceeded\nMemory Usage: 1024MB / 512MB limit\n\nCrash Pattern: 3 similar crashes in past 6 hours\nLikely Cause: Memory leak in API route handler\n\nRecommended Actions:\n1. Increase memory limit to 1024MB in app spec\n2. Review API routes for memory-intensive operations\n3. Implement caching to reduce memory usage\n\nDetailed logs saved to docs/audit/AUDIT_ISSUES_REGISTRY.json"
      }
    ],
    "best_practices": [
      "Run deployment audits before every production deployment to catch configuration issues early",
      "Set up automated monitoring to check deployment health on a regular schedule",
      "Document all environment variable changes in the audit registry for future reference"
    ],
    "anti_patterns": [
      "Skipping environment variable validation and deploying with missing configuration",
      "Ignoring crash log patterns and only fixing individual incidents without addressing root causes",
      "Running audits only after problems occur instead of proactively monitoring deployment health"
    ],
    "faq": [
      {
        "question": "What platforms does this skill support?",
        "answer": "This skill is designed for DigitalOcean App Platform and Vercel. It checks deployment health, crash logs, and environment variables across these platforms."
      },
      {
        "question": "Can this skill automatically fix deployment issues?",
        "answer": "No, this skill identifies and documents issues but does not automatically apply fixes. It provides recommended actions that you can implement manually."
      },
      {
        "question": "Do I need CLI tools installed to use this skill?",
        "answer": "Yes, you need the DigitalOcean CLI (doctl) installed and configured to retrieve deployment information. The skill provides commands that Claude Code can execute."
      },
      {
        "question": "What environment variables does this skill check?",
        "answer": "The skill validates required variables including Supabase URLs and keys, NextAuth configuration, OAuth credentials, Stripe keys, and optional service API keys for SendGrid, Resend, and SEO tools."
      },
      {
        "question": "How often should I run deployment audits?",
        "answer": "Run audits before every production deployment, after any configuration changes, and when investigating runtime issues. For active projects, daily automated audits are recommended."
      },
      {
        "question": "Where are audit reports saved?",
        "answer": "Reports are saved to docs/audit/DEPLOYMENT_HEALTH.md for human-readable summaries and docs/audit/AUDIT_ISSUES_REGISTRY.json for structured issue tracking."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 100
    }
  ]
}
