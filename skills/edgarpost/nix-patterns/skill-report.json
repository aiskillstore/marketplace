{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T05:41:48.030Z",
    "slug": "edgarpost-nix-patterns",
    "source_url": "https://github.com/EdgarPost/claude-code/tree/main/skills/nix",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "4469d4b22cbc95bfc17af70db102f6f0aa2a5e28387dac9f9698051e35e0e888",
    "tree_hash": "149dc754a461c2a04d5f666767e1f7a7a07ed7eea9070cc2518d1ebc0b9d52fe"
  },
  "skill": {
    "name": "nix-patterns",
    "description": "NixOS module patterns. Use when creating or editing NixOS/home-manager modules, adding packages, or configuring programs.",
    "summary": "NixOS module patterns. Use when creating or editing NixOS/home-manager modules, adding packages, or ...",
    "icon": "ðŸ”§",
    "version": "1.0.0",
    "author": "EdgarPost",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "nix",
      "nixos",
      "home-manager",
      "configuration",
      "infrastructure"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing static NixOS configuration patterns in markdown. No executable code, network calls, or file operations. All 24 static findings are false positives: the scanner misinterprets Nix language syntax (with pkgs, lib.optionals, builtins.toJSON) as shell commands, relative import paths as path traversal, and JSON metadata fields containing 'hash' substrings as cryptographic operations.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 11,
            "line_end": 11
          },
          {
            "file": "SKILL.md",
            "line_start": 12,
            "line_end": 12
          },
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 24
          },
          {
            "file": "SKILL.md",
            "line_start": 24,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 35
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 34
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 211,
    "audit_model": "claude",
    "audited_at": "2026-01-17T05:41:48.030Z"
  },
  "content": {
    "user_title": "Configure NixOS with Proven Patterns",
    "value_statement": "NixOS module configuration requires understanding specific syntax and patterns. This skill provides ready-to-use examples for home-manager modules, package installation, and system configuration.",
    "seo_keywords": [
      "NixOS configuration",
      "home-manager modules",
      "Nix patterns",
      "NixOS modules",
      "system configuration",
      "Claude Code",
      "infrastructure as code",
      "declarative configuration",
      "Nixpkgs",
      "Nix language"
    ],
    "actual_capabilities": [
      "Shows directory structure for NixOS modules",
      "Demonstrates package installation with pkgs",
      "Creates home-manager module examples",
      "Explains module imports and relative paths",
      "Provides conditional package loading patterns"
    ],
    "limitations": [
      "Only covers basic module patterns",
      "Does not include advanced Nix features like overlays",
      "Limited to home-manager and NixOS configurations",
      "No troubleshooting or debugging guidance"
    ],
    "use_cases": [
      {
        "target_user": "DevOps Engineers",
        "title": "Standardize Configurations",
        "description": "Use proven patterns to maintain consistent NixOS systems across environments."
      },
      {
        "target_user": "System Administrators",
        "title": "Deploy User Environments",
        "description": "Configure home environments with home-manager using tested module patterns."
      },
      {
        "target_user": "Development Teams",
        "title": "Share Configurations",
        "description": "Create modular NixOS configs that teams can share and reuse across machines."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Module",
        "scenario": "Create a home-manager module",
        "prompt": "Show me how to create a home-manager module that installs Firefox and configures settings."
      },
      {
        "title": "Conditional Packages",
        "scenario": "Add architecture-specific packages",
        "prompt": "Create a pattern for installing packages only on x86_64-linux systems."
      },
      {
        "title": "Service Configuration",
        "scenario": "Configure system services",
        "prompt": "Provide a NixOS module pattern for enabling and configuring SSH daemon."
      },
      {
        "title": "Modular Setup",
        "scenario": "Separate concerns",
        "prompt": "Design a configuration that separates development tools from user preferences."
      }
    ],
    "output_examples": [
      {
        "input": "Create a home-manager module for VS Code",
        "output": [
          "Module structure with proper imports",
          "Package installation with conditional logic",
          "Configuration file generation"
        ]
      },
      {
        "input": "Set up multiple development environments",
        "output": [
          "Separated module concerns",
          "Shared configuration patterns",
          "Clean import structure"
        ]
      }
    ],
    "best_practices": [
      "Use descriptive module names that indicate purpose",
      "Separate system-wide and user-specific configurations",
      "Test configurations in a VM before deployment"
    ],
    "anti_patterns": [
      "Avoid putting all configurations in a single large file",
      "Do not hardcode system-specific paths or usernames",
      "Never skip testing after major NixOS updates"
    ],
    "faq": [
      {
        "question": "Is this compatible with all NixOS versions?",
        "answer": "Uses standard syntax that works with recent stable versions."
      },
      {
        "question": "Can I use these patterns with flakes?",
        "answer": "Module patterns work with both traditional and flake-based configurations."
      },
      {
        "question": "How do I integrate with existing configs?",
        "answer": "Import modules in your home/default.nix or configuration.nix file."
      },
      {
        "question": "Are these patterns safe for production?",
        "answer": "Standard configuration patterns used in production deployments."
      },
      {
        "question": "What if my package is not in nixpkgs?",
        "answer": "Custom packages or overlays are not covered in this skill."
      },
      {
        "question": "Can I share configs between machines?",
        "answer": "Yes, modular configurations make sharing across systems easy."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 36
    }
  ]
}
