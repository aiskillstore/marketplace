{
  "version": "1.0.0",
  "description": "Branching strategy configuration templates for different workflows",
  "templates": {
    "gitflow": {
      "name": "Gitflow",
      "description": "Classic gitflow with develop branch, feature branches, and release management",
      "bestFor": ["Teams with scheduled releases", "Projects requiring release branches", "Multiple parallel releases"],
      "config": {
        "strategy": "gitflow",
        "branches": {
          "main": "main",
          "develop": "develop",
          "prefixes": {
            "feature": "feature/",
            "bugfix": "bugfix/",
            "hotfix": "hotfix/",
            "release": "release/",
            "support": "support/"
          }
        },
        "naming": {
          "pattern": "{prefix}{issue?-}{name}",
          "requireIssue": false,
          "maxLength": 64,
          "allowedChars": "a-z0-9-"
        },
        "flows": {
          "feature": {
            "from": "develop",
            "to": "develop",
            "deleteAfterMerge": true,
            "squashMerge": false,
            "requirePR": false
          },
          "bugfix": {
            "from": "develop",
            "to": "develop",
            "deleteAfterMerge": true,
            "squashMerge": false,
            "requirePR": false
          },
          "release": {
            "from": "develop",
            "to": ["main", "develop"],
            "deleteAfterMerge": true,
            "createTag": true,
            "tagPattern": "v{version}",
            "requirePR": true
          },
          "hotfix": {
            "from": "main",
            "to": ["main", "develop"],
            "deleteAfterMerge": true,
            "createTag": true,
            "tagPattern": "v{version}",
            "requirePR": true
          },
          "support": {
            "from": "main",
            "to": "support/*",
            "deleteAfterMerge": false,
            "createTag": true
          }
        },
        "worktrees": {
          "enabled": true,
          "baseDir": "../worktrees",
          "autoCreate": {
            "hotfix": true,
            "release": true,
            "feature": false
          }
        },
        "policies": {
          "requirePRForMain": true,
          "requirePRForDevelop": false,
          "preventDirectPush": ["main"],
          "requireLinearHistory": false,
          "deleteBranchOnMerge": true
        }
      }
    },
    "github-flow": {
      "name": "GitHub Flow",
      "description": "Simple flow with main branch and feature branches, continuous deployment",
      "bestFor": ["Small teams", "Continuous deployment", "Web applications", "SaaS products"],
      "config": {
        "strategy": "github-flow",
        "branches": {
          "main": "main",
          "develop": null,
          "prefixes": {
            "feature": "feature/",
            "bugfix": "fix/",
            "hotfix": "hotfix/",
            "docs": "docs/",
            "refactor": "refactor/"
          }
        },
        "naming": {
          "pattern": "{prefix}{name}",
          "requireIssue": false,
          "maxLength": 64,
          "allowedChars": "a-z0-9-"
        },
        "flows": {
          "feature": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": true,
            "requirePR": true
          },
          "bugfix": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": true,
            "requirePR": true
          },
          "hotfix": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": false,
            "requirePR": true,
            "createTag": true
          }
        },
        "worktrees": {
          "enabled": true,
          "baseDir": "../worktrees",
          "autoCreate": {
            "hotfix": true,
            "release": false,
            "feature": false
          }
        },
        "policies": {
          "requirePRForMain": true,
          "preventDirectPush": ["main"],
          "requireLinearHistory": true,
          "deleteBranchOnMerge": true
        }
      }
    },
    "gitlab-flow": {
      "name": "GitLab Flow",
      "description": "Environment-based flow with staging and production branches",
      "bestFor": ["Environment-based deployments", "Staged releases", "Enterprise applications"],
      "config": {
        "strategy": "gitlab-flow",
        "branches": {
          "main": "main",
          "develop": null,
          "prefixes": {
            "feature": "feature/",
            "bugfix": "fix/",
            "hotfix": "hotfix/"
          }
        },
        "environments": {
          "enabled": true,
          "branches": {
            "development": "main",
            "staging": "staging",
            "production": "production"
          },
          "promotionOrder": ["main", "staging", "production"]
        },
        "naming": {
          "pattern": "{prefix}{name}",
          "requireIssue": false,
          "maxLength": 64,
          "allowedChars": "a-z0-9-"
        },
        "flows": {
          "feature": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": true,
            "requirePR": true
          },
          "promote": {
            "staging": {
              "from": "main",
              "to": "staging",
              "requirePR": true,
              "createTag": false
            },
            "production": {
              "from": "staging",
              "to": "production",
              "requirePR": true,
              "createTag": true
            }
          },
          "hotfix": {
            "from": "production",
            "to": ["production", "staging", "main"],
            "deleteAfterMerge": true,
            "createTag": true
          }
        },
        "worktrees": {
          "enabled": true,
          "baseDir": "../worktrees",
          "autoCreate": {
            "hotfix": true,
            "feature": false
          }
        },
        "policies": {
          "requirePRForMain": true,
          "requirePRForStaging": true,
          "requirePRForProduction": true,
          "preventDirectPush": ["main", "staging", "production"],
          "deleteBranchOnMerge": true
        }
      }
    },
    "trunk-based": {
      "name": "Trunk-Based Development",
      "description": "Single trunk with short-lived feature branches and feature flags",
      "bestFor": ["High-velocity teams", "Microservices", "Feature flag adoption", "CI/CD maturity"],
      "config": {
        "strategy": "trunk-based",
        "branches": {
          "main": "main",
          "develop": null,
          "prefixes": {
            "feature": "",
            "bugfix": "",
            "hotfix": "hotfix/"
          }
        },
        "naming": {
          "pattern": "{user}/{name}",
          "requireIssue": false,
          "maxLength": 64,
          "allowedChars": "a-z0-9-/",
          "shortLived": true,
          "maxAgeDays": 2
        },
        "flows": {
          "feature": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": true,
            "requirePR": true,
            "maxAge": "2 days"
          },
          "hotfix": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": false,
            "requirePR": false,
            "createTag": true
          }
        },
        "featureFlags": {
          "enabled": true,
          "provider": null,
          "warnOnLongBranch": true
        },
        "worktrees": {
          "enabled": false,
          "baseDir": "../worktrees"
        },
        "policies": {
          "requirePRForMain": true,
          "preventDirectPush": ["main"],
          "requireLinearHistory": true,
          "deleteBranchOnMerge": true,
          "warnStaleBranches": true,
          "staleBranchDays": 2
        }
      }
    },
    "simple": {
      "name": "Simple Flow",
      "description": "Minimal setup for solo developers or very small teams",
      "bestFor": ["Solo developers", "Personal projects", "Quick prototypes"],
      "config": {
        "strategy": "simple",
        "branches": {
          "main": "main",
          "develop": null,
          "prefixes": {
            "feature": "",
            "bugfix": "",
            "hotfix": ""
          }
        },
        "naming": {
          "pattern": "{name}",
          "requireIssue": false,
          "maxLength": 64,
          "allowedChars": "a-z0-9-"
        },
        "flows": {
          "feature": {
            "from": "main",
            "to": "main",
            "deleteAfterMerge": true,
            "squashMerge": false,
            "requirePR": false
          }
        },
        "worktrees": {
          "enabled": false
        },
        "policies": {
          "requirePRForMain": false,
          "preventDirectPush": [],
          "deleteBranchOnMerge": true
        }
      }
    }
  },
  "schema": {
    "version": "1.0.0",
    "required": ["strategy", "branches", "flows"],
    "optional": ["naming", "worktrees", "policies", "environments", "featureFlags"]
  }
}
