{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T21:30:15.613Z",
    "slug": "c0ntr0lledcha0s-understanding-db-schema",
    "source_url": "https://github.com/C0ntr0lledCha0s/claude-code-plugin-automations/tree/main/logseq-expert/skills/understanding-db-schema",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "1273551f22dd3ebdca6831e494b276ca79b566f9893c3e6dd46eeec036b82533",
    "tree_hash": "bbb874cae41a3cb58dadc1a89a2470b530c7211b07b4e14fe4d9bb2a996bae36"
  },
  "skill": {
    "name": "understanding-db-schema",
    "description": "Deep expertise in Logseq's Datascript database schema. Auto-invokes when users ask about Logseq DB schema, Datascript attributes, built-in classes, property types, entity relationships, schema validation, or the node/block/page data model. Provides authoritative knowledge of the DB graph architecture.\n",
    "summary": "Deep expertise in Logseq's Datascript database schema. Auto-invokes when users ask about Logseq DB s...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "C0ntr0lledCha0s",
    "license": "MIT",
    "category": "data",
    "tags": [
      "logseq",
      "datascript",
      "database",
      "schema",
      "claude-code"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill providing read-only knowledge of Logseq's Datascript schema. Contains template examples and reference materials only. No executable code, no command execution, no file modifications. All 88 static findings are false positives from the scanner misidentifying Clojure Datalog keywords as cryptographic patterns and Clojure syntax backticks as shell execution.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "references/built-in-classes.md",
            "line_start": 5,
            "line_end": 25
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 25,
            "line_end": 40
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 40,
            "line_end": 49
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 49,
            "line_end": 50
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 50,
            "line_end": 51
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 51,
            "line_end": 52
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 52,
            "line_end": 70
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 70,
            "line_end": 95
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 95,
            "line_end": 99
          },
          {
            "file": "references/built-in-classes.md",
            "line_start": 99,
            "line_end": 118
          },
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 62
          },
          {
            "file": "SKILL.md",
            "line_start": 62,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 77
          },
          {
            "file": "SKILL.md",
            "line_start": 77,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 85
          },
          {
            "file": "SKILL.md",
            "line_start": 85,
            "line_end": 85
          },
          {
            "file": "SKILL.md",
            "line_start": 85,
            "line_end": 86
          },
          {
            "file": "SKILL.md",
            "line_start": 86,
            "line_end": 86
          },
          {
            "file": "SKILL.md",
            "line_start": 86,
            "line_end": 87
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 87
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 88
          },
          {
            "file": "SKILL.md",
            "line_start": 88,
            "line_end": 88
          },
          {
            "file": "SKILL.md",
            "line_start": 88,
            "line_end": 89
          },
          {
            "file": "SKILL.md",
            "line_start": 89,
            "line_end": 89
          },
          {
            "file": "SKILL.md",
            "line_start": 89,
            "line_end": 90
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 90
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 91
          },
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 91
          },
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 92
          },
          {
            "file": "SKILL.md",
            "line_start": 92,
            "line_end": 92
          },
          {
            "file": "SKILL.md",
            "line_start": 92,
            "line_end": 96
          },
          {
            "file": "SKILL.md",
            "line_start": 96,
            "line_end": 105
          },
          {
            "file": "SKILL.md",
            "line_start": 105,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 113
          },
          {
            "file": "SKILL.md",
            "line_start": 113,
            "line_end": 113
          },
          {
            "file": "SKILL.md",
            "line_start": 113,
            "line_end": 114
          },
          {
            "file": "SKILL.md",
            "line_start": 114,
            "line_end": 114
          },
          {
            "file": "SKILL.md",
            "line_start": 114,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 119
          },
          {
            "file": "SKILL.md",
            "line_start": 119,
            "line_end": 126
          },
          {
            "file": "SKILL.md",
            "line_start": 126,
            "line_end": 132
          },
          {
            "file": "SKILL.md",
            "line_start": 132,
            "line_end": 133
          },
          {
            "file": "SKILL.md",
            "line_start": 133,
            "line_end": 135
          },
          {
            "file": "SKILL.md",
            "line_start": 135,
            "line_end": 135
          },
          {
            "file": "SKILL.md",
            "line_start": 135,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 144
          },
          {
            "file": "SKILL.md",
            "line_start": 144,
            "line_end": 154
          },
          {
            "file": "SKILL.md",
            "line_start": 154,
            "line_end": 166
          },
          {
            "file": "SKILL.md",
            "line_start": 166,
            "line_end": 176
          },
          {
            "file": "SKILL.md",
            "line_start": 176,
            "line_end": 180
          },
          {
            "file": "SKILL.md",
            "line_start": 180,
            "line_end": 187
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 192,
            "line_end": 192
          },
          {
            "file": "SKILL.md",
            "line_start": 193,
            "line_end": 193
          },
          {
            "file": "SKILL.md",
            "line_start": 194,
            "line_end": 194
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 653,
    "audit_model": "claude",
    "audited_at": "2026-01-16T21:30:15.612Z"
  },
  "content": {
    "user_title": "Understand Logseq Datascript Schema",
    "value_statement": "Users need expert guidance to understand Logseq's Datascript database architecture for effective knowledge graph management. This skill provides authoritative knowledge of schema design, property types, class hierarchies, and entity relationships.",
    "seo_keywords": [
      "Logseq Datascript",
      "database schema",
      "Logseq database",
      "Claude Code skill",
      "property types",
      "entity relationships",
      "Datalog queries",
      "class hierarchy",
      "knowledge graph",
      "Logseq plugin"
    ],
    "actual_capabilities": [
      "Explains Datascript attribute types and cardinality options",
      "Documents built-in class hierarchy with inheritance patterns",
      "Describes property type system and validators",
      "Provides templates for creating custom properties and classes",
      "Details Malli validation flow and schema versioning",
      "Covers node model with unified page and block concepts"
    ],
    "limitations": [
      "Does not execute Datalog queries on user data",
      "Does not modify or write to user graphs",
      "Cannot create or update actual schema definitions",
      "Provides guidance only, not direct database access"
    ],
    "use_cases": [
      {
        "target_user": "Logseq power users",
        "title": "Design custom properties",
        "description": "Create typed properties with validation, closed values, and cardinality for structured data."
      },
      {
        "target_user": "Plugin developers",
        "title": "Build Logseq plugins",
        "description": "Understand schema architecture to develop plugins that integrate with Logseq's database model."
      },
      {
        "target_user": "Knowledge architects",
        "title": "Model relationships",
        "description": "Design class hierarchies and entity relationships for sophisticated knowledge management."
      }
    ],
    "prompt_templates": [
      {
        "title": "Schema basics",
        "scenario": "Getting started with Logseq DB",
        "prompt": "Explain the basic structure of Logseq's Datascript database including attribute types and cardinality options."
      },
      {
        "title": "Property creation",
        "scenario": "Creating typed properties",
        "prompt": "How do I create a custom property with closed values and cardinality settings?"
      },
      {
        "title": "Class inheritance",
        "scenario": "Building class hierarchies",
        "prompt": "Show me how to create a custom class that extends another class with associated properties."
      },
      {
        "title": "Query patterns",
        "scenario": "Querying entities",
        "prompt": "What are the common patterns for querying entities by class or property values?"
      }
    ],
    "output_examples": [
      {
        "input": "What are the main built-in classes in Logseq?",
        "output": [
          "Root (base class for all entities)",
          "Page (regular named pages)",
          "Tag (classes themselves)",
          "Property (property definitions)",
          "Task (tasks with status, priority, deadline)",
          "Query (saved query definitions)",
          "Asset (file attachments)",
          "Journal (date-based journal pages)",
          "Code block (code snippets)",
          "Template (reusable templates)"
        ]
      },
      {
        "input": "How do I create a number property with limited choices?",
        "output": [
          "Use :number type for numeric values",
          "Add :closed-values for allowed choices",
          "Set :cardinality/:one for single value",
          "Example: priority levels from 1 to 5"
        ]
      },
      {
        "input": "Explain the relationship between pages and blocks",
        "output": [
          "Pages are unique by their tag combination",
          "Blocks exist within pages in a hierarchy",
          "Both extend Root class via :logseq.class/Root",
          "Use :block/page and :block/parent for relationships"
        ]
      }
    ],
    "best_practices": [
      "Start with Root class and extend through inheritance for proper class hierarchy.",
      "Use appropriate property types based on data requirements (default, number, date, checkbox).",
      "Define closed values for properties with limited valid choices to ensure data consistency."
    ],
    "anti_patterns": [
      "Creating properties without specifying cardinality when multiple values are needed.",
      "Extending wrong parent class causing unexpected behavior in queries.",
      "Using :node type for non-reference properties."
    ],
    "faq": [
      {
        "question": "What versions of Logseq are supported?",
        "answer": "This skill covers Logseq DB version 65.x and later with schema versioning support."
      },
      {
        "question": "Can this skill modify my Logseq database?",
        "answer": "No. The skill only provides guidance. It cannot read or write to your actual graph files."
      },
      {
        "question": "What tools does this skill require?",
        "answer": "Read, Grep, Glob, WebFetch, and WebSearch for accessing reference materials."
      },
      {
        "question": "Is my data safe with this skill?",
        "answer": "Yes. The skill is read-only and contains no code that accesses or modifies external data."
      },
      {
        "question": "How does this compare to other database skills?",
        "answer": "This skill is Logseq-specific with deep knowledge of its unique Datascript schema and class system."
      },
      {
        "question": "Can I use this skill offline?",
        "answer": "Core knowledge is contained in the skill. WebFetch and WebSearch need internet for external docs."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "class-template.edn",
          "type": "file",
          "path": "assets/class-template.edn",
          "lines": 47
        },
        {
          "name": "property-template.edn",
          "type": "file",
          "path": "assets/property-template.edn",
          "lines": 80
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "built-in-classes.md",
          "type": "file",
          "path": "references/built-in-classes.md",
          "lines": 119
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 195
    }
  ]
}
