{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T06:42:42.564Z",
    "slug": "k-dense-ai-deeptools",
    "source_url": "https://github.com/K-Dense-AI/claude-scientific-skills/tree/main/scientific-skills/deeptools",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fd93db784c4898a39c8a557f259cfdffc0d23a4c9311a0509cd8e7efde17174d",
    "tree_hash": "6dca5989b43cc43bca4290920d43cdcfa983b9c77c6e92b3bf7e1cd72dbb1243"
  },
  "skill": {
    "name": "deeptools",
    "description": "NGS analysis toolkit. BAM to bigWig conversion, QC (correlation, PCA, fingerprints), heatmaps/profiles (TSS, peaks), for ChIP-seq, RNA-seq, ATAC-seq visualization.",
    "summary": "NGS analysis toolkit. BAM to bigWig conversion, QC (correlation, PCA, fingerprints), heatmaps/profil...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "K-Dense-AI",
    "license": "BSD license",
    "category": "data",
    "tags": [
      "bioinformatics",
      "ngs",
      "genomics",
      "visualization",
      "sequencing"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 519 static findings are FALSE_POSITIVES. The scanner misinterpreted markdown documentation examples with backticks as shell execution, 'SAM files' (Sequence Alignment/Map format) as Windows SAM database, and mentions of bioinformatics tools (samtools, plotFingerprint) as security threats. The Python scripts perform legitimate workflow generation for NGS analysis. No actual security risks present.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 163,
            "line_end": 165
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/workflow_generator.py",
            "line_start": 101,
            "line_end": 102
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 3062,
    "audit_model": "claude",
    "audited_at": "2026-01-17T06:42:42.564Z"
  },
  "content": {
    "user_title": "Analyze NGS data with deepTools",
    "value_statement": "Process and visualize next-generation sequencing data. Convert BAM to bigWig, generate quality control plots, and create publication-ready heatmaps for ChIP-seq, RNA-seq, and ATAC-seq experiments.",
    "seo_keywords": [
      "deepTools",
      "NGS analysis",
      "ChIP-seq visualization",
      "BAM to bigWig",
      "quality control genomics",
      "heatmap plot",
      "bioinformatics",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Convert BAM alignment files to normalized bigWig coverage tracks",
      "Generate quality control metrics including correlation, PCA, and fingerprint plots",
      "Create heatmaps and profile plots around genomic features like TSS and peaks",
      "Compare treatment versus control samples with log2 ratio tracks",
      "Validate input files for proper indexing and format",
      "Generate ready-to-run workflow scripts for common analyses"
    ],
    "limitations": [
      "Requires BAM files to be properly indexed with .bai files",
      "Does not perform peak calling or read alignment",
      "Large genome files require significant memory and processing time",
      "Results depend on correct normalization method selection"
    ],
    "use_cases": [
      {
        "target_user": "Genomics researchers",
        "title": "QC for ChIP-seq experiments",
        "description": "Validate ChIP quality, assess enrichment strength, and compare replicates before downstream analysis."
      },
      {
        "target_user": "Bioinformaticians",
        "title": "Coverage track generation",
        "description": "Create normalized bigWig files from BAM alignments for genome browser visualization."
      },
      {
        "target_user": "Data scientists",
        "title": "Sample comparison",
        "description": "Compare multiple samples with correlation analysis and generate publication-ready heatmaps."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic conversion",
        "scenario": "Convert BAM to bigWig",
        "prompt": "Convert my sample.bam file to a normalized bigWig coverage track using RPGC normalization for hg38 genome."
      },
      {
        "title": "Quality check",
        "scenario": "Assess ChIP quality",
        "prompt": "Check the quality of my ChIP-seq experiment by generating a fingerprint plot and correlation heatmap."
      },
      {
        "title": "Visualization",
        "scenario": "Create TSS heatmap",
        "prompt": "Generate a heatmap showing ChIP signal around transcription start sites for my H3K4me3 data."
      },
      {
        "title": "Full workflow",
        "scenario": "Complete ChIP-seq analysis",
        "prompt": "Generate a complete ChIP-seq analysis workflow from BAM files to heatmaps comparing treatment versus input control."
      }
    ],
    "output_examples": [
      {
        "input": "Create a heatmap of ChIP-seq signal around TSS regions",
        "output": [
          "Step 1: Compute matrix around TSS",
          "  computeMatrix reference-point -S signal.bw -R genes.bed -b 3000 -a 3000 --referencePoint TSS -o matrix.gz",
          "",
          "Step 2: Generate heatmap",
          "  plotHeatmap -m matrix.gz -o heatmap.png --colorMap RdBu --kmeans 3",
          "",
          "Parameters explained:",
          "  -b 3000: 3kb upstream of TSS",
          "  -a 3000: 3kb downstream of TSS",
          "  --kmeans 3: Cluster genes into 3 groups by signal pattern"
        ]
      },
      {
        "input": "Check ChIP-seq quality with fingerprint plot",
        "output": [
          "Run plotFingerprint to assess enrichment:",
          "  plotFingerprint -b input.bam chip.bam -o fingerprint.png --extendReads 200 --ignoreDuplicates",
          "",
          "Interpretation:",
          "  - Steep rise indicates strong ChIP enrichment",
          "  - Flat diagonal suggests poor enrichment",
          "  - Control should show near-linear distribution"
        ]
      }
    ],
    "best_practices": [
      "Always validate BAM files with the validation script before analysis to ensure indices exist",
      "Choose appropriate normalization method: RPGC for ChIP-seq, CPM for RNA-seq bins, RPKM for gene-level analysis",
      "Use --ignoreDuplicates to remove PCR duplicates unless specifically analyzing clonality"
    ],
    "anti_patterns": [
      "Do not use --extendReads for RNA-seq analysis as it would extend across splice junctions",
      "Avoid mixing normalization methods when comparing multiple samples",
      "Do not skip quality control steps before detailed analysis"
    ],
    "faq": [
      {
        "question": "What normalization method should I use for ChIP-seq?",
        "answer": "Use RPGC for ChIP-seq coverage tracks or CPM for simple normalization. Both require effective genome size."
      },
      {
        "question": "Why is my BAM file giving an error?",
        "answer": "Ensure the BAM file has a corresponding .bai index file. Run: samtools index yourfile.bam"
      },
      {
        "question": "Can I use this for ATAC-seq data?",
        "answer": "Yes. Use alignmentSieve with --ATACshift to apply Tn5 correction before coverage generation."
      },
      {
        "question": "What genome size should I use?",
        "answer": "Human hg38: 2913022398, Mouse mm10: 2652783500, Fly dm6: 142573017. Use the effective genome size, not assembly size."
      },
      {
        "question": "How do I compare treatment vs control?",
        "answer": "Use bamCompare with --operation log2 to create a log2 ratio track of ChIP over input."
      },
      {
        "question": "Why are my heatmaps empty?",
        "answer": "Check that your bigWig and BED files use matching genome assemblies and chromosomes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "quick_reference.md",
          "type": "file",
          "path": "assets/quick_reference.md",
          "lines": 59
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effective_genome_sizes.md",
          "type": "file",
          "path": "references/effective_genome_sizes.md",
          "lines": 117
        },
        {
          "name": "normalization_methods.md",
          "type": "file",
          "path": "references/normalization_methods.md",
          "lines": 411
        },
        {
          "name": "tools_reference.md",
          "type": "file",
          "path": "references/tools_reference.md",
          "lines": 534
        },
        {
          "name": "workflows.md",
          "type": "file",
          "path": "references/workflows.md",
          "lines": 475
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "validate_files.py",
          "type": "file",
          "path": "scripts/validate_files.py",
          "lines": 196
        },
        {
          "name": "workflow_generator.py",
          "type": "file",
          "path": "scripts/workflow_generator.py",
          "lines": 455
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 531
    }
  ]
}
