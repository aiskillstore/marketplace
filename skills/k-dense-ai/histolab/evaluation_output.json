{
  "skill": {
    "name": "histolab",
    "description": "Lightweight WSI tile extraction and preprocessing. Use for basic slide processing tissue detection, tile extraction, stain normalization for H&E images. Best for simple pipelines, dataset preparation, quick tile-based analysis. For advanced spatial proteomics, multiplexed imaging, or deep learning pipelines use pathml.",
    "summary": "Process whole slide images for digital pathology with tile extraction, tissue detection, and stain normalization.",
    "icon": "ðŸ”¬",
    "version": "2.1.0",
    "author": "K-Dense Inc.",
    "license": "Apache-2.0",
    "category": "data",
    "tags": ["digital-pathology", "image-processing", "medical-imaging", "whole-slide-images", "histopathology"],
    "supported_tools": ["claude", "codex", "claude-code"]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill containing markdown files with Python code examples for histolab, a legitimate digital pathology library. All 360 static findings are false positives - no executable code exists, backticks are markdown syntax, and no cryptographic or malicious patterns are present. Safe for publication.",
    "static_findings_evaluation": [
      {
        "finding": "external_commands: Ruby/shell backtick execution (288 locations across all files)",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "This skill contains ONLY markdown documentation files. Backticks in markdown denote code syntax, not shell command execution. Python does not use backticks for command execution (unlike Ruby/shell). All 288 occurrences are markdown code block formatting in legitimate library documentation."
      },
      {
        "finding": "scripts: Dynamic import() expression (3 locations: SKILL.md:242, SKILL.md:488, references/filters_preprocessing.md:306)",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "These are legitimate Python documentation examples showing import statements within code blocks. Dynamic imports are a standard Python pattern for lazy loading in libraries. No actual dynamic code execution exists in this documentation-only skill."
      },
      {
        "finding": "HIGH blocker: Weak cryptographic algorithm (69 locations across all files)",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "This is a digital pathology image processing library with no cryptographic operations. The analyzer likely misinterprets benign terms in documentation. No actual cryptographic code, hashing, or encryption exists in any file. All findings are documentation text, not executable code."
      },
      {
        "finding": "LOW blocker: System reconnaissance (22 locations across all files)",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "File system operations in code examples (like Path().glob(), slide processing) are legitimate operations for an image processing library. System reconnaissance typically involves commands like 'whoami', 'ifconfig', or network scanning - none of which appear. All file operations are documented uses of the histolab library for reading pathology slides."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [{"file": "SKILL.md", "line_start": 242, "line_end": 242}]
      },
      {
        "factor": "external_commands",
        "evidence": [{"file": "SKILL.md", "line_start": 17, "line_end": 19}]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 2588
  },
  "content": {
    "user_title": "Process whole slide pathology images",
    "value_statement": "Histolab automates tissue detection and tile extraction from gigapixel whole slide images. It prepares datasets for machine learning by handling multiple formats, segmenting tissue regions, and applying stain normalization to H&E images.",
    "seo_keywords": [
      "histolab",
      "digital pathology",
      "whole slide images",
      "WSI processing",
      "tile extraction",
      "tissue detection",
      "hematoxylin eosin",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Load and inspect whole slide images in SVS, TIFF, and NDPI formats",
      "Detect tissue regions and create binary masks for segmentation",
      "Extract tiles using RandomTiler, GridTiler, or ScoreTiler strategies",
      "Apply image filters for stain normalization and artifact removal",
      "Preview tile locations and visualize masks before extraction",
      "Generate CSV reports with tile metadata and quality scores"
    ],
    "limitations": [
      "Does not support advanced spatial proteomics or multiplexed imaging",
      "Limited to H&E stain normalization (not suitable for IHC stains)",
      "Requires pathology images with sufficient tissue content for detection"
    ],
    "use_cases": [
      {
        "target_user": "Medical researchers",
        "title": "Prepare training datasets",
        "description": "Extract balanced tile datasets from multiple whole slide images for training deep learning models in pathology classification."
      },
      {
        "target_user": "Clinical pathologists",
        "title": "Quality assessment workflows",
        "description": "Identify optimal focus regions and assess staining quality across slide collections for quality control processes."
      },
      {
        "target_user": "Data scientists",
        "title": "Build image analysis pipelines",
        "description": "Create reproducible tile extraction pipelines with scoring functions for automated image analysis workflows."
      }
    ],
    "prompt_templates": [
      {
        "title": "Extract random tiles",
        "scenario": "Sample tiles from a slide",
        "prompt": "Use histolab to load a whole slide image and extract 100 random 512x512 pixel tiles from tissue regions. Show a preview of tile locations first."
      },
      {
        "title": "Grid-based extraction",
        "scenario": "Complete slide coverage",
        "prompt": "Process a whole slide image with GridTiler to extract all tiles at 80% tissue coverage. Use pixel_overlap=0 and save tiles to an output directory."
      },
      {
        "title": "Score-based selection",
        "scenario": "Quality-driven extraction",
        "prompt": "Use ScoreTiler with NucleiScorer to extract the top 50 most informative tiles from a pathology slide. Generate a CSV report with scores."
      },
      {
        "title": "Custom preprocessing",
        "scenario": "Build filter pipelines",
        "prompt": "Create a custom filter pipeline using Compose with RgbToHed, OtsuThreshold, and morphological filters to detect tissue and remove pen annotations from a slide."
      }
    ],
    "output_examples": [
      {
        "input": "Extract 100 random tiles from a whole slide image",
        "output": [
          "Loaded slide: dimensions=(25000, 20000), levels=5",
          "Tissue mask: 85.2% coverage detected",
          "Preview: 20 tile locations visualized",
          "Extraction complete: 100 tiles saved to output/random_tiles/",
          "Tile size: 512x512 pixels, average tissue coverage: 91.3%"
        ]
      }
    ],
    "best_practices": [
      "Always preview tile locations with locate_tiles() before extraction to verify tissue detection",
      "Use consistent pyramid levels across slides for comparable tile resolutions",
      "Set tissue_percent threshold between 70-90% to balance coverage and quality"
    ],
    "anti_patterns": [
      "Extracting tiles without previewing locations first may result in off-target regions",
      "Using high tissue_percent thresholds on slides with fragmented tissue may yield zero tiles",
      "Processing at level 0 for large slide collections without batching will be slow"
    ],
    "faq": [
      {
        "question": "What WSI formats does histolab support?",
        "answer": "Histolab supports SVS, TIFF, and NDPI formats through the OpenSlide library."
      },
      {
        "question": "How do I choose between RandomTiler, GridTiler, and ScoreTiler?",
        "answer": "Use RandomTiler for sampling, GridTiler for complete coverage, and ScoreTiler for quality-driven selection."
      },
      {
        "question": "Can histolab remove pen annotations from slides?",
        "answer": "Yes, use custom masks with filter pipelines to detect and exclude pen-marked regions."
      },
      {
        "question": "What pyramid level should I use for extraction?",
        "answer": "Level 0 for highest resolution, levels 1-2 for faster processing. Match to your analysis needs."
      },
      {
        "question": "How does tissue detection work in histolab?",
        "answer": "TissueMask uses color-based filters (RGB to grayscale, Otsu thresholding) to identify tissue regions."
      },
      {
        "question": "Can I use histolab with deep learning frameworks?",
        "answer": "Yes, extracted tiles are standard NumPy arrays or PIL images compatible with PyTorch and TensorFlow."
      }
    ]
  }
}
