{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T12:43:48.559Z",
    "slug": "consiliency-dependency-sync",
    "source_url": "https://github.com/Consiliency/treesitter-chunker/tree/main/.ai-dev-kit/skills/dependency-sync",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "52d4e1b05df6623be49ddd89318e52a90911e8c4b2d2397bf563589a3e95d273",
    "tree_hash": "6a53a9f1b8869a4d47146ccc15c2d29f875794cdc332c645a1e880d5dd70b8c7"
  },
  "skill": {
    "name": "dependency-sync",
    "description": "Detect new imports in modified files and auto-install missing dependencies. Works with npm, uv, pip, cargo, go mod, and other package managers. Triggers after code implementation to keep manifests in sync.",
    "summary": "Detect new imports in modified files and auto-install missing dependencies. Works with npm, uv, pip,...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "Consiliency",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "dependency-management",
      "package-managers",
      "automation",
      "imports",
      "development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation-based skill with no executable code. Contains only markdown guidance for AI assistants on dependency management workflows. No scripts, network calls, credential access, or persistence mechanisms detected.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "cookbook/python-imports.md",
            "line_start": 1,
            "line_end": 168
          },
          {
            "file": "cookbook/node-imports.md",
            "line_start": 1,
            "line_end": 248
          },
          {
            "file": "cookbook/dependency-classification.md",
            "line_start": 1,
            "line_end": 212
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 102
          },
          {
            "file": "cookbook/python-imports.md",
            "line_start": 130,
            "line_end": 167
          },
          {
            "file": "cookbook/node-imports.md",
            "line_start": 159,
            "line_end": 202
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 824,
    "audit_model": "claude",
    "audited_at": "2026-01-10T12:43:48.558Z"
  },
  "content": {
    "user_title": "Sync Dependencies Automatically",
    "value_statement": "Manually tracking and updating package manifests wastes time and causes errors. This skill automatically detects new imports in your code and updates the correct manifest files with the right package names and version constraints.",
    "seo_keywords": [
      "dependency sync",
      "package manager",
      "npm",
      "pip",
      "uv",
      "cargo",
      "import detection",
      "dependency management",
      "Claude",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Detect new imports in modified code files",
      "Map import names to correct package names across languages",
      "Identify package manager from project manifest files",
      "Classify dependencies as production or development",
      "Update package manifests with correct dependency entries",
      "Suggest documentation updates for new dependencies"
    ],
    "limitations": [
      "Does not execute installations automatically (requires user approval)",
      "Does not resolve version conflicts between dependencies",
      "Does not validate that packages exist in registries",
      "Does not handle private registry authentication"
    ],
    "use_cases": [
      {
        "target_user": "Full-stack developers",
        "title": "Fast project setup",
        "description": "Automatically add dependencies when writing code without switching contexts to install packages manually"
      },
      {
        "target_user": "Code reviewers",
        "title": "Verify manifest consistency",
        "description": "Check that code changes include proper dependency updates in package manifests before merging"
      },
      {
        "target_user": "AI coding assistants",
        "title": "Autonomous dependency management",
        "description": "Guide AI agents to properly detect and sync dependencies across Python, Node.js, Go, Rust, and other languages"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic sync request",
        "scenario": "Simple dependency sync",
        "prompt": "Check my recently modified files for new imports and update the package manifest accordingly"
      },
      {
        "title": "Sync with confirmation",
        "scenario": "Manual approval required",
        "prompt": "Detect new dependencies in my code changes and show me what will be added to package.json before installing anything"
      },
      {
        "title": "Dev dependencies only",
        "scenario": "Testing framework setup",
        "prompt": "Find test-related imports in my test files and add them as dev dependencies to pyproject.toml"
      },
      {
        "title": "Multi-language project",
        "scenario": "Mixed codebase",
        "prompt": "Scan all modified Python and TypeScript files, map imports to packages, and update the appropriate manifest for each language"
      }
    ],
    "output_examples": [
      {
        "input": "Check my recent Python files for new imports and update pyproject.toml",
        "output": [
          "Found 3 new imports in src/api/handlers.py: asyncpg, pydantic, httpx",
          "Package manager detected: uv (pyproject.toml present)",
          "asyncpg â†’ production dependency",
          "pydantic â†’ production dependency",
          "httpx â†’ development dependency (used in test_client fixture)",
          "Updated pyproject.toml with new dependencies",
          "Manifest updated successfully"
        ]
      }
    ],
    "best_practices": [
      "Run dependency-sync after implementing new features but before committing",
      "Review the proposed changes before approving installation",
      "Use PROMPT_BEFORE_INSTALL=true when working with production systems"
    ],
    "anti_patterns": [
      "Running dependency-sync on untrusted code without reviewing changes",
      "Skipping the verification step when unsure about import usage",
      "Installing packages without checking if they are already in the manifest"
    ],
    "faq": [
      {
        "question": "Which package managers are supported?",
        "answer": "npm, yarn, pnpm, bun (Node.js), uv, poetry, pip (Python), cargo (Rust), go get (Go), pub (Dart/Flutter)"
      },
      {
        "question": "How are production vs development dependencies distinguished?",
        "answer": "The skill checks test file patterns, type definition markers (@types/*), linter/formatter names, and build tool names to classify correctly"
      },
      {
        "question": "Can this skill handle monorepos with multiple manifests?",
        "answer": "Yes, it detects which manifest files exist and updates the appropriate one based on the modified file locations"
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "This skill only reads cookbook files and provides guidance. It does not access credentials, make network calls, or execute commands without user approval"
      },
      {
        "question": "What happens if a package name does not match the import name?",
        "answer": "The cookbook files contain common mappings (e.g., PIL â†’ pillow, cv2 â†’ opencv-python) and the skill falls back to assuming the import name matches the package name"
      },
      {
        "question": "How does this compare to dependabot or renovate?",
        "answer": "Dependency-sync detects new imports in code you are writing. Dependabot and renovate update existing versions. They complement each other"
      }
    ]
  },
  "file_structure": [
    {
      "name": "cookbook",
      "type": "dir",
      "path": "cookbook",
      "children": [
        {
          "name": "dependency-classification.md",
          "type": "file",
          "path": "cookbook/dependency-classification.md"
        },
        {
          "name": "node-imports.md",
          "type": "file",
          "path": "cookbook/node-imports.md"
        },
        {
          "name": "python-imports.md",
          "type": "file",
          "path": "cookbook/python-imports.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
