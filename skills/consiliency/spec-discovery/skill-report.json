{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T22:56:58.809Z",
    "slug": "consiliency-spec-discovery",
    "source_url": "https://github.com/Consiliency/treesitter-chunker/tree/main/.ai-dev-kit/skills/spec-discovery",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "eb8327b0c548c483ba2e7fc8ec089f802e3e5d29559f93e9a2eb67db752050e9",
    "tree_hash": "9253bdf10c7acdb3792b7cd788c6d708f2ae395e789c007e6fbec4220115b6a3"
  },
  "skill": {
    "name": "spec-discovery",
    "description": "Parse specs to extract IDs, titles, and traceability metadata (repo, path, hash).",
    "summary": "Parse specs to extract IDs, titles, and traceability metadata (repo, path, hash).",
    "icon": "ðŸ“‹",
    "version": "1.0.0",
    "author": "Consiliency",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "specifications",
      "requirements",
      "traceability",
      "metadata",
      "documentation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill with no executable code. Provides workflow instructions for AI agents to parse specification files and extract traceability metadata. Static findings are false positives: 'Weak cryptographic algorithm' triggers are misunderstandings of 'hash' as file content hashes (SHA-256 is used for integrity verification, not weak crypto), and 'backtick execution' triggers are markdown formatting backticks, not shell commands. No actual network calls, scripts, or dangerous operations.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 8,
            "line_end": 8
          },
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 15
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 16
          },
          {
            "file": "SKILL.md",
            "line_start": 22,
            "line_end": 22
          },
          {
            "file": "SKILL.md",
            "line_start": 22,
            "line_end": 22
          },
          {
            "file": "SKILL.md",
            "line_start": 22,
            "line_end": 22
          },
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 54
          },
          {
            "file": "SKILL.md",
            "line_start": 54,
            "line_end": 58
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 241,
    "audit_model": "claude",
    "audited_at": "2026-01-16T22:56:58.809Z"
  },
  "content": {
    "user_title": "Discover and trace specification requirements",
    "value_statement": "Finding and tracking requirements across large codebases is time-consuming and error-prone. This skill automatically locates specification files, extracts requirement IDs like REQ-NOTIFY-001, and generates a traceable manifest with content hashes for downstream validation.",
    "seo_keywords": [
      "spec discovery",
      "requirement tracing",
      "specification parser",
      "requirement ID extraction",
      "Claude Code skill",
      "requirements management",
      "spec manifest generator",
      "traceability matrix",
      "AI specification search",
      "documentation tool"
    ],
    "actual_capabilities": [
      "Walk repository directories to locate specs/ and specs/external-requests/",
      "Extract requirement IDs from markdown headings using regex pattern matching",
      "Compute SHA-256 content hashes for integrity verification",
      "Generate sorted manifest with source repository, file path, and anchor links",
      "Flag duplicate spec IDs across repositories for conflict resolution",
      "Support both JSON and TOON output formats for different workflows"
    ],
    "limitations": [
      "Requires specification files to follow heading-based ID format (REQ-XXX-001)",
      "Cannot process specifications in binary or non-markdown formats",
      "Does not modify or write to specification files",
      "Limited to configured repository roots (ROOT and EXTRA_REPOS variables)"
    ],
    "use_cases": [
      {
        "target_user": "System architects",
        "title": "Trace requirements to implementation",
        "description": "Map requirement IDs to source files and track changes across repositories for compliance audits."
      },
      {
        "target_user": "QA engineers",
        "title": "Validate specification coverage",
        "description": "Verify that all stated requirements have corresponding test cases and implementation references."
      },
      {
        "target_user": "DevOps teams",
        "title": "Generate documentation manifests",
        "description": "Create machine-readable specification inventories for downstream CI/CD validation pipelines."
      }
    ],
    "prompt_templates": [
      {
        "title": "Find all requirements",
        "scenario": "Locate specifications in current repo",
        "prompt": "Use spec-discovery to find all requirement IDs in this repository. Return the manifest showing each spec ID, title, source path, and content hash."
      },
      {
        "title": "Cross-repo requirements",
        "scenario": "Search multiple repositories",
        "prompt": "Use spec-discovery with EXTRA_REPOS pointing to other project repositories. Generate a combined manifest and flag any duplicate requirement IDs."
      },
      {
        "title": "External request specs",
        "scenario": "Scan external API specifications",
        "prompt": "Use spec-discovery to scan specs/external-requests/ directory. Extract all external API requirement IDs and generate traceable links to the source markdown files."
      },
      {
        "title": "Compliance verification",
        "scenario": "Verify spec integrity over time",
        "prompt": "Run spec-discovery to generate a manifest. Then compare current content hashes against a baseline to detect unauthorized specification changes."
      }
    ],
    "output_examples": [
      {
        "input": "Find all requirements in this repository",
        "output": [
          "Found 12 requirement IDs across 3 spec files",
          "REPO: ai-dev-kit | Total specs: 8",
          "REPO: external-libs | Total specs: 4",
          "âœ“ REQ-NOTIFY-001: Email Sending Endpoint (specs/external-requests/notify.md)",
          "âœ“ REQ-NOTIFY-002: SMS Alert Configuration (specs/external-requests/notify.md)",
          "âœ“ REQ-DATA-001: Database Schema Definition (specs/data-models.md)",
          "Note: No duplicate IDs detected across repositories"
        ]
      },
      {
        "input": "Check for duplicate requirement IDs across repos",
        "output": [
          "CROSS-REPO SCAN COMPLETE",
          "REPO: frontend | 15 specs found",
          "REPO: backend | 12 specs found",
          "REPO: shared-libs | 8 specs found",
          "âš  WARNING: Duplicate ID detected",
          "REQ-AUTH-001 found in both frontend (auth/spec.md) and backend (api/auth.md)",
          "Action required: Resolve ID conflict before merging specifications"
        ]
      },
      {
        "input": "Verify specification integrity",
        "output": [
          "INTEGRITY CHECK RESULTS",
          "Baseline: 2024-12-01 manifest",
          "Current scan: 2024-12-15",
          "All 35 specifications verified",
          "SHA-256 hashes match baseline",
          "No unauthorized changes detected",
          "Result: PASS"
        ]
      }
    ],
    "best_practices": [
      "Configure EXTRA_REPOS when working with multi-repository projects to capture all specifications",
      "Store generated manifests alongside build artifacts for audit trail consistency",
      "Review duplicate ID warnings before merging specifications from different teams"
    ],
    "anti_patterns": [
      "Running spec-discovery without specifying ROOT for monorepos with nested project structures",
      "Ignoring duplicate ID warnings which can cause downstream confusion in requirement tracking",
      "Using spec-discovery to modify specifications rather than just reading and cataloging them"
    ],
    "faq": [
      {
        "question": "What specification formats are supported?",
        "answer": "Markdown files with heading-based requirement IDs following pattern REQ-[A-Za-z0-9_-]+. Other formats require preprocessing."
      },
      {
        "question": "Can this skill modify specification files?",
        "answer": "No. Spec-discovery only reads and parses specifications. It generates manifests but does not alter source files."
      },
      {
        "question": "How are requirement IDs extracted?",
        "answer": "Using regex pattern ^#+\\s*(REQ-[A-Za-z0-9_-]+)\\s*:?\\s*(.*)$ matching markdown headings containing requirement identifiers."
      },
      {
        "question": "Is my specification data sent externally?",
        "answer": "No. Spec-discovery runs entirely within the AI context. No data is transmitted to external servers or services."
      },
      {
        "question": "What causes requirements to be skipped?",
        "answer": "Files in specs/templates/ are skipped. Files without matching ID pattern in headings are reported as having no IDs detected."
      },
      {
        "question": "How does this compare to grep or find commands?",
        "answer": "Spec-discovery provides structured traceability including content hashes, repository context, and normalized links unlike basic text search."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 61
    }
  ]
}
