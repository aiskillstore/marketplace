{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T12:35:55.206Z",
    "slug": "consiliency-schema-alignment",
    "source_url": "https://github.com/Consiliency/treesitter-chunker/tree/main/.ai-dev-kit/skills/schema-alignment",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c4532a4a3c8701f41eef224b35acb19c28803cf4459da619bacdca7802dde76a",
    "tree_hash": "697c2bbc2b80b23cea11eba15b72b4b4937811492f09f5fa3fdc25dc4951b3c4"
  },
  "skill": {
    "name": "schema-alignment",
    "description": "Detect and report drift between database schema and code data models. Works with SQLAlchemy, Django ORM, Prisma, TypeORM, and other ORMs. Generic across any project.",
    "summary": "Detect and report drift between database schema and code data models. Works with SQLAlchemy, Django ...",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "Consiliency",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "database",
      "schema",
      "orm",
      "migrations",
      "sql"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill consisting only of Markdown documentation. Contains no executable code, scripts, network operations, or file system access. The skill provides instructions and workflows for detecting database schema drift across multiple ORM frameworks.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 1161,
    "audit_model": "claude",
    "audited_at": "2026-01-10T12:35:55.206Z"
  },
  "content": {
    "user_title": "Detect database schema drift",
    "value_statement": "Database schemas often drift from code models as projects evolve. This skill identifies missing columns, type mismatches, and orphaned migrations before they cause runtime errors. It works with SQLAlchemy, Prisma, Django, TypeORM, and Drizzle.",
    "seo_keywords": [
      "schema alignment",
      "database schema",
      "schema drift",
      "SQLAlchemy",
      "Prisma",
      "Django ORM",
      "TypeORM",
      "database migration",
      "Claude Code",
      "Claude",
      "Codex"
    ],
    "actual_capabilities": [
      "Detect ORM framework and database technology in use",
      "Extract schema from migrations or live database",
      "Extract data models from code files",
      "Compare database schema against ORM model definitions",
      "Identify missing columns, type mismatches, and naming drift",
      "Generate alignment reports with severity levels and fix suggestions"
    ],
    "limitations": [
      "Does not execute migrations or modify database schema",
      "Does not connect to databases directly",
      "Does not generate production migration files",
      "Requires AI assistant to parse files and run detection commands"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Pre-deployment validation",
        "description": "Check schema alignment before deploying changes to prevent runtime errors"
      },
      {
        "target_user": "Data engineers",
        "title": "Cross-environment auditing",
        "description": "Audit schema consistency across development, staging, and production environments"
      },
      {
        "target_user": "Full-stack developers",
        "title": "ORM migration assistance",
        "description": "Identify drift when adding new fields or changing data models across frameworks"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic schema check",
        "scenario": "Run full schema alignment",
        "prompt": "Check schema alignment for this project. Identify the ORM and database in use, then compare the database schema against the code models."
      },
      {
        "title": "Specific table check",
        "scenario": "Check particular tables",
        "prompt": "Check schema alignment for the users and orders tables. Report any missing columns or type mismatches."
      },
      {
        "title": "Migration audit",
        "scenario": "Find missing migrations",
        "prompt": "Audit migrations for this project. Identify any model changes that do not have corresponding migration files."
      },
      {
        "title": "Type mismatch detection",
        "scenario": "Find type inconsistencies",
        "prompt": "Find all type mismatches between the database schema and ORM models. Report each with severity level."
      }
    ],
    "output_examples": [
      {
        "input": "Check schema alignment for my Python project using SQLAlchemy",
        "output": [
          "Schema Alignment Report",
          "‚Ä¢ 2 HIGH severity issues found",
          "‚Ä¢ MISSING_IN_MODEL: retry_count column exists in curation_jobs table but not in CurationJob model",
          "‚Ä¢ MISSING_IN_DB: User.preferences field in model has no corresponding database column",
          "‚Ä¢ 1 MEDIUM severity: Type mismatch on isbn column (VARCHAR(13) vs unbounded String)",
          "‚Ä¢ 3 LOW severity: Naming drift and missing migration issues",
          "Recommendation: Run 'alembic revision --autogenerate' to generate missing migrations"
        ]
      }
    ],
    "best_practices": [
      "Run schema alignment checks before each pull request that touches data models",
      "Integrate schema checks into CI pipeline to catch drift early",
      "Document intentional drift with comments in both model and migration files"
    ],
    "anti_patterns": [
      "Skipping schema checks because tests pass locally",
      "Assuming columns exist without verifying schema",
      "Modifying database directly without creating migrations"
    ],
    "faq": [
      {
        "question": "Which databases does this skill support?",
        "answer": "PostgreSQL, MySQL, SQLite, and any database supported by SQLAlchemy, Prisma, Django ORM, TypeORM, or Drizzle."
      },
      {
        "question": "What severity levels are used?",
        "answer": "HIGH for missing NOT NULL columns, MEDIUM for type mismatches and missing DB columns, LOW for naming drift and missing migrations."
      },
      {
        "question": "Does it work with existing CI tools?",
        "answer": "Yes. The skill integrates with /ai-dev-kit:check-schema and can output results to files for CI pipeline integration."
      },
      {
        "question": "Is my data safe?",
        "answer": "Yes. This skill only provides instructions for the AI assistant. It does not access databases or execute commands without user approval."
      },
      {
        "question": "What if no issues are found?",
        "answer": "The skill reports a clean schema alignment status. This confirms models and database are synchronized."
      },
      {
        "question": "How is this different from ORM built-in checks?",
        "answer": "This skill provides AI-assisted analysis across ORMs, generates human-readable reports, and identifies drift patterns that ORM tools may not catch."
      }
    ]
  },
  "file_structure": [
    {
      "name": "cookbook",
      "type": "dir",
      "path": "cookbook",
      "children": [
        {
          "name": "alembic-migration.md",
          "type": "file",
          "path": "cookbook/alembic-migration.md"
        },
        {
          "name": "prisma-detection.md",
          "type": "file",
          "path": "cookbook/prisma-detection.md"
        },
        {
          "name": "sqlalchemy-detection.md",
          "type": "file",
          "path": "cookbook/sqlalchemy-detection.md"
        }
      ]
    },
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "orm-patterns.md",
          "type": "file",
          "path": "reference/orm-patterns.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
