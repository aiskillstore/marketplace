{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-11T08:59:03.438Z",
    "slug": "vuejs-ai-vue-testing-best-practices",
    "source_url": "https://github.com/vuejs-ai/skills/tree/main/skills/vue-testing-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "c1142cff785de2342723c359b6d9c628d2e45dec2c5526f9d818b99d6b36a653",
    "tree_hash": "3118f4187dc76ca66c08b7681f9b27861e5957b5ecdd0b6dc433f439c550e5b4"
  },
  "skill": {
    "name": "vue-testing-best-practices",
    "description": "Use for Vue.js testing. Covers Vitest, Vue Test Utils, component testing, mocking, testing patterns, and Playwright for E2E testing.",
    "summary": "Use for Vue.js testing. Covers Vitest, Vue Test Utils, component testing, mocking, testing patterns, and Playwright for E2E testing.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "github.com/vuejs-ai",
    "license": "MIT",
    "tags": [
      "vue3",
      "testing",
      "vitest",
      "vue-test-utils",
      "playwright",
      "component-testing",
      "e2e-testing",
      "mocking"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. This is a documentation skill containing Vue.js testing best practices. The scanner misinterpreted markdown code examples and Vite configuration patterns as security threats. No malicious code, credential access, or data exfiltration patterns exist.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 2227,
    "audit_model": "claude",
    "audited_at": "2026-02-11T09:15:00.000Z",
    "risk_factors": []
  },
  "content": {
    "user_title": "Set up Vue.js tests with Vitest and Playwright",
    "value_statement": "Vue.js applications need reliable testing strategies. This skill provides best practices for unit testing with Vitest and Vue Test Utils, component testing patterns, mocking strategies, and E2E testing with Playwright.",
    "seo_keywords": [
      "Vue.js testing",
      "Vue testing best practices",
      "Vitest Vue",
      "Vue Test Utils",
      "Vue component testing",
      "Playwright Vue E2E",
      "Vue testing patterns",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Configure Vitest for Vue 3 projects with proper environment setup",
      "Write component tests using Vue Test Utils mount and shallowMount",
      "Test async components using flushPromises and Suspense patterns",
      "Mock composables and Pinia stores for isolated component tests",
      "Set up Playwright for cross-browser E2E testing with Vue apps",
      "Implement page object patterns and visual regression testing"
    ],
    "limitations": [
      "Does not cover Cypress or other E2E frameworks beyond Playwright",
      "Does not include backend API testing strategies",
      "Does not provide migration guides from Jest to Vitest",
      "Does not cover Vue 2 testing patterns"
    ],
    "use_cases": [
      {
        "title": "Setting up test infrastructure",
        "description": "New Vue 3 project needs a testing setup. Get step-by-step guidance for installing Vitest, configuring vite.config.js, and choosing between happy-dom and jsdom environments.",
        "target_user": "Vue developers starting a new project"
      },
      {
        "title": "Debugging flaky async tests",
        "description": "Component tests fail intermittently due to timing issues. Learn patterns for using flushPromises, nextTick, and async await to ensure proper test execution order.",
        "target_user": "Vue developers troubleshooting test failures"
      },
      {
        "title": "Implementing E2E testing strategy",
        "description": "Vue app needs cross-browser E2E tests. Configure Playwright with proper browser support, CI integration, and page object patterns for maintainable tests.",
        "target_user": "QA engineers and full-stack developers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Vue component test",
        "prompt": "Write a Vitest test for a Vue 3 Counter component. The component has a count value and increment button. Use Vue Test Utils mount and test that clicking the button updates the displayed count.",
        "scenario": "Writing your first Vue component test"
      },
      {
        "title": "Testing components with async setup",
        "prompt": "Test a Vue component that uses defineAsyncComponent to load a child component. The child takes time to load. Show how to use flushPromises to wait for the async component to render before making assertions.",
        "scenario": "Testing components with dynamic imports"
      },
      {
        "title": "Mocking Pinia stores in tests",
        "prompt": "Create a Vue component test where the component uses a Pinia store for state. Mock the store to provide test data. Show how to set up the Pinia instance in the test environment.",
        "scenario": "Testing components that depend on Pinia stores"
      },
      {
        "title": "Playwright E2E user flow",
        "prompt": "Write a Playwright E2E test for a Vue login page. The test should navigate to /login, fill in email and password, submit the form, and verify the user is redirected to the dashboard with a welcome heading.",
        "scenario": "Creating end-to-end tests for authentication flows"
      }
    ],
    "output_examples": [
      {
        "input": "How do I set up Vitest for my Vue 3 project?",
        "output": [
          "Install the required packages:",
          "```bash",
          "npm install -D vitest @vue/test-utils happy-dom",
          "```",
          "",
          "Configure vite.config.js:",
          "```javascript",
          "export default defineConfig({",
          "  plugins: [vue()],",
          "  test: {",
          "    globals: true,",
          "    environment: 'happy-dom',",
          "    setupFiles: ['./src/test/setup.js']",
          "  }",
          "})",
          "```",
          "",
          "Add test scripts to package.json:",
          "```json",
          "{\"scripts\": {\"test\": \"vitest\", \"test:run\": \"vitest run\"}}",
          "```"
        ]
      },
      {
        "input": "How do I test a component that uses async components?",
        "output": [
          "Use flushPromises to wait for async components:",
          "```javascript",
          "import { mount, flushPromises } from '@vue/test-utils'",
          "import { defineAsyncComponent } from 'vue'",
          "",
          "const AsyncWidget = defineAsyncComponent(() =>",
          "  import('./Widget.vue')",
          ")",
          "",
          "test('renders async component', async () => {",
          "  const wrapper = mount(AsyncWidget)",
          "  await flushPromises()",
          "  expect(wrapper.text()).toContain('Widget Content')",
          "})",
          "```"
        ]
      },
      {
        "input": "How do I write a Playwright test for a Vue login flow?",
        "output": [
          "Create a Playwright test:",
          "```typescript",
          "import { test, expect } from '@playwright/test'",
          "",
          "test('user can log in', async ({ page }) => {",
          "  await page.goto('/login')",
          "  await page.getByLabel('Email').fill('user@example.com')",
          "  await page.getByLabel('Password').fill('password123')",
          "  await page.getByRole('button', { name: 'Sign In' }).click()",
          "  await expect(page).toHaveURL('/dashboard')",
          "})",
          "```"
        ]
      }
    ],
    "best_practices": [
      "Use Vitest for Vue 3 projects as it shares configuration with Vite and provides native ESM support",
      "Test components through their public interface rather than internal implementation details to reduce brittleness",
      "Use flushPromises() to handle async operations in Vue components, including dynamic imports and Suspense"
    ],
    "anti_patterns": [
      "Avoid snapshot-only testing as the sole verification method since passing snapshots does not guarantee correct behavior",
      "Do not test implementation details like internal state or private methods, which change during refactoring",
      "Avoid tightly coupling tests to component structure by using data-testid attributes instead of CSS selectors"
    ],
    "faq": [
      {
        "question": "Should I use happy-dom or jsdom for Vue testing?",
        "answer": "Happy-dom is faster but may have compatibility gaps. Jsdom provides better compatibility with browser APIs. Use happy-dom for simple components and jsdom when testing requires full browser APIs."
      },
      {
        "question": "How do I test a composable that uses lifecycle hooks?",
        "answer": "Use the helper wrapper pattern: mount a test component that uses the composable in its setup(), then test the component behavior to verify the composable works correctly."
      },
      {
        "question": "What is the difference between mount and shallowMount?",
        "answer": "mount renders the full component tree including child components. shallowMount stubs child components, making tests faster and more isolated. Use shallowMount when you want to test only the current component."
      },
      {
        "question": "How do I test teleported components like modals?",
        "answer": "Use attachTo option with mount to place the component in the document body, or use wrapper.findComponent with { attachedToDocument: true } to query teleported elements."
      },
      {
        "question": "When should I use E2E tests vs component tests?",
        "answer": "Component tests verify individual component behavior. E2E tests verify complete user flows across your application. Use both: component tests for fast feedback on component logic, E2E tests for critical user journeys."
      },
      {
        "question": "How do I handle authentication in Playwright tests?",
        "answer": "Use page.context().storageState() to save authenticated state after logging in once, then load that state in subsequent tests. This avoids repeating login steps and reduces test execution time."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "async-component-testing.md",
          "type": "file",
          "path": "reference/async-component-testing.md",
          "lines": 164
        },
        {
          "name": "teleport-testing-complexity.md",
          "type": "file",
          "path": "reference/teleport-testing-complexity.md",
          "lines": 159
        },
        {
          "name": "testing-async-await-flushpromises.md",
          "type": "file",
          "path": "reference/testing-async-await-flushpromises.md",
          "lines": 176
        },
        {
          "name": "testing-browser-vs-node-runners.md",
          "type": "file",
          "path": "reference/testing-browser-vs-node-runners.md",
          "lines": 209
        },
        {
          "name": "testing-component-blackbox-approach.md",
          "type": "file",
          "path": "reference/testing-component-blackbox-approach.md",
          "lines": 145
        },
        {
          "name": "testing-composables-helper-wrapper.md",
          "type": "file",
          "path": "reference/testing-composables-helper-wrapper.md",
          "lines": 239
        },
        {
          "name": "testing-e2e-playwright-recommended.md",
          "type": "file",
          "path": "reference/testing-e2e-playwright-recommended.md",
          "lines": 243
        },
        {
          "name": "testing-no-snapshot-only.md",
          "type": "file",
          "path": "reference/testing-no-snapshot-only.md",
          "lines": 198
        },
        {
          "name": "testing-pinia-store-setup.md",
          "type": "file",
          "path": "reference/testing-pinia-store-setup.md",
          "lines": 229
        },
        {
          "name": "testing-suspense-async-components.md",
          "type": "file",
          "path": "reference/testing-suspense-async-components.md",
          "lines": 230
        },
        {
          "name": "testing-vitest-recommended-for-vue.md",
          "type": "file",
          "path": "reference/testing-vitest-recommended-for-vue.md",
          "lines": 205
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 30
    }
  ]
}
