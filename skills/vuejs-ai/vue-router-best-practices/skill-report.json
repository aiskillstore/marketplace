{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-07T08:40:25.399Z",
    "slug": "vuejs-ai-vue-router-best-practices",
    "source_url": "https://github.com/vuejs-ai/skills/tree/main/skills/vue-router-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "ec6f98572b1479f3006df4951de2fd3b0d1212e9a61f0937c7db01d786e032d5",
    "tree_hash": "d51fc01753e30c319053781e92b24677ee1223a08d210867526fbe1fddad5511"
  },
  "skill": {
    "name": "vue-router-best-practices",
    "description": "Vue Router 4 patterns, navigation guards, route params, and route-component lifecycle interactions.",
    "summary": "Best practices and common patterns for Vue Router 4 navigation guards and route lifecycle management.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "github.com/vuejs-ai",
    "license": "MIT",
    "tags": [
      "vue",
      "vue-router",
      "navigation",
      "routing",
      "frontend"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing reference guides for Vue Router 4 best practices. All static findings are false positives caused by the analyzer detecting code examples within markdown documentation files. The 'external_commands' detections are backtick-delimited code blocks in documentation, not shell execution. The 'network' detections are hardcoded documentation URLs. The 'scripts' detections are import() syntax in code examples. No executable code exists that could pose security risks.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": []
      },
      {
        "factor": "network",
        "evidence": []
      },
      {
        "factor": "scripts",
        "evidence": []
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 1512,
    "audit_model": "claude",
    "audited_at": "2026-02-07T08:40:25.399Z"
  },
  "content": {
    "user_title": "Apply Vue Router Best Practices",
    "value_statement": "Vue Router navigation guards and lifecycle patterns often cause bugs that are hard to debug. This skill provides proven solutions for common Vue Router 4 challenges including guard implementation, route parameter changes, and component cleanup.",
    "seo_keywords": [
      "Vue Router",
      "Vue.js navigation guards",
      "Vue.js routing best practices",
      "Vue Router 4",
      "Vue component lifecycle",
      "Vue.js routing patterns",
      "Claude",
      "Codex",
      "Claude Code",
      "Vue.js development"
    ],
    "actual_capabilities": [
      "Identify navigation guard issues that prevent proper route transitions",
      "Implement proper beforeRouteEnter guard patterns with component access",
      "Handle route parameter changes without losing component state",
      "Prevent infinite redirect loops in navigation guards",
      "Clean up event listeners and subscriptions when routes change",
      "Use async/await patterns correctly in Vue Router guards"
    ],
    "limitations": [
      "This skill provides reference patterns, not a code generator",
      "Does not cover Vue Router 3 or earlier versions",
      "Does not include TypeScript configuration examples",
      "Does not cover custom route matching or regex patterns"
    ],
    "use_cases": [
      {
        "title": "Fixing Navigation Guard Bugs",
        "description": "Debug and fix common Vue Router navigation guard issues such as guards not triggering on parameter changes or infinite redirect loops.",
        "target_user": "Vue.js developers debugging routing issues"
      },
      {
        "title": "Learning Proper Guard Patterns",
        "description": "Understand the correct way to implement navigation guards including async operations and component lifecycle access.",
        "target_user": "Vue.js developers learning best practices"
      },
      {
        "title": "Route Lifecycle Management",
        "description": "Handle route transitions properly including cleanup of event listeners, subscriptions, and component state.",
        "target_user": "Frontend developers building SPA navigation"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Navigation Guard Issue",
        "prompt": "My Vue Router navigation guard is not triggering when I navigate between the same route with different params. The component does not update. How do I fix this?",
        "scenario": "User encounters route param change issue"
      },
      {
        "title": "Accessing Component in Guard",
        "prompt": "I need to access the component instance in my beforeRouteEnter guard to set data, but 'this' is not available. What is the correct pattern for Vue Router 4?",
        "scenario": "User needs component access in guard"
      },
      {
        "title": "Async Guard Implementation",
        "prompt": "How do I properly use async/await in a Vue Router navigation guard to fetch data before allowing navigation? What happens if the request fails?",
        "scenario": "User implementing async navigation guard"
      },
      {
        "title": "Preventing Infinite Loops",
        "prompt": "My navigation guard keeps redirecting users in an infinite loop. How do I detect and prevent this pattern in Vue Router 4?",
        "scenario": "User debugging redirect loops"
      }
    ],
    "output_examples": [
      {
        "input": "How do I handle route parameter changes so my component updates properly?",
        "output": [
          "Route parameter changes do not re-trigger navigation guards by default in Vue Router 4.",
          "To handle parameter changes:",
          "1. Use the `onBeforeRouteUpdate` composable or update hook",
          "2. Watch the route params and refetch data",
          "3. Use key changes on router-view: <router-view :key=\"$route.fullPath\" />"
        ]
      },
      {
        "input": "What is the correct way to use beforeRouteEnter guard?",
        "output": [
          "The beforeRouteEnter guard does not have access to 'this' because the component hasn't been created yet.",
          "Use the next(vm) callback to access the component instance:",
          "beforeRouteEnter(to, from, next) {",
          "  next(vm => { vm.someProperty = 'value' })",
          "}",
          "For Vue 3 with composition API, consider using onBeforeRouteUpdate or onBeforeRouteLeave instead."
        ]
      }
    ],
    "best_practices": [
      "Use onBeforeRouteUpdate and onBeforeRouteLeave hooks for component-level route change handling instead of relying solely on navigation guards",
      "Always return a Promise or use next() callback in guards to ensure proper navigation flow control",
      "Clean up subscriptions, timers, and event listeners in onBeforeRouteLeave to prevent memory leaks"
    ],
    "anti_patterns": [
      "Using the deprecated next() function in Vue Router 4 - use return promises or boolean flags instead",
      "Relying on beforeRouteEnter to access component state - use composition API hooks instead",
      "Not handling API failures in async navigation guards, which can leave users stuck on loading screens"
    ],
    "faq": [
      {
        "question": "Why does my navigation guard not trigger when params change?",
        "answer": "Navigation guards only trigger on explicit navigation. When navigating between the same route with different params, Vue Router considers this the same route. Use onBeforeRouteUpdate or watch route params to handle these changes."
      },
      {
        "question": "How do I access component data in beforeRouteEnter guard?",
        "answer": "The beforeRouteEnter guard runs before the component is created, so 'this' is undefined. Use the next(vm) callback to access the component instance after it is created."
      },
      {
        "question": "What causes infinite redirect loops in Vue Router?",
        "answer": "Infinite loops occur when a guard redirects to a route that triggers the same guard condition, creating a cycle. Check guard logic for conditions that cannot be satisfied or always evaluate to true for the target route."
      },
      {
        "question": "How do I properly clean up when leaving a route?",
        "answer": "Use the onBeforeRouteLeave hook or beforeRouteLeave guard to remove event listeners, cancel pending requests, clear timers, and unsubscribe from stores or services."
      },
      {
        "question": "Should I use navigation guards or component lifecycle hooks?",
        "answer": "Use guards for route-level decisions like authentication and authorization. Use component lifecycle hooks for component-specific cleanup and data fetching that depends on route params."
      },
      {
        "question": "What is the Vue Router 4 replacement for the deprecated next()?",
        "answer": "Instead of calling next(), return a Promise, use async/await, or return false to cancel navigation. For redirects, throw an Error with the route name using createRouter's redirect feature."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "router-beforeenter-no-param-trigger.md",
          "type": "file",
          "path": "reference/router-beforeenter-no-param-trigger.md",
          "lines": 168
        },
        {
          "name": "router-beforerouteenter-no-this.md",
          "type": "file",
          "path": "reference/router-beforerouteenter-no-this.md",
          "lines": 177
        },
        {
          "name": "router-guard-async-await-pattern.md",
          "type": "file",
          "path": "reference/router-guard-async-await-pattern.md",
          "lines": 228
        },
        {
          "name": "router-navigation-guard-infinite-loop.md",
          "type": "file",
          "path": "reference/router-navigation-guard-infinite-loop.md",
          "lines": 188
        },
        {
          "name": "router-navigation-guard-next-deprecated.md",
          "type": "file",
          "path": "reference/router-navigation-guard-next-deprecated.md",
          "lines": 151
        },
        {
          "name": "router-param-change-no-lifecycle.md",
          "type": "file",
          "path": "reference/router-param-change-no-lifecycle.md",
          "lines": 182
        },
        {
          "name": "router-simple-routing-cleanup.md",
          "type": "file",
          "path": "reference/router-simple-routing-cleanup.md",
          "lines": 210
        },
        {
          "name": "router-use-vue-router-for-production.md",
          "type": "file",
          "path": "reference/router-use-vue-router-for-production.md",
          "lines": 184
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 24
    }
  ]
}
