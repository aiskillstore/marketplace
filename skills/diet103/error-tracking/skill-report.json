{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T17:34:28.430Z",
    "slug": "diet103-error-tracking",
    "source_url": "https://github.com/diet103/claude-code-infrastructure-showcase/tree/main/.claude/skills/error-tracking",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "5c3557b384653d36258820e378a46e1f4ceb36cd9b2e566b69a125d09b14daf7",
    "tree_hash": "c19d9b8b2df2a3b0585450467aa11d1298ef8c545b3bdf411bae6d0668f548a3"
  },
  "skill": {
    "name": "error-tracking",
    "description": "Add Sentry v8 error tracking and performance monitoring to your project services. Use this skill when adding error handling, creating new controllers, instrumenting cron jobs, or tracking database performance. ALL ERRORS MUST BE CAPTURED TO SENTRY - no exceptions.",
    "summary": "Add Sentry v8 error tracking and performance monitoring to project services with comprehensive error capture patterns.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "diet103",
    "license": "MIT",
    "tags": [
      "error-tracking",
      "sentry",
      "monitoring",
      "debugging",
      "performance"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "env_access",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 98 static findings are false positives. The skill is legitimate Sentry v8 error tracking documentation. Detected patterns are standard documentation patterns (markdown backticks, import paths, environment variable references, local test URLs) not actual security vulnerabilities. No malicious code, exfiltration, or obfuscation found.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 269,
            "line_end": 269
          },
          {
            "file": "SKILL.md",
            "line_start": 272,
            "line_end": 272
          },
          {
            "file": "SKILL.md",
            "line_start": 275,
            "line_end": 275
          },
          {
            "file": "SKILL.md",
            "line_start": 278,
            "line_end": 278
          },
          {
            "file": "SKILL.md",
            "line_start": 285,
            "line_end": 285
          },
          {
            "file": "SKILL.md",
            "line_start": 288,
            "line_end": 288
          },
          {
            "file": "SKILL.md",
            "line_start": 291,
            "line_end": 291
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 75,
            "line_end": 75
          },
          {
            "file": "SKILL.md",
            "line_start": 93,
            "line_end": 93
          },
          {
            "file": "SKILL.md",
            "line_start": 134,
            "line_end": 134
          },
          {
            "file": "SKILL.md",
            "line_start": 367,
            "line_end": 367
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 267,
            "line_end": 279
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 292
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 184,
            "line_end": 184
          },
          {
            "file": "SKILL.md",
            "line_start": 208,
            "line_end": 208
          },
          {
            "file": "SKILL.md",
            "line_start": 209,
            "line_end": 209
          },
          {
            "file": "SKILL.md",
            "line_start": 232,
            "line_end": 232
          },
          {
            "file": "SKILL.md",
            "line_start": 233,
            "line_end": 233
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 1355,
    "audit_model": "claude",
    "audited_at": "2026-01-21T17:34:28.430Z"
  },
  "content": {
    "user_title": "Add Sentry error tracking to your services",
    "value_statement": "Manual error tracking leaves blind spots in production. This skill enforces comprehensive Sentry v8 error capture across all services with standardized patterns for controllers, workflows, cron jobs, and database operations.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "error tracking",
      "Sentry",
      "error monitoring",
      "performance monitoring",
      "debugging",
      "exception handling",
      "APM"
    ],
    "actual_capabilities": [
      "Integrates Sentry v8 error tracking into new and existing code",
      "Provides standardized patterns for controller error handling with BaseController",
      "Adds performance monitoring for database queries with automatic slow query detection",
      "Instruments cron jobs with proper Sentry initialization as first import",
      "Captures workflow errors with contextual metadata for troubleshooting"
    ],
    "limitations": [
      "Does not modify existing error handling automatically, requires developer to use provided patterns",
      "Does not configure Sentry project settings or DSN credentials",
      "Does not provide real-time alerting configuration within Sentry",
      "Does not integrate with error tracking services other than Sentry"
    ],
    "use_cases": [
      {
        "title": "Add error tracking to new controllers",
        "description": "Extend BaseController to automatically capture all exceptions to Sentry with method context and request details.",
        "target_user": "Backend developers building new API endpoints"
      },
      {
        "title": "Instrument cron jobs with performance monitoring",
        "description": "Add Sentry initialization as the first import in cron job files to capture startup errors and track execution performance.",
        "target_user": "DevOps engineers managing scheduled tasks"
      },
      {
        "title": "Monitor database query performance",
        "description": "Wrap database operations with DatabasePerformanceMonitor to automatically detect slow queries and N+1 patterns.",
        "target_user": "Backend developers optimizing database performance"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic controller error handling",
        "prompt": "Add Sentry error tracking to my new controller at {controller_path}. Extend BaseController and ensure all exceptions are captured with meaningful context.",
        "scenario": "When creating a new controller that needs error tracking"
      },
      {
        "title": "Cron job instrumentation",
        "prompt": "Instrument my cron job file at {cron_path} with Sentry v8. Add proper import ordering and wrap the main function with error capture and performance spans.",
        "scenario": "When adding error tracking to scheduled background jobs"
      },
      {
        "title": "Database performance monitoring",
        "prompt": "Add performance tracking to my database query at {query_path}. Use DatabasePerformanceMonitor to track execution time and detect slow queries.",
        "scenario": "When monitoring database operation performance"
      },
      {
        "title": "Workflow error context",
        "prompt": "Add Sentry capture for my workflow error at {workflow_path}. Include workflow code, instance ID, step ID, and operation type in the error context.",
        "scenario": "When capturing workflow-specific errors with full context"
      }
    ],
    "output_examples": [
      {
        "input": "Add error tracking to controllers/UsersController.ts",
        "output": "Created UsersController extending BaseController. All exceptions in user methods will now automatically capture to Sentry with method name and request context."
      },
      {
        "input": "Add performance monitoring to UserProfile queries",
        "output": "Wrapped Prisma findMany query with DatabasePerformanceMonitor. Slow queries over 100ms will be flagged. N+1 detection enabled for related queries."
      },
      {
        "input": "Instrument the email cleanup cron job",
        "output": "Added Sentry.init as first import. Wrapped main function with startSpan for cron monitoring. Execution errors will capture with job-name tag."
      }
    ],
    "best_practices": [
      "Always import instrument.ts as the first line in cron jobs before any other code",
      "Include contextual information like userId, workflowCode, and operation type in error captures",
      "Use appropriate severity levels: fatal for system failures, error for operation failures, warning for degraded performance"
    ],
    "anti_patterns": [
      "Never use console.error without also capturing to Sentry",
      "Never swallow errors silently in catch blocks without any logging",
      "Never expose sensitive user data like passwords or tokens in error context"
    ],
    "faq": [
      {
        "question": "What is the correct import order for cron jobs?",
        "answer": "Import instrument.ts as the first line after the shebang. This initializes Sentry before any other code runs, ensuring startup errors are captured."
      },
      {
        "question": "How do I avoid capturing sensitive data in errors?",
        "answer": "Filter sensitive fields before adding them to error context. Use Sentry's data filtering options and never log passwords, tokens, or PII directly."
      },
      {
        "question": "Can I use this skill with Sentry v7?",
        "answer": "This skill is designed for Sentry v8 patterns. Some integrations like startSpan and nodeProfilingIntegration are v8-specific."
      },
      {
        "question": "How do I test my Sentry integration locally?",
        "answer": "Use the test endpoints provided in SKILL.md. Set SENTRY_DSN to your local or test project DSN. Check the Sentry dashboard for captured errors."
      },
      {
        "question": "What performance metrics are tracked automatically?",
        "answer": "Database queries over 100ms are flagged, N+1 queries are detected, cron job execution is tracked, and custom spans can be added for any operation."
      },
      {
        "question": "How do I set the correct error severity level?",
        "answer": "Use fatal for system-down scenarios, error for failed operations needing attention, warning for degraded but functional operations, and info or debug for informational logging."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 376
    }
  ]
}
