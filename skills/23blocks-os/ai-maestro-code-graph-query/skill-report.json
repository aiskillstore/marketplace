{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T14:27:37.918Z",
    "slug": "23blocks-os-ai-maestro-code-graph-query",
    "source_url": "https://github.com/23blocks-OS/ai-maestro/tree/main/skills/graph-query",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "078d400a484219965a16ae3b74bf337743491c4d6be39eca85d1670a08093090",
    "tree_hash": "941161d286b8fac6142df32fe670cbed0a1131179621bcf2fb4ac420bfa38efd"
  },
  "skill": {
    "name": "ai-maestro-code-graph-query",
    "description": "PROACTIVELY query the code graph database to understand relationships and impact of changes. Use this skill WHEN READING any file to understand context, when searching for files, when exploring the codebase, or when you need to understand what depends on a component. This is your primary tool for understanding code structure and avoiding breaking changes.",
    "summary": "PROACTIVELY query the code graph database to understand relationships and impact of changes. Use thi...",
    "icon": "ðŸ”—",
    "version": "1.0.0",
    "author": "23blocks-OS",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "code-analysis",
      "dependencies",
      "refactoring",
      "codebase-understanding"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill with no executable code. All 79 static findings are false positives caused by markdown documentation patterns. The skill instructs AI agents to run local shell scripts from ~/.local/bin/ and make localhost API calls to port 23000. No external network access or sensitive data exfiltration.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 42,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 70
          },
          {
            "file": "SKILL.md",
            "line_start": 107,
            "line_end": 112
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 542,
    "audit_model": "claude",
    "audited_at": "2026-01-16T14:27:37.918Z"
  },
  "content": {
    "user_title": "Query Code Dependencies",
    "value_statement": "Understanding code relationships prevents breaking changes. This skill automatically queries a code graph database to find callers, callees, serializers, and associations before you modify any component.",
    "seo_keywords": [
      "code graph query",
      "dependency analysis",
      "codebase navigation",
      "Claude Code skill",
      "code relationships",
      "impact analysis",
      "refactoring tool",
      "call graph",
      "function dependencies",
      "code structure"
    ],
    "actual_capabilities": [
      "Find all functions that call a given function (callers)",
      "Find all functions called by a given function (callees)",
      "Discover model associations and serializers",
      "Find inheritance and composition relationships",
      "Trace call paths between functions",
      "Delta-index changed files for quick updates"
    ],
    "limitations": [
      "Requires AI Maestro dashboard running on localhost",
      "Requires graph database to be indexed first",
      "Only works with code files in indexed projects",
      "Cannot query non-code files or binary data"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Safe Model Changes",
        "description": "Before modifying a model, find all serializers and associations that might break."
      },
      {
        "target_user": "Feature Engineers",
        "title": "Impact Analysis",
        "description": "Understand the full impact of changing a core function before refactoring."
      },
      {
        "target_user": "Codebase Maintainers",
        "title": "Architecture Discovery",
        "description": "Explore unknown codebases by tracing relationships between components."
      }
    ],
    "prompt_templates": [
      {
        "title": "Understand a File",
        "scenario": "Reading a model or component",
        "prompt": "Read this file, then query the graph to find: what depends on this component, what it depends on, and any serializers or associations."
      },
      {
        "title": "Before Refactoring",
        "scenario": "Changing a function signature",
        "prompt": "Find all callers of this function before making changes. List each caller and its file location."
      },
      {
        "title": "Find Serializers",
        "scenario": "Updating a data model",
        "prompt": "Find all serializers for this model. Check if any serializers might be missing from the codebase."
      },
      {
        "title": "Trace Call Path",
        "scenario": "Understanding data flow",
        "prompt": "Find the call path from the API controller entry point to this internal function."
      }
    ],
    "output_examples": [
      {
        "input": "Query the graph for callers and callees of the process_payment function",
        "output": [
          "Callers:",
          "  - create_order (app/services/order_service.rb:42)",
          "  - process_subscription (app/services/billing.rb:18)",
          "  - refund_transaction (app/services/refund.rb:55)",
          "",
          "Callees:",
          "  - validate_amount (app/models/payment.rb:12)",
          "  - charge_card (app/services/stripe.rb:89)",
          "  - log_transaction (app/utils/logger.rb:23)"
        ]
      },
      {
        "input": "Find all serializers for the User model",
        "output": [
          "Serializers for User model:",
          "  - UserSerializer (app/serializers/user_serializer.rb)",
          "  - PublicUserSerializer (app/serializers/public_user_serializer.rb)",
          "  - AdminUserSerializer (app/serializers/admin_user_serializer.rb)"
        ]
      },
      {
        "input": "What associations does the Order model have?",
        "output": [
          "Order model associations:",
          "  - belongs_to :user (app/models/user.rb)",
          "  - has_many :line_items",
          "  - has_one :payment",
          "  - belongs_to :shipping_address"
        ]
      }
    ],
    "best_practices": [
      "Query the graph immediately after reading any code file to build context",
      "Check serializers before modifying database models",
      "Verify all callers before changing function signatures"
    ],
    "anti_patterns": [
      "Skipping graph queries for simple changes",
      "Making modifications without checking for downstream effects",
      "Assuming you understand the full impact without querying"
    ],
    "faq": [
      {
        "question": "Which AI tools support this skill?",
        "answer": "This skill works with Claude, Codex, and Claude Code. It requires the AI Maestro dashboard running locally."
      },
      {
        "question": "How does the code graph get built?",
        "answer": "The graph is built by indexing your codebase. Run graph-index-delta.sh to update it with changes."
      },
      {
        "question": "What programming languages are supported?",
        "answer": "The skill works with any language. Language detection depends on your AI Maestro installation configuration."
      },
      {
        "question": "Is my code data sent externally?",
        "answer": "No. All graph data stays on your machine. The API calls are to localhost port 23000 only."
      },
      {
        "question": "Why are my queries returning no results?",
        "answer": "The graph needs to be indexed first. Run graph-index-delta.sh on your project directory."
      },
      {
        "question": "How is this different from grep or search?",
        "answer": "Graph queries understand relationships. Find all callers, not just text matches. Shows call paths and dependencies."
      }
    ]
  },
  "file_structure": [
    {
      "name": "output.json",
      "type": "file",
      "path": "output.json",
      "lines": 169
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 160
    }
  ]
}
