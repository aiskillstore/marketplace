{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:49:45.854Z",
    "slug": "automattic-wp-performance",
    "source_url": "https://github.com/Automattic/agent-skills/tree/trunk/skills/wp-performance",
    "source_ref": "trunk",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "b0bb047807a8367350a4953f9e38bd9e8cc77d0e5a48169532ef929b40e5a7d3",
    "tree_hash": "2fac86d336413764f86710e726ec25375ebc1cd52877ff8ec8deff48b50ea52b"
  },
  "skill": {
    "name": "wp-performance",
    "description": "Use when investigating or improving WordPress performance (backend-only agent): profiling and measurement (WP-CLI profile/doctor, Server-Timing, Query Monitor via REST headers), database/query optimization, autoloaded options, object caching, cron, HTTP API calls, and safe verification.",
    "summary": "Use when investigating or improving WordPress performance (backend-only agent): profiling and measur...",
    "icon": "âš¡",
    "version": "1.0.0",
    "author": "Automattic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "WordPress",
      "performance",
      "optimization",
      "profiling",
      "debugging"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Legitimate WordPress performance diagnostic skill. The script runs WP-CLI commands and checks filesystem for performance-related files. No network calls, no credential access, no data exfiltration. Capabilities are appropriate for stated purpose.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/perf_inspect.mjs",
            "line_start": 32,
            "line_end": 32
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/perf_inspect.mjs",
            "line_start": 113,
            "line_end": 118
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 527,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:49:45.854Z"
  },
  "content": {
    "user_title": "Diagnose WordPress Performance Issues",
    "value_statement": "WordPress sites can suffer from slow page loads, high TTFB, and database bottlenecks. This skill provides systematic diagnostics using WP-CLI commands, profiling tools, and backend-only analysis to identify and fix performance problems.",
    "seo_keywords": [
      "WordPress performance optimization",
      "WP-CLI profiling",
      "WordPress slow TTFB",
      "database query optimization",
      "autoloaded options",
      "WordPress caching",
      "Claude Code",
      "Claude",
      "Codex"
    ],
    "actual_capabilities": [
      "Run WP-CLI diagnostics (doctor, profile commands) to identify bottlenecks",
      "Check autoloaded options size and identify bloat",
      "Detect object cache drop-ins and performance plugins",
      "Analyze database queries and identify slow patterns",
      "Profile hooks and stages to find slow code paths",
      "Inspect HTTP API calls for timeout and performance issues"
    ],
    "limitations": [
      "Backend-only agent requires WP-CLI access for full functionality",
      "Cannot use browser UI or visual debugging tools",
      "Cannot install plugins without explicit permission",
      "Requires target WordPress path and URL for accurate analysis"
    ],
    "use_cases": [
      {
        "target_user": "WordPress Developers",
        "title": "Debug Slow Pages",
        "description": "Diagnose why specific pages or endpoints load slowly using WP-CLI profiling and hook analysis."
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Optimize Site Performance",
        "description": "Identify performance regressions and infrastructure issues across WordPress deployments."
      },
      {
        "target_user": "Site Maintainers",
        "title": "Audit Autoloaded Options",
        "description": "Find and fix bloated autoloaded options that slow down every page request."
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick Health Check",
        "scenario": "Basic performance baseline",
        "prompt": "Run a WordPress performance health check on my site at path [PATH]. Check WP-CLI availability, core version, and identify any performance-related plugins or drop-ins."
      },
      {
        "title": "Database Analysis",
        "scenario": "Slow database queries",
        "prompt": "My WordPress site has slow database queries. Use wp doctor and profile commands to identify the slowest queries and suggest fixes for N+1 patterns."
      },
      {
        "title": "Autoload Audit",
        "scenario": "Large autoload payload",
        "prompt": "Audit autoloaded options on my WordPress site. List the largest autoloaded options and recommend which ones should have autoload disabled."
      },
      {
        "title": "Deep Profiling",
        "scenario": "Complete performance analysis",
        "prompt": "Perform a complete WordPress performance profile on my site. Run wp profile stage, wp profile hook, and wp doctor check. Identify the top bottlenecks and provide a prioritized fix plan."
      }
    ],
    "output_examples": [
      {
        "input": "Check why my WordPress admin is slow",
        "output": [
          "WP-CLI is available version 2.10.0",
          "WordPress 6.7 installed at specified path",
          "wp doctor found: autoload options at 2.4MB (threshold: 800KB)",
          "Query Monitor plugin detected but not active in admin",
          "wp profile hook shows init hook taking 450ms",
          "Recommendations: reduce autoload size, investigate expensive init callbacks"
        ]
      }
    ],
    "best_practices": [
      "Always capture a baseline measurement before making any performance changes",
      "Use the same URL and environment for before/after comparison to ensure accurate results",
      "Avoid running profiling tools in production without explicit approval"
    ],
    "anti_patterns": [
      "Making multiple performance changes before measuring impact",
      "Running SAVEQUERIES or Query Monitor in production without understanding overhead",
      "Ignoring cache effects when comparing performance measurements"
    ],
    "faq": [
      {
        "question": "Which WordPress versions are supported?",
        "answer": "Targets WordPress 6.9+ and PHP 7.2.24+. Works with older versions but some commands may vary."
      },
      {
        "question": "What are the performance measurement limits?",
        "answer": "Backend-only tools cannot measure frontend metrics like Core Web Vitals. Use external tools for LCP, CLS measurements."
      },
      {
        "question": "How does this integrate with existing tools?",
        "answer": "Uses WP-CLI commands (doctor, profile) and can read Query Monitor data via REST headers when available."
      },
      {
        "question": "Is my site data safe during profiling?",
        "answer": "Profiling commands are read-only. wp doctor and wp profile do not modify data. Always backup before applying fixes."
      },
      {
        "question": "What if WP-CLI is not available?",
        "answer": "The skill can still provide diagnostic guidance but cannot run automated checks. Manual inspection via logs and HTTP headers required."
      },
      {
        "question": "How is this different from Query Monitor?",
        "answer": "Query Monitor is a browser-based UI tool. This skill provides backend-only analysis via WP-CLI when no browser access is available."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "autoload-options.md",
          "type": "file",
          "path": "references/autoload-options.md"
        },
        {
          "name": "cron.md",
          "type": "file",
          "path": "references/cron.md"
        },
        {
          "name": "database.md",
          "type": "file",
          "path": "references/database.md"
        },
        {
          "name": "http-api.md",
          "type": "file",
          "path": "references/http-api.md"
        },
        {
          "name": "measurement.md",
          "type": "file",
          "path": "references/measurement.md"
        },
        {
          "name": "object-cache.md",
          "type": "file",
          "path": "references/object-cache.md"
        },
        {
          "name": "query-monitor-headless.md",
          "type": "file",
          "path": "references/query-monitor-headless.md"
        },
        {
          "name": "server-timing.md",
          "type": "file",
          "path": "references/server-timing.md"
        },
        {
          "name": "wp-cli-doctor.md",
          "type": "file",
          "path": "references/wp-cli-doctor.md"
        },
        {
          "name": "wp-cli-profile.md",
          "type": "file",
          "path": "references/wp-cli-profile.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "perf_inspect.mjs",
          "type": "file",
          "path": "scripts/perf_inspect.mjs"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
