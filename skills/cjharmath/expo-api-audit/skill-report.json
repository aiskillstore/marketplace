{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T16:41:50.546Z",
    "slug": "cjharmath-expo-api-audit",
    "source_url": "https://github.com/CJHarmath/claude-agents-skills/tree/main/skills/expo-api-audit",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "3275d8baaf740d5cc547fe863493f1e95a3de430f78a422b991a286d889c0e5c",
    "tree_hash": "93d788e99fb6ccb0349f7e3240e18ee14463c3d8450afd2f648c0ba577c1a3a1"
  },
  "skill": {
    "name": "expo-api-audit",
    "description": "Comprehensive audit of Expo/React Native app API integration layer. Use when asked to: (1) Review API interactions, auth handling, or token management, (2) Find hardcoded data or screens bypassing API, (3) Verify user interactions properly sync to backend, (4) Analyze offline behavior and caching, (5) Audit Orval/OpenAPI code generation, (6) Check for API security issues. Supports TanStack Query, Zustand, axios, Expo Router, expo-secure-store, and expo-constants patterns.",
    "summary": "Comprehensive audit of Expo/React Native app API integration layer. Use when asked to: (1) Review AP...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "CJHarmath",
    "license": "MIT",
    "tags": [
      "expo",
      "react-native",
      "api-audit",
      "security-review",
      "mobile-development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. The flagged patterns (external commands, network calls, credential access) appear only in documentation code examples within SKILL.md and keywords in the JSON report. This skill provides static analysis guidance for reviewing Expo/React Native code - it does not execute any code or make network calls. Safe for publication.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 1377,
            "line_end": 1377
          },
          {
            "file": "skill-report.json",
            "line_start": 1378,
            "line_end": 1378
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 23,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 59
          },
          {
            "file": "SKILL.md",
            "line_start": 59,
            "line_end": 65
          },
          {
            "file": "SKILL.md",
            "line_start": 65,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 68
          },
          {
            "file": "SKILL.md",
            "line_start": 68,
            "line_end": 68
          },
          {
            "file": "SKILL.md",
            "line_start": 68,
            "line_end": 69
          },
          {
            "file": "SKILL.md",
            "line_start": 69,
            "line_end": 70
          },
          {
            "file": "SKILL.md",
            "line_start": 70,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 72
          },
          {
            "file": "SKILL.md",
            "line_start": 72,
            "line_end": 78
          },
          {
            "file": "SKILL.md",
            "line_start": 78,
            "line_end": 85
          },
          {
            "file": "SKILL.md",
            "line_start": 85,
            "line_end": 97
          },
          {
            "file": "SKILL.md",
            "line_start": 97,
            "line_end": 99
          },
          {
            "file": "SKILL.md",
            "line_start": 99,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 116
          },
          {
            "file": "SKILL.md",
            "line_start": 116,
            "line_end": 125
          },
          {
            "file": "SKILL.md",
            "line_start": 125,
            "line_end": 129
          },
          {
            "file": "SKILL.md",
            "line_start": 129,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 139
          },
          {
            "file": "SKILL.md",
            "line_start": 139,
            "line_end": 154
          },
          {
            "file": "SKILL.md",
            "line_start": 154,
            "line_end": 159
          },
          {
            "file": "SKILL.md",
            "line_start": 159,
            "line_end": 160
          },
          {
            "file": "SKILL.md",
            "line_start": 160,
            "line_end": 164
          },
          {
            "file": "SKILL.md",
            "line_start": 164,
            "line_end": 164
          },
          {
            "file": "SKILL.md",
            "line_start": 164,
            "line_end": 170
          },
          {
            "file": "SKILL.md",
            "line_start": 170,
            "line_end": 170
          },
          {
            "file": "SKILL.md",
            "line_start": 170,
            "line_end": 176
          },
          {
            "file": "SKILL.md",
            "line_start": 176,
            "line_end": 187
          },
          {
            "file": "SKILL.md",
            "line_start": 187,
            "line_end": 195
          },
          {
            "file": "SKILL.md",
            "line_start": 195,
            "line_end": 195
          },
          {
            "file": "SKILL.md",
            "line_start": 195,
            "line_end": 201
          },
          {
            "file": "SKILL.md",
            "line_start": 201,
            "line_end": 211
          },
          {
            "file": "SKILL.md",
            "line_start": 211,
            "line_end": 220
          },
          {
            "file": "SKILL.md",
            "line_start": 220,
            "line_end": 226
          },
          {
            "file": "SKILL.md",
            "line_start": 226,
            "line_end": 235
          },
          {
            "file": "SKILL.md",
            "line_start": 235,
            "line_end": 243
          },
          {
            "file": "SKILL.md",
            "line_start": 243,
            "line_end": 246
          },
          {
            "file": "SKILL.md",
            "line_start": 246,
            "line_end": 247
          },
          {
            "file": "SKILL.md",
            "line_start": 247,
            "line_end": 253
          },
          {
            "file": "SKILL.md",
            "line_start": 253,
            "line_end": 253
          },
          {
            "file": "SKILL.md",
            "line_start": 253,
            "line_end": 257
          },
          {
            "file": "SKILL.md",
            "line_start": 257,
            "line_end": 259
          },
          {
            "file": "SKILL.md",
            "line_start": 259,
            "line_end": 265
          },
          {
            "file": "SKILL.md",
            "line_start": 265,
            "line_end": 269
          },
          {
            "file": "SKILL.md",
            "line_start": 269,
            "line_end": 275
          },
          {
            "file": "SKILL.md",
            "line_start": 275,
            "line_end": 283
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 284
          },
          {
            "file": "SKILL.md",
            "line_start": 284,
            "line_end": 293
          },
          {
            "file": "SKILL.md",
            "line_start": 293,
            "line_end": 309
          },
          {
            "file": "SKILL.md",
            "line_start": 309,
            "line_end": 318
          },
          {
            "file": "SKILL.md",
            "line_start": 318,
            "line_end": 320
          },
          {
            "file": "SKILL.md",
            "line_start": 320,
            "line_end": 323
          },
          {
            "file": "SKILL.md",
            "line_start": 323,
            "line_end": 324
          },
          {
            "file": "SKILL.md",
            "line_start": 324,
            "line_end": 325
          },
          {
            "file": "SKILL.md",
            "line_start": 325,
            "line_end": 328
          },
          {
            "file": "SKILL.md",
            "line_start": 328,
            "line_end": 330
          },
          {
            "file": "SKILL.md",
            "line_start": 330,
            "line_end": 331
          },
          {
            "file": "SKILL.md",
            "line_start": 331,
            "line_end": 334
          },
          {
            "file": "SKILL.md",
            "line_start": 334,
            "line_end": 356
          },
          {
            "file": "SKILL.md",
            "line_start": 356,
            "line_end": 360
          },
          {
            "file": "SKILL.md",
            "line_start": 360,
            "line_end": 367
          },
          {
            "file": "SKILL.md",
            "line_start": 367,
            "line_end": 369
          },
          {
            "file": "SKILL.md",
            "line_start": 369,
            "line_end": 376
          },
          {
            "file": "SKILL.md",
            "line_start": 376,
            "line_end": 381
          },
          {
            "file": "SKILL.md",
            "line_start": 381,
            "line_end": 390
          },
          {
            "file": "SKILL.md",
            "line_start": 390,
            "line_end": 394
          },
          {
            "file": "SKILL.md",
            "line_start": 394,
            "line_end": 396
          },
          {
            "file": "SKILL.md",
            "line_start": 396,
            "line_end": 407
          },
          {
            "file": "SKILL.md",
            "line_start": 178,
            "line_end": 178
          },
          {
            "file": "SKILL.md",
            "line_start": 203,
            "line_end": 203
          },
          {
            "file": "SKILL.md",
            "line_start": 176,
            "line_end": 187
          },
          {
            "file": "SKILL.md",
            "line_start": 201,
            "line_end": 211
          },
          {
            "file": "SKILL.md",
            "line_start": 42,
            "line_end": 42
          },
          {
            "file": "SKILL.md",
            "line_start": 48,
            "line_end": 48
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 16,
            "line_end": 16
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 140,
            "line_end": 140
          },
          {
            "file": "SKILL.md",
            "line_start": 362,
            "line_end": 362
          },
          {
            "file": "SKILL.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "SKILL.md",
            "line_start": 45,
            "line_end": 45
          },
          {
            "file": "SKILL.md",
            "line_start": 95,
            "line_end": 95
          },
          {
            "file": "SKILL.md",
            "line_start": 143,
            "line_end": 143
          },
          {
            "file": "SKILL.md",
            "line_start": 144,
            "line_end": 144
          },
          {
            "file": "SKILL.md",
            "line_start": 144,
            "line_end": 144
          },
          {
            "file": "SKILL.md",
            "line_start": 363,
            "line_end": 363
          },
          {
            "file": "SKILL.md",
            "line_start": 363,
            "line_end": 363
          },
          {
            "file": "SKILL.md",
            "line_start": 372,
            "line_end": 372
          },
          {
            "file": "SKILL.md",
            "line_start": 372,
            "line_end": 372
          },
          {
            "file": "SKILL.md",
            "line_start": 364,
            "line_end": 364
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 42,
            "line_end": 42
          },
          {
            "file": "SKILL.md",
            "line_start": 48,
            "line_end": 48
          },
          {
            "file": "SKILL.md",
            "line_start": 51,
            "line_end": 51
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 124,
            "line_end": 124
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 324,
            "line_end": 324
          },
          {
            "file": "SKILL.md",
            "line_start": 351,
            "line_end": 351
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 152,
            "line_end": 152
          },
          {
            "file": "SKILL.md",
            "line_start": 160,
            "line_end": 160
          },
          {
            "file": "SKILL.md",
            "line_start": 284,
            "line_end": 284
          },
          {
            "file": "SKILL.md",
            "line_start": 322,
            "line_end": 322
          },
          {
            "file": "SKILL.md",
            "line_start": 324,
            "line_end": 324
          },
          {
            "file": "SKILL.md",
            "line_start": 351,
            "line_end": 351
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 1952,
    "audit_model": "claude",
    "audited_at": "2026-01-21T16:41:50.546Z"
  },
  "content": {
    "user_title": "Audit Expo API Integration Layer",
    "value_statement": "Expo and React Native apps often have hidden API integration issues including hardcoded data, missing offline handling, and insecure token storage. This skill systematically audits your entire API layer to find violations, security risks, and data consistency problems before they impact users.",
    "seo_keywords": [
      "expo api audit",
      "react native api integration",
      "claude code api audit",
      "claude codex api review",
      "expo-secure-store audit",
      "orval openapi audit",
      "tanstack query audit",
      "offline first audit",
      "react native security audit",
      "claude api integration"
    ],
    "actual_capabilities": [
      "Audits API layer for hardcoded data and direct fetch/axios calls bypassing generated hooks",
      "Reviews authentication token storage to ensure expo-secure-store is used instead of AsyncStorage",
      "Identifies forms and user interactions that fail to sync data to the backend",
      "Analyzes offline behavior including caching patterns and network mode configuration",
      "Checks Orval/OpenAPI generated code against OpenAPI spec for completeness",
      "Reviews Zustand stores to ensure they contain only client state, not server data"
    ],
    "limitations": [
      "Does not execute or modify code - only audits and reports findings",
      "Requires the codebase to use Expo Router or conventional file structures for accurate detection",
      "Cannot verify API behavior at runtime - only analyzes static code patterns",
      "Does not test actual API endpoints for correctness or availability"
    ],
    "use_cases": [
      {
        "title": "Pre-Release Security Audit",
        "description": "Run a comprehensive audit before production release to catch hardcoded credentials, insecure token storage, and missing auth handling that could expose user data.",
        "target_user": "Mobile developers preparing apps for production release"
      },
      {
        "title": "Debugging Data Sync Issues",
        "description": "When users report that form submissions or data changes are not persisting, this skill identifies which screens and components are missing API mutations.",
        "target_user": "QA engineers and developers debugging user-reported data issues"
      },
      {
        "title": "Legacy Codebase Assessment",
        "description": "Analyze an existing Expo codebase to understand API layer architecture, identify violated patterns, and create a prioritized refactoring roadmap.",
        "target_user": "Engineering leads assessing technical debt in mobile applications"
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick Security Scan",
        "prompt": "Run a quick API security audit on my Expo app. Check for: (1) hardcoded API URLs or tokens, (2) tokens stored in AsyncStorage instead of expo-secure-store, (3) direct fetch/axios calls bypassing generated hooks. Report any critical security issues found."
      },
      {
        "title": "Full Integration Audit",
        "prompt": "Perform a complete API integration audit of my Expo/React Native app. Cover: auth token handling, Orval generation health, direct API violations, screen data sources, user interaction sync patterns, offline behavior, and error handling. Format findings by severity with file locations."
      },
      {
        "title": "Offline Behavior Review",
        "prompt": "Audit my Expo app's offline behavior. Check query networkMode settings, cache persistence, offline queue implementation, error boundary coverage, and reconnection handling. Report any gaps in offline support that could affect user experience."
      },
      {
        "title": "Zustand Store Analysis",
        "prompt": "Review my Zustand stores to ensure they only contain client state. Flag any stores holding server data (users, items, fetched entities) that should be moved to React Query or API hooks. Also check for persist middleware duplicating cache."
      }
    ],
    "output_examples": [
      {
        "input": "Run a full API integration audit",
        "output": [
          "## API Integration Audit Report",
          "",
          "### Executive Summary",
          "- 2 critical issues, 3 major issues, 5 medium issues",
          "",
          "### Critical Findings",
          "",
          "#### [CRITICAL] Tokens Stored in AsyncStorage",
          "File: `services/auth/tokenStorage.ts:15`",
          "Issue: JWT tokens stored in AsyncStorage instead of expo-secure-store",
          "Fix: Migrate to `import * as SecureStore from 'expo-secure-store'`",
          "",
          "#### [CRITICAL] process.env in Production Code",
          "File: `api/client.ts:8`",
          "Issue: `process.env.API_URL` won't work in Expo production builds",
          "Fix: Use `Constants.expoConfig?.extra?.apiUrl`"
        ]
      },
      {
        "input": "Check for hardcoded data in my screens",
        "output": [
          "## Hardcoded Data Findings",
          "",
          "### Screens with No API Hooks (suspicious)",
          "- `app/profile/edit.tsx` - No useQuery/useMutation found",
          "- `app/settings/notifications.tsx` - No API hooks found",
          "- `app/onboarding/welcome.tsx` - Uses hardcoded array",
          "",
          "### Hardcoded Arrays/Objects",
          "- `app/onboarding/welcome.tsx:5` - Mock array of onboarding steps",
          "- `app/profile/empty.tsx:12` - Placeholder user object"
        ]
      },
      {
        "input": "Audit my auth token handling",
        "output": [
          "## Auth Token Handling Audit",
          "",
          "### Token Storage",
          "- Using expo-secure-store: `services/auth/tokenStorage.ts` âœ“",
          "- AsyncStorage for tokens: None found âœ“",
          "",
          "### Token Injection",
          "- Request interceptor present: âœ“",
          "- Bearer token pattern: âœ“",
          "",
          "### Missing Security Checks",
          "- Pre-emptive refresh (600s threshold): NOT FOUND",
          "- 401 response refresh: NOT FOUND",
          "- Refresh deduplication: NOT FOUND",
          "",
          "### Recommendations",
          "1. Add token expiration check before API calls",
          "2. Implement 401 interceptor to trigger refresh",
          "3. Add single-flight pattern for concurrent refresh requests"
        ]
      }
    ],
    "best_practices": [
      "Run audits early in development to catch violations before they become entrenched patterns across the codebase",
      "Use the generated findings to create actionable tickets rather than fixing everything at once",
      "Combine this skill with manual testing to validate that the patterns found actually cause user-facing issues"
    ],
    "anti_patterns": [
      "Using hardcoded URLs or mock data that bypasses the API layer completely",
      "Storing authentication tokens in AsyncStorage instead of expo-secure-store",
      "Storing fetched business data in Zustand stores instead of using React Query or server state"
    ],
    "faq": [
      {
        "question": "Does this skill modify my code?",
        "answer": "No. This skill only analyzes your codebase and reports findings. It does not create, modify, or delete any files."
      },
      {
        "question": "What frameworks does this skill support?",
        "answer": "It supports Expo Router, TanStack Query, Zustand, axios, Orval, expo-secure-store, and expo-constants patterns common in Expo/React Native apps."
      },
      {
        "question": "Can I use this on a non-Expo React Native app?",
        "answer": "Partial support. The core API auditing concepts apply, but Expo-specific checks (expo-secure-store, expo-constants) will have no findings."
      },
      {
        "question": "What output formats are supported?",
        "answer": "The skill can produce markdown reports, JSON findings for programmatic use, task lists for issue trackers, or fix PR descriptions."
      },
      {
        "question": "How long does a full audit take?",
        "answer": "A full audit typically takes 30-60 seconds for a medium-sized codebase. Quick security scans complete in under 10 seconds."
      },
      {
        "question": "Does this check for API correctness?",
        "answer": "No. This skill audits code patterns, not API behavior. It cannot verify that API endpoints return correct data or work as expected."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 415
    }
  ]
}
