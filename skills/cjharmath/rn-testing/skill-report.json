{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T21:50:17.298Z",
    "slug": "cjharmath-rn-testing",
    "source_url": "https://github.com/CJHarmath/claude-agents-skills/tree/main/skills/rn-testing",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "038c3567bc4b57f8440e17e9c395e806b7ff9ace95d578099c33beaa8cbb788c",
    "tree_hash": "c76b916ca9cc24b36faa27c085646336862a49006eeb33b58c9a8ccaa206ce80"
  },
  "skill": {
    "name": "rn-testing",
    "description": "Testing patterns for React Native with Jest and React Native Testing Library. Use when writing tests, mocking Expo modules, testing Zustand stores, or debugging test failures.",
    "summary": "Testing patterns for React Native with Jest and React Native Testing Library. Use when writing tests...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "CJHarmath",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "react-native",
      "testing",
      "jest",
      "react-native-testing-library"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is pure documentation containing only testing patterns for React Native. The static scanner incorrectly flagged markdown code blocks and JavaScript method names. No executable code, network calls, or file operations exist in this skill.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 140,
            "line_end": 140
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 18,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 53
          },
          {
            "file": "SKILL.md",
            "line_start": 53,
            "line_end": 54
          },
          {
            "file": "SKILL.md",
            "line_start": 54,
            "line_end": 63
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 151
          },
          {
            "file": "SKILL.md",
            "line_start": 151,
            "line_end": 153
          },
          {
            "file": "SKILL.md",
            "line_start": 153,
            "line_end": 161
          },
          {
            "file": "SKILL.md",
            "line_start": 161,
            "line_end": 202
          },
          {
            "file": "SKILL.md",
            "line_start": 202,
            "line_end": 208
          },
          {
            "file": "SKILL.md",
            "line_start": 208,
            "line_end": 241
          },
          {
            "file": "SKILL.md",
            "line_start": 241,
            "line_end": 247
          },
          {
            "file": "SKILL.md",
            "line_start": 247,
            "line_end": 275
          },
          {
            "file": "SKILL.md",
            "line_start": 275,
            "line_end": 281
          },
          {
            "file": "SKILL.md",
            "line_start": 281,
            "line_end": 311
          },
          {
            "file": "SKILL.md",
            "line_start": 311,
            "line_end": 319
          },
          {
            "file": "SKILL.md",
            "line_start": 319,
            "line_end": 343
          },
          {
            "file": "SKILL.md",
            "line_start": 343,
            "line_end": 359
          },
          {
            "file": "SKILL.md",
            "line_start": 359,
            "line_end": 371
          },
          {
            "file": "SKILL.md",
            "line_start": 371,
            "line_end": 377
          },
          {
            "file": "SKILL.md",
            "line_start": 377,
            "line_end": 415
          },
          {
            "file": "SKILL.md",
            "line_start": 415,
            "line_end": 421
          },
          {
            "file": "SKILL.md",
            "line_start": 421,
            "line_end": 424
          },
          {
            "file": "SKILL.md",
            "line_start": 424,
            "line_end": 427
          },
          {
            "file": "SKILL.md",
            "line_start": 427,
            "line_end": 433
          },
          {
            "file": "SKILL.md",
            "line_start": 433,
            "line_end": 452
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 631,
    "audit_model": "claude",
    "audited_at": "2026-01-16T21:50:17.298Z"
  },
  "content": {
    "user_title": "Test React Native Apps with Jest",
    "value_statement": "Writing tests for React Native apps requires understanding of mocking native modules, handling async state, and testing Zustand stores. This skill provides proven patterns and code examples for reliable test suites.",
    "seo_keywords": [
      "React Native testing",
      "Jest testing",
      "React Native Testing Library",
      "Zustand store testing",
      "Expo module mocking",
      "React Native unit tests",
      "React Native component tests",
      "React Query testing",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Zustand store testing with proper state reset between tests",
      "Expo module mocking patterns for Jest",
      "React Query component testing with QueryClientProvider",
      "Custom hook testing with renderHook",
      "Component testing with fireEvent and waitFor",
      "Navigation and async operation testing"
    ],
    "limitations": [
      "Does not execute tests or interact with test runners",
      "Does not modify project files or Jest configuration",
      "Does not provide mock data or test fixtures",
      "Pattern examples are for reference; users must adapt to their codebase"
    ],
    "use_cases": [
      {
        "target_user": "React Native developers",
        "title": "Fix flaky store tests",
        "description": "Learn how to reset Zustand store state between tests to prevent state leakage causing intermittent test failures."
      },
      {
        "target_user": "QA engineers",
        "title": "Mock Expo native modules",
        "description": "Set up proper mocks for expo-router, expo-secure-store, and other Expo modules in Jest tests."
      },
      {
        "target_user": "Frontend engineers",
        "title": "Test async operations",
        "description": "Handle async store actions and React Query data fetching in tests using act() and waitFor."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic test pattern",
        "scenario": "Need React Native testing patterns",
        "prompt": "How do I test a React Native component with Jest and React Native Testing Library?"
      },
      {
        "title": "Zustand store test",
        "scenario": "Testing Zustand stores",
        "prompt": "How do I test a Zustand store and prevent state from persisting between tests?"
      },
      {
        "title": "Expo module mock",
        "scenario": "Mocking Expo modules",
        "prompt": "Show me how to mock expo-router and expo-secure-store in Jest tests."
      },
      {
        "title": "Async test debugging",
        "scenario": "Debugging async test issues",
        "prompt": "My React Native tests have act() warnings and timeouts. How do I fix them?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I test a Zustand store?",
        "output": [
          "Reset the store before each test using setState(initialState, true) to replace (not merge) state",
          "Use getState() to access fresh state after async operations",
          "Wrap async store actions in act() when testing",
          "Example: beforeEach(() => { useAssessmentStore.setState(initialState, true); });"
        ]
      },
      {
        "input": "How do I mock expo-router in tests?",
        "output": [
          "Use jest.mock('expo-router', () => ({ useRouter: () => ({ push: jest.fn(), replace: jest.fn(), back: jest.fn() }) }))",
          "Configure mocks globally in jest.setup.js for consistent behavior across all test files",
          "Reset mocks between tests with jest.clearAllMocks() in beforeEach",
          "Mock useLocalSearchParams to return test data for screens that read route params"
        ]
      },
      {
        "input": "How do I fix act() warnings in my tests?",
        "output": [
          "Wrap all state updates and async operations in act() to ensure proper timing",
          "Use waitFor() for assertions on async content that may not appear immediately",
          "Prefer findBy* queries over getBy* for async content (findBy has built-in waiting)",
          "Check for hanging promises that resolve after the test completes"
        ]
      }
    ],
    "best_practices": [
      "Always reset store state in beforeEach to prevent test pollution between tests",
      "Use findBy* queries instead of getBy* for async content to avoid race conditions",
      "Mock external dependencies like expo-router at the module level for consistent behavior"
    ],
    "anti_patterns": [
      "Using getBy* queries for async content that may not appear immediately",
      "Forgetting to clear mocks with jest.clearAllMocks() between navigation tests",
      "Testing implementation details instead of user-visible behavior"
    ],
    "faq": [
      {
        "question": "Which testing frameworks does this skill cover?",
        "answer": "Jest and React Native Testing Library are the primary frameworks. Patterns work with Expo and non-Expo React Native projects."
      },
      {
        "question": "What Jest version is required?",
        "answer": "Patterns work with Jest 29+ which is standard in modern React Native projects using Expo 49 or higher."
      },
      {
        "question": "How do I integrate with my existing test setup?",
        "answer": "Copy pattern examples directly into your test files. Mock configurations can be added to jest.setup.js for global availability."
      },
      {
        "question": "Does this skill modify my project files?",
        "answer": "No. This is a prompt-based skill that provides guidance. You manually implement patterns in your codebase."
      },
      {
        "question": "Why do I see act() warnings in my tests?",
        "answer": "State updates occur outside act() wrapper. Use act() for async operations and waitFor() for assertions on async content."
      },
      {
        "question": "How is this different from rn-zustand-patterns skill?",
        "answer": "rn-zustand-patterns covers implementing stores. This skill focuses specifically on testing stores, components, and hooks that use them."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 454
    }
  ]
}
