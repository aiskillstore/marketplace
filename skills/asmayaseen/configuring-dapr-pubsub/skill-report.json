{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T17:47:44.289Z",
    "slug": "asmayaseen-configuring-dapr-pubsub",
    "source_url": "https://github.com/Asmayaseen/hackathon-2/tree/main/.claude/skills/configuring-dapr-pubsub",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "da09b5ce8f7ecc992756fe68b9d5619d10f9f834fdfba92503ad3592fcf5b90c",
    "tree_hash": "06ff5709325ca353429b4b185624a0ecddfe08e71a7c512937743d6d31c590e1"
  },
  "skill": {
    "name": "configuring-dapr-pubsub",
    "description": "Configures Dapr pub/sub components for event-driven microservices with Kafka or Redis.\nUse when wiring agent-to-agent communication, setting up event subscriptions, or integrating Dapr sidecars.\nCovers component configuration, subscription patterns, publishing events, and Kubernetes deployment.\nNOT when using direct Kafka clients or non-Dapr messaging patterns.\n",
    "summary": "Configures Dapr pub/sub components for event-driven microservices with Kafka or Redis.\nUse when wiri...",
    "icon": "ðŸ“¬",
    "version": "1.0.0",
    "author": "Asmayaseen",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "dapr",
      "microservices",
      "kafka",
      "redis",
      "event-driven"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 65 static findings are FALSE POSITIVES. The skill is pure documentation with YAML/JSON/Python code examples for Dapr pub/sub configuration. The verify.py script only reads SKILL.md to validate documentation structure - no network calls, no external command execution, no credential access. Static analyzer misidentified documentation keywords and code examples as security threats.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/verify.py",
            "line_start": 1,
            "line_end": 39
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/verify.py",
            "line_start": 8,
            "line_end": 15
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 690,
    "audit_model": "claude",
    "audited_at": "2026-01-16T17:47:44.289Z"
  },
  "content": {
    "user_title": "Configure Dapr pub/sub for microservices",
    "value_statement": "Setting up event-driven communication between microservices requires careful configuration of pub/sub components. This skill provides ready-to-use YAML configurations for Kafka and Redis backends, subscription patterns, and Kubernetes deployment templates.",
    "seo_keywords": [
      "Dapr pub/sub configuration",
      "Kafka pub/sub setup",
      "Redis pub/sub for microservices",
      "Dapr event-driven architecture",
      "CloudEvent patterns",
      "Kubernetes Dapr deployment",
      "Dapr sidecar configuration",
      "Claude Code Dapr skill",
      "Claude Dapr pub/sub",
      "Codex microservices messaging"
    ],
    "actual_capabilities": [
      "Generate Dapr pub/sub component YAML for Kafka with SASL authentication",
      "Create Redis pub/sub configurations for development environments",
      "Configure declarative and programmatic subscription patterns",
      "Set up multi-agent routing with event publishing",
      "Define Kubernetes deployments with Dapr sidecar annotations",
      "Implement CloudEvent metadata for structured event data"
    ],
    "limitations": [
      "Does not install or manage Dapr runtime or cluster infrastructure",
      "Does not configure Kafka or Redis server settings",
      "Does not handle secret management beyond Kubernetes secretKeyRef references",
      "Does not provide monitoring or alerting configurations"
    ],
    "use_cases": [
      {
        "target_user": "DevOps Engineers",
        "title": "Deploy event-driven services",
        "description": "Configure Dapr pub/sub components for production microservices running on Kubernetes with Kafka backend."
      },
      {
        "target_user": "Backend Developers",
        "title": "Wire agent communication",
        "description": "Set up event subscriptions and publishing between AI agents using Dapr sidecars and CloudEvent format."
      },
      {
        "target_user": "Platform Architects",
        "title": "Design pub/sub architecture",
        "description": "Create scalable event-driven patterns with component scoping, consumer groups, and multi-agent routing."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Kafka setup",
        "scenario": "Need Kafka pub/sub component",
        "prompt": "Create a Dapr pub/sub component configuration using Kafka with brokers at kafka.example.com:9093. Include SASL authentication with SCRAM-SHA-256."
      },
      {
        "title": "Subscription pattern",
        "scenario": "Configure event subscription",
        "prompt": "Write a declarative Dapr subscription for topic 'task-events' that routes to /dapr/task-handler with scope limited to 'agent-one' and 'agent-two'."
      },
      {
        "title": "Publishing events",
        "scenario": "Publish events from service",
        "prompt": "Create a Python function using httpx to publish events to Dapr sidecar at localhost:3500 with CloudEvent headers including type, source, and custom event ID."
      },
      {
        "title": "Kubernetes deployment",
        "scenario": "Deploy with Dapr sidecar",
        "prompt": "Generate Kubernetes Deployment YAML for a FastAPI service with Dapr sidecar enabled, app ID 'my-service', app port 8000, and Dapr HTTP port 3500."
      }
    ],
    "output_examples": [
      {
        "input": "Create a Dapr pub/sub component using Redis for local development with password authentication",
        "output": [
          "Generated redis-pubsub component YAML",
          "Uses secretKeyRef for password from redis-secrets",
          "Configured redisHost at redis-master.redis.svc.cluster.local:6379",
          "Ready to apply with: kubectl apply -f components/pubsub.yaml"
        ]
      },
      {
        "input": "Set up a declarative subscription for topic 'orders' scoped to 'payment-service' and 'notification-service'",
        "output": [
          "Created Subscription CRD with pubsubname: pubsub",
          "Topic: orders routing to /dapr/orders endpoint",
          "Applied scopes for payment-service and notification-service",
          "Subscription version: dapr.io/v2alpha1"
        ]
      },
      {
        "input": "Create a Kubernetes Deployment with Dapr sidecar for a Python FastAPI service",
        "output": [
          "Deployment with 2 replicas specified",
          "Dapr annotations: enabled, app-id, app-port, enable-api-logging",
          "DAPR_HTTP_PORT environment variable set to 3500",
          "Container port: 8000 for FastAPI"
        ]
      }
    ],
    "best_practices": [
      "Use secretKeyRef for passwords and credentials instead of plain text values",
      "Apply scopes to limit pub/sub access to specific applications",
      "Configure consumerGroup with unique naming per app to avoid partition conflicts"
    ],
    "anti_patterns": [
      "Hardcoding credentials in component metadata values",
      "Using a single consumerGroup across multiple application instances",
      "Skipping scopes on shared pub/sub components in multi-tenant environments"
    ],
    "faq": [
      {
        "question": "What Dapr versions are supported?",
        "answer": "This skill uses Dapr v1alpha1/v2alpha1 API versions, compatible with Dapr 1.0 and later releases."
      },
      {
        "question": "What are the throughput limits?",
        "answer": "Performance depends on Kafka or Redis cluster. Dapr pub/sub handles buffering via channelBufferSize (default 256 messages)."
      },
      {
        "question": "How does it integrate with existing services?",
        "answer": "Add Dapr sidecar as a container in the same pod. Services communicate with localhost:DAPR_HTTP_PORT for publishing and subscribing."
      },
      {
        "question": "Is data encrypted in transit?",
        "answer": "Dapr supports TLS. Set disableTls: false in component metadata. Kafka may require separate TLS broker configuration."
      },
      {
        "question": "Why are events not being received?",
        "answer": "Check component name matches pubsubname in subscription, verify topic names match exactly, and confirm scopes include the target app ID."
      },
      {
        "question": "How does this compare to direct Kafka clients?",
        "answer": "Dapr adds abstraction, automatic retry, CloudEvent wrapping, and sidecar isolation. Direct clients offer more control but require more code."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "verify.py",
          "type": "file",
          "path": "scripts/verify.py",
          "lines": 39
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 438
    }
  ]
}
