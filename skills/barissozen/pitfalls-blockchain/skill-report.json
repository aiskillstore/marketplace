{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T14:52:40.952Z",
    "slug": "barissozen-pitfalls-blockchain",
    "source_url": "https://github.com/BarisSozen/claude/tree/main/.claude/skills/pitfalls-blockchain",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fd7222c866b9d4c2a9ebea9920f2301ec32a0d9292025f6544ca7f26381fa24d",
    "tree_hash": "3495c1a5da48d38de02f6e6c12687079742cf52fbaf650f49d8db45e1fabaca0"
  },
  "skill": {
    "name": "pitfalls-blockchain",
    "description": "Blockchain RPC error handling, gas estimation, multi-chain config, and transaction management. Use when interacting with smart contracts, estimating gas, or managing transactions. Triggers on: RPC, contract call, gas, multicall, nonce, transaction, revert.",
    "summary": "Best practices for blockchain development including error handling, gas estimation, and transaction management patterns.",
    "icon": "⛓️",
    "version": "1.0.0",
    "author": "BarisSozen",
    "license": "MIT",
    "tags": [
      "blockchain",
      "smart-contracts",
      "gas-optimization",
      "error-handling",
      "multi-chain"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Static scanner flagged 41 patterns but all are false positives. The skill is pure documentation with TypeScript code examples for blockchain best practices. Findings include misidentified markdown code blocks as shell execution, environment variable examples as credential access, and example RPC URLs as hardcoded endpoints. No executable code, no network calls, no credential exfiltration.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 170,
            "line_end": 172
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 37,
            "line_end": 45
          },
          {
            "file": "SKILL.md",
            "line_start": 73,
            "line_end": 77
          },
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 108
          },
          {
            "file": "SKILL.md",
            "line_start": 126,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 146,
            "line_end": 150
          },
          {
            "file": "SKILL.md",
            "line_start": 174,
            "line_end": 179
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 113,
            "line_end": 113
          },
          {
            "file": "SKILL.md",
            "line_start": 120,
            "line_end": 120
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 656,
    "audit_model": "claude",
    "audited_at": "2026-01-21T14:52:40.952Z"
  },
  "content": {
    "user_title": "Apply Blockchain Development Best Practices",
    "value_statement": "Blockchain interactions often fail silently or waste gas due to missing error handling. This skill provides verified patterns for RPC error handling, gas estimation with buffers, multicall safety, and transaction management across multiple chains.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "blockchain development",
      "smart contract best practices",
      "gas estimation",
      "RPC error handling",
      "multicall patterns",
      "transaction management",
      "multi-chain configuration"
    ],
    "actual_capabilities": [
      "Review smart contract code for proper error handling with try/catch patterns",
      "Verify gas estimation includes 10-20% buffer before transaction execution",
      "Check multicall configurations use allowFailure: true for individual call resilience",
      "Audit transaction nonce management for concurrent transaction safety",
      "Validate multi-chain RPC configuration with environment variable patterns",
      "Confirm transaction simulation with callStatic before real execution"
    ],
    "limitations": [
      "Does not execute blockchain calls or interact with live networks",
      "Does not generate deployable smart contract code",
      "Does not validate on-chain data or contract state",
      "Does not provide gas optimization for contract bytecode"
    ],
    "use_cases": [
      {
        "title": "Review DeFi Integration Code",
        "description": "Audit TypeScript code that calls DeFi protocols for proper error handling, gas estimation, and multicall patterns before production deployment.",
        "target_user": "DeFi developers integrating with AMMs, lending protocols, or aggregators"
      },
      {
        "title": "Fix Gas Estimation Issues",
        "description": "Identify missing gas estimation patterns in existing blockchain applications and recommend fixes for transactions that revert due to insufficient gas.",
        "target_user": "Backend engineers maintaining blockchain applications"
      },
      {
        "title": "Setup Multi-Chain Configuration",
        "description": "Design chain-specific RPC configuration for applications that need to support Ethereum, Polygon, and other EVM-compatible networks.",
        "target_user": "Platform engineers building cross-chain applications"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Error Handling Review",
        "prompt": "Review my blockchain code for proper RPC error handling. Check that all contract calls are wrapped in try/catch and handle execution reverted errors gracefully.",
        "scenario": "Quick review of error handling patterns in existing code"
      },
      {
        "title": "Gas Estimation Audit",
        "prompt": "Audit my transaction code for gas estimation issues. Verify that gas is estimated with a buffer before sending and that EIP-1559 gas pricing is used correctly.",
        "scenario": "Checking gas estimation and pricing patterns"
      },
      {
        "title": "Multicall Safety Check",
        "prompt": "Review my multicall implementation. Confirm that allowFailure: true is set and that individual failures are handled without breaking the entire batch.",
        "scenario": "Validating multicall batch safety"
      },
      {
        "title": "Nonce Management Review",
        "description": "Review my transaction code for proper nonce management. Verify that concurrent transactions are handled safely without nonce collisions.",
        "prompt": "Check my nonce management implementation for concurrent transaction handling. Verify that getNextNonce properly tracks pending nonces and avoids collisions."
      }
    ],
    "output_examples": [
      {
        "input": "Review this contract call for error handling:\n\nasync function getQuote(tokenIn, tokenOut) {\n  const quote = await quoter.quoteExactInput(tokenIn, tokenOut);\n  return quote;\n}",
        "output": [
          "Issue: Missing try/catch wrapper",
          "Impact: Low-liquidity tokens will cause unhandled rejections",
          "Fix: Wrap in try/catch and return null for expected failures",
          "",
          "Safe pattern:",
          "```typescript\ntry {\n  const quote = await quoter.quoteExactInput(tokenIn, tokenOut);\n  return quote;\n} catch (error) {\n  if (error.message.includes('execution reverted')) {\n    return null;\n  }\n  throw error;\n}\n```"
        ]
      },
      {
        "input": "Check this gas estimation code:\n\nconst gasEstimate = await contract.estimateGas.swap(...args);\nconst tx = await contract.swap(...args, { gasLimit: gasEstimate });",
        "output": [
          "Issue: Missing gas buffer",
          "Impact: Transactions may revert if actual gas exceeds estimate",
          "Fix: Add 10-20% buffer to gas estimate",
          "",
          "Safe pattern:",
          "```typescript\nconst gasEstimate = await contract.estimateGas.swap(...args);\nconst gasLimit = gasEstimate.mul(120).div(100); // 20% buffer\nconst tx = await contract.swap(...args, { gasLimit });\n```"
        ]
      }
    ],
    "best_practices": [
      "Wrap all contract calls in try/catch to handle expected failures like low-liquidity pools gracefully",
      "Add 10-20% buffer to gas estimates and simulate transactions with callStatic before execution",
      "Use environment variables for RPC URLs to keep credentials secure and support multi-chain configuration"
    ],
    "anti_patterns": [
      "Sending transactions without gas estimation or buffer, leading to revert-on-submit issues",
      "Using multicall without allowFailure: true, causing entire batch to fail on single error",
      "Relying on a single RPC endpoint without fallback, causing downtime during rate limits"
    ],
    "faq": [
      {
        "question": "Does this skill interact with the blockchain?",
        "answer": "No. This skill reviews and provides guidance on blockchain code patterns. It does not execute transactions or query on-chain data."
      },
      {
        "question": "What chains does this skill cover?",
        "answer": "The patterns apply to EVM-compatible chains including Ethereum, Polygon, Arbitrum, and Optimism. Multi-chain configuration examples cover Ethereum and Polygon."
      },
      {
        "question": "How much gas buffer should I add?",
        "answer": "Add 10-20% buffer to gas estimates. Use 20% for complex contracts and 10% for simple transfers. Always simulate with callStatic first."
      },
      {
        "question": "What is the allowFailure option in multicall?",
        "answer": "allowFailure: true prevents a single failed call from breaking the entire multicall batch. Each result includes status for individual handling."
      },
      {
        "question": "How do I handle rate limits from RPC providers?",
        "answer": "Implement exponential backoff retry logic and configure fallback RPC endpoints from different providers like Alchemy, Infura, and Ankr."
      },
      {
        "question": "Can this help with smart contract security audits?",
        "answer": "This skill reviews integration code patterns, not contract bytecode. For formal security audits, use specialized smart contract auditing tools and services."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 185
    }
  ]
}
