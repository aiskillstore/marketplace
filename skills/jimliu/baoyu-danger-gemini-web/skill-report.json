{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T08:08:53.629Z",
    "slug": "jimliu-baoyu-danger-gemini-web",
    "source_url": "https://github.com/jimliu/baoyu-skills/tree/main/skills/baoyu-danger-gemini-web/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "6afb987d530e91c1eb3497cb49989eaf02cd7b4fbfb8ad83687322aa518ba3b3",
    "tree_hash": "bfb77f87a42e0f7ecd6c244dc8a1b68196dfe04765ff2c7e78d81b33f04248a1"
  },
  "skill": {
    "name": "baoyu-danger-gemini-web",
    "description": "Image generation skill using Gemini Web. Generates images from text prompts via Google Gemini. Also supports text generation. Use as the image generation backend for other skills like cover-image, xhs-images, article-illustrator.",
    "summary": "AI-powered text and image generation via Google's Gemini Web API. Provides image generation, multi-turn conversations, and vision capabilities for Claude Code workflows.",
    "icon": "ðŸŽ¨",
    "version": "1.15.1",
    "author": "jimliu",
    "license": "MIT",
    "tags": [
      "gemini",
      "image-generation",
      "ai",
      "text-generation",
      "vision"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "env_access"
    ],
    "category": "ai-generation-skills"
  },
  "security_audit": {
    "risk_level": "medium",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill uses a reverse-engineered Gemini Web API with browser-based authentication. All 389 static findings are FALSE POSITIVES. The skill legitimately accesses Chrome cookies for Google authentication, makes network requests to Google's services, and uses filesystem operations for session/caching. A mandatory user consent flow warns about the reverse-engineered API nature. Risk is MEDIUM due to the nature of reverse-engineered API usage, not due to malicious code.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/gemini-webapi/client.ts",
            "line_start": 210,
            "line_end": 210
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "scripts/gemini-webapi/utils/http.ts",
            "line_start": 46,
            "line_end": 46
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/main.ts",
            "line_start": 298,
            "line_end": 298
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "scripts/main.ts",
            "line_start": 377,
            "line_end": 377
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [
      {
        "title": "Browser Cookie Authentication Access",
        "description": "The skill accesses Chrome browser cookies to authenticate with Google's Gemini service. This is a legitimate use case for the reverse-engineered API, but involves accessing credential files.",
        "locations": [
          {
            "file": "scripts/gemini-webapi/utils/load-browser-cookies.ts",
            "line_start": 236,
            "line_end": 236
          },
          {
            "file": "scripts/gemini-webapi/utils/load-browser-cookies.ts",
            "line_start": 296,
            "line_end": 296
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Cookie access is explicitly for Google authentication. The skill opens Chrome for user login, then caches cookies for subsequent runs. This is the documented authentication method, not credential theft."
      },
      {
        "title": "Process Spawn for Chrome Automation",
        "description": "The skill spawns Chrome processes for browser automation via CDP (Chrome DevTools Protocol) to obtain authentication tokens.",
        "locations": [
          {
            "file": "scripts/gemini-webapi/utils/load-browser-cookies.ts",
            "line_start": 178,
            "line_end": 178
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Chrome spawning is a core part of the authentication flow. The skill uses CDP to connect to Chrome's debugging port, which is the standard way to extract cookies for the reverse-engineered API."
      }
    ],
    "low_findings": [
      {
        "title": "Template Literal Syntax Misidentified as Shell Execution",
        "description": "The static scanner flagged backticks (`) as shell command execution, but these are TypeScript template literals for string interpolation.",
        "locations": [
          {
            "file": "scripts/gemini-webapi/client.ts",
            "line_start": 210,
            "line_end": 210
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.9,
        "confidence_reasoning": "This is a pattern-matching false positive. The backticks in TypeScript are template literals for string formatting, not shell command execution via backticks."
      },
      {
        "title": "Hardcoded URLs for Gemini API",
        "description": "The skill contains hardcoded URLs for Google's Gemini API endpoints.",
        "locations": [
          {
            "file": "scripts/gemini-webapi/constants.ts",
            "line_start": 2,
            "line_end": 8
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Hardcoded URLs are legitimate for API clients. The skill must connect to Google's servers to use Gemini. No suspicious external domains are contacted."
      },
      {
        "title": "Environment Variable Configuration",
        "description": "The skill reads environment variables for configuration (data directory, cookie path, Chrome path, proxy settings).",
        "locations": [
          {
            "file": "scripts/main.ts",
            "line_start": 377,
            "line_end": 378
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Environment variables are used for legitimate configuration purposes: data directory, cookie path, Chrome profile, and proxy settings. No sensitive credentials are being accessed."
      },
      {
        "title": "File System Operations for Caching",
        "description": "The skill reads and writes files for cookie caching, session storage, and generated image output.",
        "locations": [
          {
            "file": "scripts/main.ts",
            "line_start": 298,
            "line_end": 298
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "File operations are for legitimate purposes: saving/loading cookies, session persistence, and image output. All writes go to designated application directories."
      }
    ],
    "dangerous_patterns": [
      {
        "title": "Code Pattern: Browser Automation with Cookie Extraction",
        "description": "The skill combines Chrome process spawning, CDP connections, and cookie file reading to authenticate with Google's services. This pattern appears dangerous but is the documented authentication mechanism for the reverse-engineered Gemini Web API.",
        "locations": [
          {
            "file": "scripts/gemini-webapi/utils/load-browser-cookies.ts",
            "line_start": 1,
            "line_end": 100
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.9,
        "confidence_reasoning": "The pattern is used for legitimate browser-based authentication. The skill opens Chrome for user login, then extracts cookies via CDP for API access. This is the intended design, not malicious behavior."
      }
    ],
    "files_scanned": 25,
    "total_lines": 2977,
    "audit_model": "claude",
    "audited_at": "2026-01-23T08:08:53.629Z",
    "risk_factors": [
      "scripts",
      "network",
      "filesystem",
      "env_access",
      "external_commands"
    ]
  },
  "content": {
    "user_title": "Generate images and text with Gemini",
    "value_statement": "This skill provides AI-powered text and image generation via Google's Gemini Web API. It enables Claude Code workflows to create images from prompts, maintain multi-turn conversations, and process images with vision capabilities.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "Gemini",
      "image generation",
      "AI",
      "text generation",
      "vision",
      "multi-turn conversation",
      "Google AI"
    ],
    "actual_capabilities": [
      "Generate images from text prompts using Google's Gemini model",
      "Send text prompts and receive AI-generated responses",
      "Process reference images with vision capabilities for analysis or variation",
      "Maintain multi-turn conversations via persisted session IDs",
      "Output results in plain text or structured JSON format"
    ],
    "limitations": [
      "Uses reverse-engineered Gemini Web API (not official Google API)",
      "Requires Chrome browser and user authentication on first run",
      "May break if Google changes their internal API structure",
      "No official support or guaranteed uptime from Google"
    ],
    "use_cases": [
      {
        "title": "Generate featured images for articles",
        "description": "Create custom featured images for blog posts, presentations, or social media content using descriptive text prompts.",
        "target_user": "Content creators and writers"
      },
      {
        "title": "Build AI-powered content generation pipelines",
        "description": "Integrate Gemini's text and image generation into automated content workflows for marketing, documentation, or creative projects.",
        "target_user": "Developers and AI engineers"
      },
      {
        "title": "Interactive AI conversations with memory",
        "description": "Maintain context across multiple requests using session IDs for continuous AI interactions.",
        "target_user": "Researchers and power users"
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple Image Generation",
        "prompt": "Generate an image of: ${prompt}",
        "scenario": "Create a basic image from a text description"
      },
      {
        "title": "Image with Style Reference",
        "prompt": "Create a ${style} style illustration showing: ${subject}. ${additional_details}",
        "scenario": "Generate images with specific artistic style requirements"
      },
      {
        "title": "Multi-turn Conversation",
        "prompt": "${message}",
        "scenario": "Continue an ongoing conversation with context preservation"
      },
      {
        "title": "Vision Analysis",
        "prompt": "Analyze this image and ${task}",
        "scenario": "Process uploaded images for description, comparison, or transformation"
      }
    ],
    "output_examples": [
      {
        "input": "A photorealistic sunset over mountains with purple and orange hues",
        "output": "Path to saved image file (e.g., ./generated.png)"
      },
      {
        "input": "What is machine learning in simple terms?",
        "output": "Machine learning is a type of artificial intelligence where computers learn patterns from data..."
      },
      {
        "input": "--prompt 'A cute robot' --image robot.png",
        "output": "robot.png (generated image)"
      }
    ],
    "best_practices": [
      "Use the --login flag first to authenticate with Google via Chrome",
      "Save session IDs for multi-turn conversations to maintain context",
      "Use the --json flag for programmatic access and easier parsing"
    ],
    "anti_patterns": [
      "Running without reading the consent disclaimer first",
      "Sharing cookie files between different users or systems",
      "Expecting guaranteed uptime from a reverse-engineered API"
    ],
    "faq": [
      {
        "question": "What is the difference between this and Google's official API?",
        "answer": "This skill uses a reverse-engineered web API rather than Google's official API. It may offer different features or pricing but lacks official support and may break if Google updates their web interface."
      },
      {
        "question": "Is this skill safe to use?",
        "answer": "The skill is safe to use but requires user consent via a mandatory disclaimer. It accesses Chrome cookies for authentication and makes network requests to Google's services. Review the consent file before first use."
      },
      {
        "question": "How does authentication work?",
        "answer": "The skill uses browser cookies from Chrome for authentication. On first run or with --login, it opens Chrome for you to log into your Google account, then caches cookies for subsequent runs."
      },
      {
        "question": "Can I use this behind a proxy?",
        "answer": "Yes. Set HTTP_PROXY and HTTPS_PROXY environment variables before running the skill. This is common in regions where Google services are restricted."
      },
      {
        "question": "What models are supported?",
        "answer": "The skill supports gemini-3-pro (default), gemini-2.5-pro, and gemini-2.5-flash. Model selection is done via the --model or -m flag."
      },
      {
        "question": "How do I generate images?",
        "answer": "Use the --image flag with a prompt. Example: npx -y bun skills/baoyu-danger-gemini-web/scripts/main.ts --prompt 'A sunset' --image sunset.png"
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "gemini-webapi",
          "type": "dir",
          "path": "scripts/gemini-webapi",
          "children": [
            {
              "name": "components",
              "type": "dir",
              "path": "scripts/gemini-webapi/components",
              "children": [
                {
                  "name": "gem-mixin.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/components/gem-mixin.ts",
                  "lines": 180
                },
                {
                  "name": "index.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/components/index.ts",
                  "lines": 3
                }
              ]
            },
            {
              "name": "types",
              "type": "dir",
              "path": "scripts/gemini-webapi/types",
              "children": [
                {
                  "name": "candidate.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/candidate.ts",
                  "lines": 46
                },
                {
                  "name": "gem.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/gem.ts",
                  "lines": 76
                },
                {
                  "name": "grpc.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/grpc.ts",
                  "lines": 17
                },
                {
                  "name": "image.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/image.ts",
                  "lines": 115
                },
                {
                  "name": "index.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/index.ts",
                  "lines": 7
                },
                {
                  "name": "modeloutput.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/types/modeloutput.ts",
                  "lines": 36
                }
              ]
            },
            {
              "name": "utils",
              "type": "dir",
              "path": "scripts/gemini-webapi/utils",
              "children": [
                {
                  "name": "cookie-file.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/cookie-file.ts",
                  "lines": 83
                },
                {
                  "name": "decorators.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/decorators.ts",
                  "lines": 35
                },
                {
                  "name": "get-access-token.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/get-access-token.ts",
                  "lines": 193
                },
                {
                  "name": "http.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/http.ts",
                  "lines": 58
                },
                {
                  "name": "index.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/index.ts",
                  "lines": 21
                },
                {
                  "name": "load-browser-cookies.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/load-browser-cookies.ts",
                  "lines": 297
                },
                {
                  "name": "logger.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/logger.ts",
                  "lines": 43
                },
                {
                  "name": "parsing.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/parsing.ts",
                  "lines": 45
                },
                {
                  "name": "paths.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/paths.ts",
                  "lines": 47
                },
                {
                  "name": "rotate-1psidts.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/rotate-1psidts.ts",
                  "lines": 47
                },
                {
                  "name": "upload-file.ts",
                  "type": "file",
                  "path": "scripts/gemini-webapi/utils/upload-file.ts",
                  "lines": 42
                }
              ]
            },
            {
              "name": "client.ts",
              "type": "file",
              "path": "scripts/gemini-webapi/client.ts",
              "lines": 628
            },
            {
              "name": "constants.ts",
              "type": "file",
              "path": "scripts/gemini-webapi/constants.ts",
              "lines": 108
            },
            {
              "name": "exceptions.ts",
              "type": "file",
              "path": "scripts/gemini-webapi/exceptions.ts",
              "lines": 57
            },
            {
              "name": "index.ts",
              "type": "file",
              "path": "scripts/gemini-webapi/index.ts",
              "lines": 9
            }
          ]
        },
        {
          "name": "main.ts",
          "type": "file",
          "path": "scripts/main.ts",
          "lines": 491
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 293
    }
  ]
}
