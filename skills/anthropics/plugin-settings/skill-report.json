{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T17:37:17.490Z",
    "slug": "anthropics-plugin-settings",
    "source_url": "https://github.com/anthropics/claude-plugins-official/tree/main/plugins/plugin-dev/skills/plugin-settings",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "5a595460837a5aade373b4d285a24873b8a438e55e8167a92ca5bfc5767852bb",
    "tree_hash": "9d7d59a73ae00311652de33640a3c666c6dcbb18ff236768430dd0ee24be2a56"
  },
  "skill": {
    "name": "plugin-settings",
    "description": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", \"user-configurable plugin\", \".local.md files\", \"plugin state files\", \"read YAML frontmatter\", \"per-project plugin settings\", or wants to make plugin behavior configurable. Documents the .claude/plugin-name.local.md pattern for storing plugin-specific configuration with YAML frontmatter and markdown content.",
    "summary": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", ...",
    "icon": "⚙️",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "configuration",
      "plugins",
      "yaml",
      "settings"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill explaining configuration patterns for Claude Code plugins. All external command patterns (383 occurrences) are legitimate shell scripting examples for parsing YAML frontmatter using sed, grep, and awk. The high-risk findings for 'weak cryptographic algorithm' are false positives where the scanner flagged 'DES' in text explanations, not actual cryptographic code. No malicious patterns, network operations, or credential exfiltration detected.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 140,
            "line_end": 140
          },
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 17,
            "line_end": 22
          },
          {
            "file": "scripts/validate-settings.sh",
            "line_start": 41,
            "line_end": 55
          },
          {
            "file": "scripts/parse-frontmatter.sh",
            "line_start": 19,
            "line_end": 51
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 41,
            "line_end": 47
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 2245,
    "audit_model": "claude",
    "audited_at": "2026-01-16T17:37:17.489Z"
  },
  "content": {
    "user_title": "Configure plugins with YAML settings files",
    "value_statement": "Plugin developers need a standardized way to store per-project configuration. This pattern uses .claude/plugin-name.local.md files with YAML frontmatter for structured settings.",
    "seo_keywords": [
      "plugin configuration",
      "YAML frontmatter",
      "Claude Code plugins",
      "settings management",
      "plugin development",
      "claude configuration",
      "codex plugins",
      "local settings",
      "plugin settings",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Store plugin settings in YAML frontmatter format",
      "Parse configuration from .claude/*.local.md files",
      "Implement settings-driven hook behavior",
      "Create validation for plugin configuration",
      "Manage per-project plugin state",
      "Coordinate multi-agent workflows with settings"
    ],
    "limitations": [
      "Settings require Claude Code restart to take effect",
      "YAML parsing limited to basic field extraction",
      "No hot-reloading of configuration changes",
      "File-based storage only (no database backend)"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Add configurable behavior to plugins",
        "description": "Create settings files that control plugin behavior per project, with validation and defaults."
      },
      {
        "target_user": "DevOps teams",
        "title": "Standardize plugin configuration",
        "description": "Establish consistent patterns for plugin settings across team projects with YAML frontmatter."
      },
      {
        "target_user": "Multi-agent system builders",
        "title": "Coordinate agent behavior",
        "description": "Store agent state and configuration for complex multi-agent workflows in Claude Code."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create settings file",
        "scenario": "Setting up a new plugin configuration",
        "prompt": "Create a .claude/my-plugin.local.md file with enabled: true, mode: standard, and max_retries: 3 in the YAML frontmatter."
      },
      {
        "title": "Read plugin settings",
        "scenario": "Checking if plugin is enabled",
        "prompt": "Check if .claude/security-plugin.local.md exists and read the enabled field from the YAML frontmatter."
      },
      {
        "title": "Validate settings",
        "scenario": "Ensuring proper configuration",
        "prompt": "Validate that .claude/my-plugin.local.md has proper YAML frontmatter with required fields: enabled, mode, and max_file_size."
      },
      {
        "title": "Update agent state",
        "scenario": "Tracking multi-agent progress",
        "prompt": "Update the task_number field in .claude/multi-agent-swarm.local.md from 3.4 to 3.5 while preserving other settings."
      }
    ],
    "output_examples": [
      {
        "input": "Read the settings from .claude/validation-plugin.local.md",
        "output": [
          "Settings file found at .claude/validation-plugin.local.md",
          "Configuration:",
          "  enabled: true",
          "  mode: strict",
          "  max_file_size: 1000000",
          "  allowed_extensions: [\".js\", \".ts\", \".tsx\"]",
          "Plugin is active with strict validation enabled"
        ]
      },
      {
        "input": "Create settings for a new security plugin",
        "output": [
          "Created .claude/security-plugin.local.md",
          "Configuration:",
          "  enabled: true",
          "  scan_on_commit: true",
          "  severity_level: high",
          "  notification_channel: slack",
          "Settings saved. Restart Claude Code for changes to take effect."
        ]
      }
    ],
    "best_practices": [
      "Always check if settings file exists before reading to avoid errors",
      "Use quick-exit pattern when plugin is disabled (enabled: false)",
      "Validate all user inputs when creating settings files to prevent injection",
      "Document required settings fields in your plugin README with examples"
    ],
    "anti_patterns": [
      "Do not hardcode settings values in hooks - always read from configuration",
      "Avoid creating settings files in git-tracked locations - use .local.md suffix",
      "Never execute settings values as commands - treat all inputs as data only"
    ],
    "faq": [
      {
        "question": "Why do settings changes require a restart?",
        "answer": "Claude Code loads hook configurations at startup. Settings are read by hooks, which cannot be hot-reloaded for security reasons."
      },
      {
        "question": "Can I use JSON instead of YAML?",
        "answer": "Yes, but YAML frontmatter is recommended for consistency with the documented pattern and easier parsing."
      },
      {
        "question": "Where should I document my plugin settings?",
        "answer": "Include a Configuration section in your plugin README.md with a complete settings template and field descriptions."
      },
      {
        "question": "How do I handle sensitive settings?",
        "answer": "Never store secrets in settings files. Use environment variables or secure secret management tools instead."
      },
      {
        "question": "Can multiple plugins share settings?",
        "answer": "Each plugin should have its own .local.md file. Shared configuration can be documented as dependencies."
      },
      {
        "question": "What happens if settings are invalid?",
        "answer": "Always provide sensible defaults. Log warnings for invalid values and continue with safe fallback behavior."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "create-settings-command.md",
          "type": "file",
          "path": "examples/create-settings-command.md",
          "lines": 99
        },
        {
          "name": "example-settings.md",
          "type": "file",
          "path": "examples/example-settings.md",
          "lines": 160
        },
        {
          "name": "read-settings-hook.sh",
          "type": "file",
          "path": "examples/read-settings-hook.sh",
          "lines": 66
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "parsing-techniques.md",
          "type": "file",
          "path": "references/parsing-techniques.md",
          "lines": 550
        },
        {
          "name": "real-world-examples.md",
          "type": "file",
          "path": "references/real-world-examples.md",
          "lines": 396
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "parse-frontmatter.sh",
          "type": "file",
          "path": "scripts/parse-frontmatter.sh",
          "lines": 60
        },
        {
          "name": "validate-settings.sh",
          "type": "file",
          "path": "scripts/validate-settings.sh",
          "lines": 102
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 545
    }
  ]
}
