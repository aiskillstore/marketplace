{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-11T08:59:04.578Z",
    "slug": "antfu-vue-testing-best-practices",
    "source_url": "https://github.com/antfu/skills/tree/main/skills/vue-testing-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "c1142cff785de2342723c359b6d9c628d2e45dec2c5526f9d818b99d6b36a653",
    "tree_hash": "c2e6e0c603fe9036a7488b9464355d545f21bdf13afd8e9b6293d0878aa1eab1"
  },
  "skill": {
    "name": "vue-testing-best-practices",
    "description": "Use for Vue.js testing. Covers Vitest, Vue Test Utils, component testing, mocking, testing patterns, and Playwright for E2E testing.",
    "summary": "Best practices for testing Vue 3 applications with Vitest, Vue Test Utils, and Playwright",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "github.com/vuejs-ai",
    "license": "MIT",
    "tags": [
      "vue3",
      "vitest",
      "testing",
      "vue-test-utils",
      "playwright",
      "tdd"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "scripts",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is a documentation repository containing Vue.js testing best practices. All 321 static findings are false positives. The detected patterns (hardcoded URLs, shell commands, environment variables) appear in documentation code examples and legitimate external links to official Vue.js, Vitest, and Playwright documentation. No executable malicious code exists.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "LICENSE.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 29
          },
          {
            "file": "reference/testing-vitest-recommended-for-vue.md",
            "line_start": 202,
            "line_end": 204
          },
          {
            "file": "reference/testing-e2e-playwright-recommended.md",
            "line_start": 240,
            "line_end": 242
          }
        ]
      },
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "reference/async-component-testing.md",
            "line_start": 28,
            "line_end": 28
          },
          {
            "file": "reference/async-component-testing.md",
            "line_start": 46,
            "line_end": 46
          },
          {
            "file": "reference/async-component-testing.md",
            "line_start": 60,
            "line_end": 60
          },
          {
            "file": "reference/async-component-testing.md",
            "line_start": 85,
            "line_end": 85
          },
          {
            "file": "reference/async-component-testing.md",
            "line_start": 142,
            "line_end": 142
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "reference/testing-e2e-playwright-recommended.md",
            "line_start": 26,
            "line_end": 34
          },
          {
            "file": "reference/testing-vitest-recommended-for-vue.md",
            "line_start": 26,
            "line_end": 31
          },
          {
            "file": "reference/testing-vitest-recommended-for-vue.md",
            "line_start": 110,
            "line_end": 112
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "reference/testing-e2e-playwright-recommended.md",
            "line_start": 43,
            "line_end": 45
          },
          {
            "file": "reference/testing-e2e-playwright-recommended.md",
            "line_start": 81,
            "line_end": 81
          },
          {
            "file": "reference/testing-vitest-recommended-for-vue.md",
            "line_start": 160,
            "line_end": 160
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 14,
    "total_lines": 2255,
    "audit_model": "claude",
    "audited_at": "2026-02-11T08:59:04.578Z"
  },
  "content": {
    "user_title": "Write Vue 3 Tests with Vitest and Playwright",
    "value_statement": "Vue.js developers struggle with testing async components, state management, and E2E setups. This skill provides battle-tested patterns for Vitest, Vue Test Utils, and Playwright to write maintainable, reliable tests.",
    "seo_keywords": [
      "Vue 3 testing",
      "Vitest tutorial",
      "Vue Test Utils",
      "Vue component testing",
      "Playwright E2E testing",
      "Vue testing best practices",
      "Vue.js TDD",
      "Vue testing patterns",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Configure Vitest for Vue 3 projects with proper environment setup",
      "Test Vue components with Vue Test Utils including mounting and props",
      "Test async components and Suspense patterns in Vue 3",
      "Test Pinia stores with proper initialization in unit tests",
      "Test composables that use lifecycle hooks or provide/inject",
      "Write E2E tests with Playwright including authentication flows",
      "Handle teleported content and DOM testing edge cases",
      "Mock dependencies and external API calls in tests"
    ],
    "limitations": [
      "Does not execute tests or modify project files directly",
      "Does not provide scaffolding for new test projects",
      "Does not integrate with CI/CD pipelines",
      "Does not generate test code automatically"
    ],
    "use_cases": [
      {
        "title": "Set up testing infrastructure for new Vue 3 project",
        "description": "A developer starting a new Vue 3 project needs to configure Vitest, Vue Test Utils, and choose between jsdom and happy-dom. This skill provides step-by-step configuration for production-ready test setups.",
        "target_user": "Vue developers starting new projects"
      },
      {
        "title": "Debug failing Vue component tests",
        "description": "A developer encounters 'Symbol(pinia) not found' errors or tests that fail when refactoring component internals. This skill explains the blackbox testing approach and proper Pinia store setup to make tests resilient.",
        "target_user": "Vue developers fixing test issues"
      },
      {
        "title": "Write E2E tests for Vue authentication flows",
        "description": "A developer needs to write end-to-end tests for user login, dashboard access, and protected routes. This skill provides Playwright patterns including page object models, locator strategies, and CI configuration.",
        "target_user": "Vue developers writing E2E tests"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Vue test setup",
        "prompt": "I want to set up testing in my Vue 3 project. Show me how to configure Vitest with Vue Test Utils, including the vite.config.js setup, package.json scripts, and a simple component test example.",
        "scenario": "Setting up Vitest for a new Vue 3 project"
      },
      {
        "title": "Testing async components",
        "prompt": "My Vue 3 component uses defineAsyncComponent and Suspense, but tests fail to render it. How do I test async components properly with Vue Test Utils and handle the loading states?",
        "scenario": "Testing components with async setup"
      },
      {
        "title": "Testing Pinia stores in isolation",
        "prompt": "I'm getting 'injection Symbol(pinia) not found' errors when testing components that use Pinia. How do I properly set up and test Pinia stores in unit tests without the full app instance?",
        "scenario": "Testing components with Pinia state"
      },
      {
        "title": "Playwright E2E for Vue apps",
        "prompt": "I need to write E2E tests for my Vue application including login flows and protected routes. Show me how to configure Playwright with Vue, write page object tests, and set up cross-browser testing.",
        "scenario": "Writing end-to-end tests with Playwright"
      }
    ],
    "output_examples": [
      {
        "input": "How do I configure Vitest for my Vue 3 project?",
        "output": [
          "Install the required packages:",
          "```bash",
          "npm install -D vitest @vue/test-utils happy-dom",
          "```",
          "",
          "Configure vite.config.js:",
          "```javascript",
          "export default defineConfig({",
          "  plugins: [vue()],",
          "  test: {",
          "    globals: true,",
          "    environment: 'happy-dom',",
          "    setupFiles: ['./src/test/setup.js']",
          "  }",
          "})",
          "```",
          "",
          "Add test scripts to package.json:",
          "```json",
          "{",
          "  \"scripts\": {",
          "    \"test\": \"vitest\",",
          "    \"test:run\": \"vitest run\"",
          "  }",
          "}",
          "```"
        ]
      },
      {
        "input": "How do I test a Vue component that uses Pinia?",
        "output": [
          "Create a test setup file that initializes Pinia:",
          "```javascript",
          "import { createTestingPinia } from '@pinia/testing'",
          "import { mount } from '@vue/test-utils'",
          "import { vi } from 'vitest'",
          "",
          "export function mountWithPinia(component, options = {}) {",
          "  return mount(component, {",
          "    global: {",
          "      plugins: [createTestingPinia({ createSpy: vi.fn })],",
          "      ...options.global",
          "    }",
          "  })",
          "}",
          "```",
          "",
          "Use it in your tests:",
          "```javascript",
          "import { useCounterStore } from '@/stores/counter'",
          "import { mountWithPinia } from './setup'",
          "",
          "test('increments counter', () => {",
          "  const wrapper = mountWithPinia(CounterComponent)",
          "  const store = useCounterStore()",
          "  await wrapper.find('[data-testid=\"increment\"]').trigger('click')",
          "  expect(store.count).toBe(1)",
          "})",
          "```"
        ]
      }
    ],
    "best_practices": [
      "Use the blackbox testing approach - test component public interface (props, events, exposed methods) rather than internal implementation details to make tests resilient to refactoring",
      "Always flush Promises and use async/await patterns when testing components with async operations to avoid flaky race condition failures",
      "Configure E2E tests to run against a local dev server in CI environments while allowing parallel execution in local development for faster feedback"
    ],
    "anti_patterns": [
      "Avoid relying on snapshot tests alone - they pass when output matches but do not verify correct behavior",
      "Do not test component internals like computed properties or methods directly - test through the public interface",
      "Avoid coupling tests to implementation details like CSS class names that may change during refactoring"
    ],
    "faq": [
      {
        "question": "What test runner should I use for Vue 3?",
        "answer": "Vitest is recommended by the Vue team because it shares the same configuration and transform pipeline as Vite, providing faster test execution and better compatibility with Vue 3 projects."
      },
      {
        "question": "How do I test async components in Vue 3?",
        "answer": "Use Vue Test Utils with async setup components by awaiting the component to render, or use the Suspense component to handle async dependencies. You may also need to use flushPromises to ensure all async operations complete."
      },
      {
        "question": "What is the difference between jsdom and happy-dom?",
        "answer": "happy-dom is faster and lighter weight because it does not implement all browser APIs. jsdom provides better compatibility with code that relies on broader browser APIs. For most Vue component tests, happy-dom works well."
      },
      {
        "question": "How do I mock API calls in Vue tests?",
        "answer": "Use vi.mock from Vitest to mock modules before importing them. You can also use MSW (Mock Service Worker) for HTTP request mocking, or spy on fetch/axios calls and return mocked responses."
      },
      {
        "question": "Should I use Cypress or Playwright for Vue E2E testing?",
        "answer": "Playwright is recommended for new projects because it offers better cross-browser support (including WebKit), built-in parallelization, and is fully open source. Cypress may be preferable if your team already has Cypress expertise."
      },
      {
        "question": "How do I test teleported content in Vue?",
        "answer": "Teleported content moves outside the component hierarchy, so you need to find it on the document body using document.querySelector or by checking document.body. You can also use attachTo option in Vue Test Utils to control where components mount."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "async-component-testing.md",
          "type": "file",
          "path": "reference/async-component-testing.md",
          "lines": 164
        },
        {
          "name": "teleport-testing-complexity.md",
          "type": "file",
          "path": "reference/teleport-testing-complexity.md",
          "lines": 159
        },
        {
          "name": "testing-async-await-flushpromises.md",
          "type": "file",
          "path": "reference/testing-async-await-flushpromises.md",
          "lines": 176
        },
        {
          "name": "testing-browser-vs-node-runners.md",
          "type": "file",
          "path": "reference/testing-browser-vs-node-runners.md",
          "lines": 209
        },
        {
          "name": "testing-component-blackbox-approach.md",
          "type": "file",
          "path": "reference/testing-component-blackbox-approach.md",
          "lines": 145
        },
        {
          "name": "testing-composables-helper-wrapper.md",
          "type": "file",
          "path": "reference/testing-composables-helper-wrapper.md",
          "lines": 239
        },
        {
          "name": "testing-e2e-playwright-recommended.md",
          "type": "file",
          "path": "reference/testing-e2e-playwright-recommended.md",
          "lines": 243
        },
        {
          "name": "testing-no-snapshot-only.md",
          "type": "file",
          "path": "reference/testing-no-snapshot-only.md",
          "lines": 198
        },
        {
          "name": "testing-pinia-store-setup.md",
          "type": "file",
          "path": "reference/testing-pinia-store-setup.md",
          "lines": 229
        },
        {
          "name": "testing-suspense-async-components.md",
          "type": "file",
          "path": "reference/testing-suspense-async-components.md",
          "lines": 230
        },
        {
          "name": "testing-vitest-recommended-for-vue.md",
          "type": "file",
          "path": "reference/testing-vitest-recommended-for-vue.md",
          "lines": 205
        }
      ]
    },
    {
      "name": "LICENSE.md",
      "type": "file",
      "path": "LICENSE.md",
      "lines": 22
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 30
    },
    {
      "name": "SYNC.md",
      "type": "file",
      "path": "SYNC.md",
      "lines": 6
    }
  ]
}
