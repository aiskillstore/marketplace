{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T19:46:53.200Z",
    "slug": "decalogue-calculator",
    "source_url": "https://github.com/Decalogue/creator/tree/main/src/skills/calculator",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "4bfe94e08a43e724e14be33ee28918872be6e69db9c2bb41bb6bbd5891c1373c",
    "tree_hash": "615b621a6cbc0633338439a7ced43d0bf88ed0791a51ee71b1a258b4806c5811"
  },
  "skill": {
    "name": "calculator",
    "description": "Perform mathematical calculations with support for basic operations and complex expressions",
    "summary": "Safe mathematical expression evaluator for basic arithmetic and complex calculations",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "AI Creator",
    "license": "MIT",
    "category": "productivity",
    "tags": [
      "math",
      "calculation",
      "calculator",
      "arithmetic",
      "Claude Code"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts"
    ]
  },
  "security_audit": {
    "risk_level": "medium",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill uses Python eval() for mathematical expression evaluation, which is a high-risk pattern. However, the implementation includes input validation that restricts expressions to numbers and basic operators only, with an empty builtins dictionary to prevent code execution. The static findings for external_commands and network are false positives from documentation files containing example syntax and URLs. Overall risk is medium due to eval() usage, but the safeguards make it acceptable for publication with warnings.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "calculator.py",
            "line_start": 30,
            "line_end": 30
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [
      {
        "title": "Use of eval() for Expression Evaluation",
        "description": "The calculator.py file uses Python's eval() function on line 30 to evaluate mathematical expressions. While this is mitigated by regex validation that restricts input to numbers and operators, and by passing an empty __builtins__ dictionary, eval() remains inherently risky. The regex pattern allows only digits, basic operators, parentheses, dots, and spaces. This approach is generally safe for the intended use case, but alternative parsers like ast.literal_eval or dedicated math expression libraries would be more secure.",
        "locations": [
          {
            "file": "calculator.py",
            "line_start": 30,
            "line_end": 30
          }
        ]
      }
    ],
    "low_findings": [],
    "dangerous_patterns": [
      {
        "title": "Dynamic Code Evaluation Pattern",
        "description": "Uses eval() with restricted builtins and input validation. The pattern matches ^[0-9+\\-*/().\\s**]+$ which only allows mathematical operations. While safer than unrestricted eval(), this pattern should be documented for user awareness.",
        "locations": [
          {
            "file": "calculator.py",
            "line_start": 25,
            "line_end": 30
          }
        ]
      }
    ],
    "files_scanned": 4,
    "total_lines": 595,
    "audit_model": "claude",
    "audited_at": "2026-01-21T19:46:53.200Z"
  },
  "content": {
    "user_title": "Perform Safe Mathematical Calculations",
    "value_statement": "Many users need to perform quick mathematical calculations within their AI workflows. This skill provides a safe calculator that evaluates arithmetic expressions with proper input validation and error handling.",
    "seo_keywords": [
      "Claude",
      "Claude Code",
      "Codex",
      "calculator",
      "math",
      "arithmetic",
      "calculation",
      "expression evaluator",
      "Python calculator",
      "safe eval"
    ],
    "actual_capabilities": [
      "Evaluate basic arithmetic operations including addition, subtraction, multiplication, and division",
      "Support for exponentiation using ** or ^ operators",
      "Handle complex expressions with parentheses and operator precedence",
      "Validate input to prevent code injection by restricting to mathematical operators only",
      "Provide clear error messages for invalid expressions and division by zero",
      "Return floating-point results for all calculations"
    ],
    "limitations": [
      "Does not support mathematical functions like sin, cos, sqrt, or logarithms",
      "Cannot handle variables or symbolic mathematics",
      "Limited to expressions that can be represented with basic operators",
      "Results are always returned as floating-point numbers, which may have precision limitations for very large or very small values"
    ],
    "use_cases": [
      {
        "title": "Quick Financial Calculations",
        "description": "Calculate percentages, profit margins, or simple financial formulas without leaving your coding environment.",
        "target_user": "Business analysts and financial professionals"
      },
      {
        "title": "Programming Constant Computation",
        "description": "Compute numerical constants or verify mathematical expressions while writing code that requires specific numeric values.",
        "target_user": "Software developers"
      },
      {
        "title": "Data Analysis Verification",
        "description": "Double-check calculations or verify formula results when working with data analysis tasks or spreadsheet conversions.",
        "target_user": "Data scientists and researchers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple Arithmetic",
        "prompt": "Calculate 125 + 387",
        "scenario": "Basic addition for quick verification of numbers"
      },
      {
        "title": "Percentage Calculation",
        "prompt": "What is 15% of 250? Calculate 250 * 0.15",
        "scenario": "Computing percentages for discounts or proportions"
      },
      {
        "title": "Complex Expression",
        "prompt": "Calculate (100 + 50) * 0.85 - 25",
        "scenario": "Multi-step calculation with parentheses and multiple operations"
      },
      {
        "title": "Power and Division",
        "prompt": "Calculate 2 ** 10 / 4",
        "scenario": "Advanced operations combining exponentiation and division"
      }
    ],
    "output_examples": [
      {
        "input": "Calculate 15 * 8 + 32",
        "output": "The result is 152.0"
      },
      {
        "input": "What is (250 - 50) / 4?",
        "output": "The result is 50.0"
      },
      {
        "input": "Calculate 2 ** 16",
        "output": "The result is 65536.0"
      }
    ],
    "best_practices": [
      "Use parentheses to make operator precedence explicit in complex expressions",
      "Verify expressions with known results first to ensure the calculator is working correctly",
      "Remember that all results are floating-point numbers, so use appropriate rounding for display purposes"
    ],
    "anti_patterns": [
      "Do not attempt to use mathematical functions like sqrt or sin, as they are not supported",
      "Avoid trying to assign variables or use programming constructs, as only mathematical expressions are allowed",
      "Do not rely on this for calculations requiring arbitrary precision arithmetic or symbolic math"
    ],
    "faq": [
      {
        "question": "Is this calculator safe to use with untrusted input?",
        "answer": "Yes. The calculator validates all input using regex patterns to ensure only numbers and basic mathematical operators are allowed. It uses eval with an empty builtins dictionary to prevent code execution."
      },
      {
        "question": "What operators are supported?",
        "answer": "The calculator supports addition, subtraction, multiplication, division, exponentiation, and parentheses. Use + - * / for basic operations and ** or ^ for exponents."
      },
      {
        "question": "Can I use mathematical functions like sine or cosine?",
        "answer": "No. This calculator only supports basic arithmetic operators. Functions like sin, cos, sqrt, or log are not available."
      },
      {
        "question": "How does it handle division by zero?",
        "answer": "Division by zero is caught and returns a clear error message indicating the problem. The calculator will not crash or produce undefined results."
      },
      {
        "question": "Why are results always decimal numbers?",
        "answer": "All results are returned as floating-point numbers for consistency. Even integer calculations like 4 + 2 will return 6.0."
      },
      {
        "question": "Can I use variables in calculations?",
        "answer": "No. The calculator only evaluates static mathematical expressions. Variable assignment and reference are not supported for security reasons."
      }
    ]
  },
  "file_structure": [
    {
      "name": "calculator.py",
      "type": "file",
      "path": "calculator.py",
      "lines": 54
    },
    {
      "name": "examples.md",
      "type": "file",
      "path": "examples.md",
      "lines": 44
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 55
    }
  ]
}
