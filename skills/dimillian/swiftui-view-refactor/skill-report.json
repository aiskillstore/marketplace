{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T14:10:46.093Z",
    "slug": "dimillian-swiftui-view-refactor",
    "source_url": "https://github.com/Dimillian/Skills/tree/main/swiftui-view-refactor",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "252a62d05fa0243ac7450c0ac31db3fec18061b40981f175c60f1406d32df36d",
    "tree_hash": "1ad6f33b415dd295d85ad31b90b972d2e35f9135dd179ebd8f1341bf1f779b10"
  },
  "skill": {
    "name": "swiftui-view-refactor",
    "description": "Refactor and review SwiftUI view files for consistent structure, dependency injection, and Observation usage. Use when asked to clean up a SwiftUI viewâ€™s layout/ordering, handle view models safely (non-optional when possible), or standardize how dependencies and @Observable state are initialized and passed.",
    "summary": "Refactor and review SwiftUI view files for consistent structure, dependency injection, and Observati...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Dimillian",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "swift",
      "swiftui",
      "ios",
      "refactoring",
      "apple"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill containing only markdown documentation. No executable code, network calls, file system access, or external command execution detected. This is a documentation-only skill providing SwiftUI best practice guidelines.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 415,
    "audit_model": "claude",
    "audited_at": "2026-01-10T14:10:46.093Z"
  },
  "content": {
    "user_title": "Refactor SwiftUI Views",
    "value_statement": "SwiftUI views often become disorganized with inconsistent property ordering and mixed responsibilities. This skill applies a consistent structure to views by enforcing proper ordering, favoring MV patterns over view models, and ensuring correct Observation usage.",
    "seo_keywords": [
      "SwiftUI",
      "refactoring",
      "Swift",
      "iOS development",
      "view refactor",
      "Claude",
      "Codex",
      "Claude Code",
      "MV pattern",
      "Observation"
    ],
    "actual_capabilities": [
      "Reorder SwiftUI view properties according to documented hierarchy (Environment, let, @State, computed, init, body, helpers)",
      "Apply MV (Model-View) patterns favoring @State, @Environment, and @Query over traditional view models",
      "Split large view bodies into smaller subviews and computed view properties",
      "Handle existing view models by making them non-optional and properly initialized",
      "Verify correct @Observable state usage with proper @State storage in root views",
      "Organize large files using Swift extensions with MARK comments"
    ],
    "limitations": [
      "Does not modify business logic or layout unless explicitly requested",
      "Does not introduce view models when none exist; only refactors existing patterns",
      "Does not generate new SwiftUI code from scratch; only refactors provided code",
      "Does not handle cross-file refactoring or dependency graph analysis"
    ],
    "use_cases": [
      {
        "target_user": "iOS Developers",
        "title": "Clean Codebase",
        "description": "Standardize SwiftUI view structure across an existing iOS codebase for team consistency."
      },
      {
        "target_user": "Code Reviewers",
        "title": "Review Patterns",
        "description": "Validate that submitted views follow established MV patterns and observation best practices."
      },
      {
        "target_user": "Migration Teams",
        "title": "Modernize Views",
        "description": "Update legacy SwiftUI code to use modern @Observable patterns instead of Combine-based view models."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Refactor",
        "scenario": "Clean a single view",
        "prompt": "Refactor this SwiftUI view using the MV pattern. Reorder properties, split large body sections, and ensure proper @State usage for @Observable models."
      },
      {
        "title": "View Model Cleanup",
        "scenario": "Fix view model handling",
        "prompt": "Review this view's view model usage. Replace optional view models with non-optional @State, initialize properly in init, and verify dependency injection."
      },
      {
        "title": "Large View Split",
        "scenario": "Split complex views",
        "prompt": "This view is over 300 lines. Split it into subviews using computed properties and extensions with MARK comments. Keep the original behavior intact."
      },
      {
        "title": "Full Audit",
        "scenario": "Complete pattern review",
        "prompt": "Perform a complete review: verify view ordering, confirm MV patterns, check Observation usage, ensure no redundant wrappers, and validate dependency injection via @Environment."
      }
    ],
    "output_examples": [
      {
        "input": "Refactor this SwiftUI view to follow MV patterns and split the body.",
        "output": [
          "âœ“ Reordered properties: Environment â†’ let â†’ @State â†’ computed vars â†’ init â†’ body â†’ helpers",
          "âœ“ Extracted List sections into computed view properties: header, filters, results, footer",
          "âœ“ Changed optional @StateObject to @State with non-optional @Observable view model",
          "âœ“ Verified dependencies injected via init, not bootstrapIfNeeded",
          "âœ“ Split file into extensions: Main View, Subviews, Actions, Helpers with MARK comments"
        ]
      }
    ],
    "best_practices": [
      "Keep views small and composable; extract sections when body exceeds one screen of content",
      "Use @Environment for shared services rather than passing dependencies through multiple view levels",
      "Store @Observable reference types in @State at the root; pass down explicitly as needed"
    ],
    "anti_patterns": [
      "Introducing view models when local @State, @Environment, or @Query would suffice",
      "Using optional view models with bootstrapIfNeeded patterns instead of proper initialization",
      "Storing business logic in views rather than services/models"
    ],
    "faq": [
      {
        "question": "Which SwiftUI versions are supported?",
        "answer": "Supports iOS 17+ with @Observable. Legacy Combine-based patterns can be modernized during refactor."
      },
      {
        "question": "What are the file size limits?",
        "answer": "Handles files of any size. Views over 300 lines are automatically split using extensions with MARK comments."
      },
      {
        "question": "Does this integrate with Xcode?",
        "answer": "This skill works with Claude, Codex, and Claude Code. Use it to generate refactored code that you paste into Xcode."
      },
      {
        "question": "Is my code data safe?",
        "answer": "Yes. This is a prompt-only skill. Code is processed by the AI model only and never stored externally."
      },
      {
        "question": "Why is my refactor failing?",
        "answer": "Check that the input is valid SwiftUI code with proper View struct definition. Complex generics or Combine publishers may need manual handling."
      },
      {
        "question": "How is this different from MVVM?",
        "answer": "This skill follows the MV pattern which is the recommended 2025 approach. Views own local state via @State and use @Environment for dependencies instead of traditional view models."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "mv-patterns.md",
          "type": "file",
          "path": "references/mv-patterns.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
