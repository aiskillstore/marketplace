{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T04:14:16.842Z",
    "slug": "dimillian-swiftui-view-refactor",
    "source_url": "https://github.com/Dimillian/Skills/tree/main/swiftui-view-refactor",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "252a62d05fa0243ac7450c0ac31db3fec18061b40981f175c60f1406d32df36d",
    "tree_hash": "bd6af9717148b0942f3cac6eb7c30cbe943c91ffc48818ef1b9bdaa0f47a6877"
  },
  "skill": {
    "name": "swiftui-view-refactor",
    "description": "Refactor and review SwiftUI view files for consistent structure, dependency injection, and Observation usage. Use when asked to clean up a SwiftUI viewâ€™s layout/ordering, handle view models safely (non-optional when possible), or standardize how dependencies and @Observable state are initialized and passed.",
    "summary": "Refactor and review SwiftUI view files for consistent structure, dependency injection, and Observati...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Dimillian",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "swift",
      "swiftui",
      "ios",
      "refactoring",
      "apple"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only markdown files with Swift code examples. No executable code, network calls, file system access, or external command execution. All 94 static findings are false positives triggered by markdown syntax (backticks in code fences, WWDC session titles, SwiftData API names) misidentified as security patterns.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "references/mv-patterns.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 9,
            "line_end": 9
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 62,
            "line_end": 106
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 106,
            "line_end": 118
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 118,
            "line_end": 129
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 129,
            "line_end": 146
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 146,
            "line_end": 146
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 146,
            "line_end": 150
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 150,
            "line_end": 159
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 159,
            "line_end": 165
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 165,
            "line_end": 197
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 197,
            "line_end": 204
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 204,
            "line_end": 223
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 223,
            "line_end": 227
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 227,
            "line_end": 243
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 243,
            "line_end": 262
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 262,
            "line_end": 268
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 268,
            "line_end": 294
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 294,
            "line_end": 296
          },
          {
            "file": "references/mv-patterns.md",
            "line_start": 296,
            "line_end": 298
          },
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 15
          },
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 15
          },
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 15
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 16
          },
          {
            "file": "SKILL.md",
            "line_start": 17,
            "line_end": 17
          },
          {
            "file": "SKILL.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 19,
            "line_end": 19
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 26
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 37,
            "line_end": 45
          },
          {
            "file": "SKILL.md",
            "line_start": 45,
            "line_end": 49
          },
          {
            "file": "SKILL.md",
            "line_start": 49,
            "line_end": 76
          },
          {
            "file": "SKILL.md",
            "line_start": 76,
            "line_end": 80
          },
          {
            "file": "SKILL.md",
            "line_start": 80,
            "line_end": 98
          },
          {
            "file": "SKILL.md",
            "line_start": 98,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 104
          },
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 108
          },
          {
            "file": "SKILL.md",
            "line_start": 108,
            "line_end": 114
          },
          {
            "file": "SKILL.md",
            "line_start": 114,
            "line_end": 117
          },
          {
            "file": "SKILL.md",
            "line_start": 117,
            "line_end": 117
          },
          {
            "file": "SKILL.md",
            "line_start": 117,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 124
          },
          {
            "file": "SKILL.md",
            "line_start": 124,
            "line_end": 124
          },
          {
            "file": "SKILL.md",
            "line_start": 124,
            "line_end": 125
          },
          {
            "file": "SKILL.md",
            "line_start": 125,
            "line_end": 125
          },
          {
            "file": "SKILL.md",
            "line_start": 125,
            "line_end": 131
          },
          {
            "file": "SKILL.md",
            "line_start": 131,
            "line_end": 131
          },
          {
            "file": "SKILL.md",
            "line_start": 131,
            "line_end": 132
          },
          {
            "file": "SKILL.md",
            "line_start": 132,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/mv-patterns.md",
            "line_start": 240,
            "line_end": 240
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 642,
    "audit_model": "claude",
    "audited_at": "2026-01-17T04:14:16.842Z"
  },
  "content": {
    "user_title": "Refactor SwiftUI Views",
    "value_statement": "SwiftUI views often become disorganized with inconsistent property ordering and mixed responsibilities. This skill applies a consistent structure to views by enforcing proper ordering, favoring MV patterns over view models, and ensuring correct Observation usage.",
    "seo_keywords": [
      "SwiftUI",
      "refactoring",
      "Swift",
      "iOS development",
      "view refactor",
      "Claude",
      "Codex",
      "Claude Code",
      "MV pattern",
      "Observation"
    ],
    "actual_capabilities": [
      "Reorder SwiftUI view properties according to documented hierarchy (Environment, let, @State, computed vars, init, body, helpers)",
      "Apply MV (Model-View) patterns favoring @State, @Environment, and @Query over traditional view models",
      "Split large view bodies into smaller subviews and computed view properties",
      "Handle existing view models by making them non-optional and properly initialized",
      "Verify correct @Observable state usage with proper @State storage in root views",
      "Organize large files using Swift extensions with MARK comments"
    ],
    "limitations": [
      "Does not modify business logic or layout unless explicitly requested",
      "Does not introduce view models when none exist; only refactors existing patterns",
      "Does not generate new SwiftUI code from scratch; only refactors provided code",
      "Does not handle cross-file refactoring or dependency graph analysis"
    ],
    "use_cases": [
      {
        "target_user": "iOS Developers",
        "title": "Clean Codebase",
        "description": "Standardize SwiftUI view structure across an existing iOS codebase for team consistency."
      },
      {
        "target_user": "Code Reviewers",
        "title": "Review Patterns",
        "description": "Validate that submitted views follow established MV patterns and observation best practices."
      },
      {
        "target_user": "Migration Teams",
        "title": "Modernize Views",
        "description": "Update legacy SwiftUI code to use modern @Observable patterns instead of Combine-based view models."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Refactor",
        "scenario": "Clean a single view",
        "prompt": "Refactor this SwiftUI view using the MV pattern. Reorder properties, split large body sections, and ensure proper @State usage for @Observable models."
      },
      {
        "title": "View Model Cleanup",
        "scenario": "Fix view model handling",
        "prompt": "Review this view's view model usage. Replace optional view models with non-optional @State, initialize properly in init, and verify dependency injection."
      },
      {
        "title": "Large View Split",
        "scenario": "Split complex views",
        "prompt": "This view is over 300 lines. Split it into subviews using computed properties and extensions with MARK comments. Keep the original behavior intact."
      },
      {
        "title": "Full Audit",
        "scenario": "Complete pattern review",
        "prompt": "Perform a complete review: verify view ordering, confirm MV patterns, check Observation usage, ensure no redundant wrappers, and validate dependency injection via @Environment."
      }
    ],
    "output_examples": [
      {
        "input": "Refactor this SwiftUI view to follow MV patterns and split the body.",
        "output": [
          "âœ“ Reordered properties: Environment â†’ let â†’ @State â†’ computed vars â†’ init â†’ body â†’ helpers",
          "âœ“ Extracted List sections into computed view properties: header, filters, results, footer",
          "âœ“ Changed optional @StateObject to @State with non-optional @Observable view model",
          "âœ“ Verified dependencies injected via init, not bootstrapIfNeeded",
          "âœ“ Split file into extensions: Main View, Subviews, Actions, Helpers with MARK comments"
        ]
      },
      {
        "input": "Review this view for proper Observation usage and suggest improvements.",
        "output": [
          "âœ“ @Observable model correctly stored in @State at root view level",
          "âœ“ No redundant @StateObject or @ObservedObject wrappers needed",
          "âœ“ Dependencies properly injected via @Environment",
          "âœ“ Local state enums used for view state instead of view model properties"
        ]
      }
    ],
    "best_practices": [
      "Keep views small and composable; extract sections when body exceeds one screen of content",
      "Use @Environment for shared services rather than passing dependencies through multiple view levels",
      "Store @Observable reference types in @State at the root; pass down explicitly as needed"
    ],
    "anti_patterns": [
      "Introducing view models when local @State, @Environment, or @Query would suffice",
      "Using optional view models with bootstrapIfNeeded patterns instead of proper initialization",
      "Storing business logic in views rather than services/models"
    ],
    "faq": [
      {
        "question": "Which SwiftUI versions are supported?",
        "answer": "Supports iOS 17+ with @Observable. Legacy Combine-based patterns can be modernized during refactor."
      },
      {
        "question": "What are the file size limits?",
        "answer": "Handles files of any size. Views over 300 lines are automatically split using extensions with MARK comments."
      },
      {
        "question": "Does this integrate with Xcode?",
        "answer": "This skill works with Claude, Codex, and Claude Code. Use it to generate refactored code that you paste into Xcode."
      },
      {
        "question": "Is my code data safe?",
        "answer": "Yes. This is a prompt-only skill. Code is processed by the AI model only and never stored externally."
      },
      {
        "question": "Why is my refactor failing?",
        "answer": "Check that the input is valid SwiftUI code with proper View struct definition. Complex generics or Combine publishers may need manual handling."
      },
      {
        "question": "How is this different from MVVM?",
        "answer": "This skill follows the MV pattern which is the recommended 2025 approach. Views own local state via @State and use @Environment for dependencies instead of traditional view models."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "mv-patterns.md",
          "type": "file",
          "path": "references/mv-patterns.md",
          "lines": 315
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 137
    }
  ]
}
