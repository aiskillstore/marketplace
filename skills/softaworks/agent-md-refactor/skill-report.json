{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-24T08:28:49.815Z",
    "slug": "softaworks-agent-md-refactor",
    "source_url": "https://github.com/softaworks/agent-toolkit/tree/main/skills/agent-md-refactor/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "97e39bfbc9b1e369e297197d1479a46b80debf17fbaf7321a5ceeccc220699bb",
    "tree_hash": "fe73bf82b0a6bb82a9200ad7a2b6f76d402a3c27581094bc5a40f5ea725d90aa"
  },
  "skill": {
    "name": "agent-md-refactor",
    "description": "Refactor bloated AGENTS.md, CLAUDE.md, or similar agent instruction files to follow progressive disclosure principles. Splits monolithic files into organized, linked documentation.",
    "summary": "Transform bloated agent instruction files into clean, organized documentation using progressive disclosure principles.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "softaworks",
    "license": "MIT",
    "tags": [
      "documentation",
      "refactoring",
      "claude",
      "codex",
      "claude-code"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. This is a documentation-only skill containing SKILL.md and README.md files. The scanner flagged markdown code examples (backtick syntax) and text patterns as security issues, but these are simply documentation content with no executable code.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 516,
    "audit_model": "claude",
    "audited_at": "2026-01-24T08:28:49.815Z",
    "risk_factors": [],
    "risk_factor_evidence": []
  },
  "content": {
    "user_title": "Organize bloated agent instructions",
    "value_statement": "Claude Code often accumulates hundreds of lines of mixed instructions in AGENTS.md or CLAUDE.md files, wasting context tokens and creating maintenance headaches. This skill refactors monolithic agent instructions into clean, linked documentation using progressive disclosure principles.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "AGENTS.md",
      "CLAUDE.md",
      "documentation",
      "refactoring",
      "progressive disclosure",
      "agent instructions",
      "context optimization"
    ],
    "actual_capabilities": [
      "Analyzes agent instruction files for contradictions and conflicts",
      "Identifies essential instructions to keep in the root file",
      "Groups remaining instructions into logical categories",
      "Creates organized file structure with linked documentation",
      "Flags redundant or vague instructions for deletion"
    ],
    "limitations": [
      "Does not modify files without user approval",
      "Does not execute any code or shell commands",
      "Does not access external APIs or networks",
      "Does not handle non-markdown instruction formats"
    ],
    "use_cases": [
      {
        "title": "Clean up overgrown CLAUDE.md files",
        "description": "When a project's CLAUDE.md has grown to 200+ lines with mixed topics, this skill restructures it into a minimal root file plus focused linked documents.",
        "target_user": "Developers with large codebases"
      },
      {
        "title": "Resolve conflicting agent instructions",
        "description": "Before restructuring, the skill identifies contradictory guidelines (like 'use semicolons' vs 'no semicolons') and asks the user to resolve them first.",
        "target_user": "Teams with multiple contributors"
      },
      {
        "title": "Prepare new projects with organized instructions",
        "description": "For new projects, the skill provides templates and structure for organizing agent instructions from the start using progressive disclosure.",
        "target_user": "Project maintainers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic refactoring request",
        "prompt": "Refactor my CLAUDE.md file to follow progressive disclosure principles. Keep only essential instructions in the root and organize the rest into linked files.",
        "scenario": "User wants to clean up a bloated agent instruction file"
      },
      {
        "title": "Split long AGENTS.md",
        "prompt": "My AGENTS.md file is too long and mixed with unrelated topics. Analyze it for contradictions, then split it into a minimal root file plus categorized linked documentation.",
        "scenario": "User has a long, disorganized AGENTS.md file"
      },
      {
        "title": "Organize agent config",
        "prompt": "Organize my agent configuration. Identify what belongs in the root file versus linked files. Create a file structure with proper links and templates.",
        "scenario": "User wants systematic organization of instructions"
      },
      {
        "title": "Full refactoring with deletion",
        "prompt": "Completely refactor my agent instructions. Find all contradictions, identify essentials vs optional content, create categorized linked files, and flag anything that should be deleted for wasting context tokens.",
        "scenario": "User wants comprehensive refactoring"
      }
    ],
    "output_examples": [
      {
        "input": "User asks to refactor a 300-line CLAUDE.md file",
        "output": [
          "## Contradictions Found",
          "- Line 45: 'Always use semicolons' conflicts with line 89: 'Never use semicolons'",
          "- Line 120: 'Prefer Jest' conflicts with line 200: 'Use Vitest for all tests'",
          "",
          "## Proposed Structure",
          "project-root/",
          "â”œâ”€â”€ CLAUDE.md (minimal root)",
          "â””â”€â”€ .claude/",
          "    â”œâ”€â”€ typescript.md",
          "    â”œâ”€â”€ testing.md",
          "    â””â”€â”€ code-style.md",
          "",
          "## Flagged for Deletion",
          "These instructions waste context tokens without providing value:"
        ]
      },
      {
        "input": "User wants to see the minimal root file result",
        "output": [
          "# CLAUDE.md (generated)",
          "",
          "React dashboard for real-time analytics visualization.",
          "",
          "## Quick Reference",
          "- **Package Manager:** pnpm",
          "- **Build:** `pnpm build`",
          "- **Test:** `pnpm test`",
          "",
          "## Guidelines",
          "- [TypeScript](.claude/typescript.md)",
          "- [Testing](.claude/testing.md)",
          "- [Code Style](.claude/code-style.md)"
        ]
      }
    ],
    "best_practices": [
      "Commit current state before refactoring so you can review changes as a diff",
      "Resolve all contradictions before proceeding to avoid propagating conflicts",
      "Keep the root file under 50 lines - move anything not universal to linked files",
      "Delete vague or redundant instructions rather than keeping them"
    ],
    "anti_patterns": [
      "Keeping everything in the root file even when most instructions are rarely used",
      "Creating too many small files that fragment the documentation",
      "Including obvious or default behaviors that the agent already knows",
      "Not testing the refactored structure with actual tasks to verify it works"
    ],
    "faq": [
      {
        "question": "Does this skill modify my files directly?",
        "answer": "No. The skill analyzes your files and generates a refactoring plan with templates. You review and apply the changes yourself."
      },
      {
        "question": "How long should my root file be after refactoring?",
        "answer": "Aim for under 50 lines. The root should only contain instructions that apply to 100% of tasks, like project description and build commands."
      },
      {
        "question": "How many linked files should I create?",
        "answer": "Target 3-8 linked files. Too few creates bloated files, too many creates navigation overhead. Group related topics together."
      },
      {
        "question": "What instructions should I delete?",
        "answer": "Delete redundant instructions (agent already knows), vague instructions (not actionable), obvious advice (don't introduce bugs), and outdated references."
      },
      {
        "question": "Can I use this for COPILOT.md or other formats?",
        "answer": "Yes. The skill works with any agent instruction file format including CLAUDE.md, AGENTS.md, COPILOT.md, and similar."
      },
      {
        "question": "How do I verify the refactoring worked?",
        "answer": "Test with typical tasks to ensure the agent can find needed instructions. Check that all links work and no important instructions were lost."
      }
    ]
  },
  "file_structure": [
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md",
      "lines": 228
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 288
    }
  ]
}
