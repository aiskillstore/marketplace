{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T00:07:35.559Z",
    "slug": "database-tycoon-snowtower-admin",
    "source_url": "https://github.com/Database-Tycoon/SnowTower/tree/main/.claude/skills/snowtower-admin",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "43a01f6593da49c3fd04be6af54af83838e451d4e8409aa59e021d9f6bf97a45",
    "tree_hash": "7c8967335837fcf5ad5751ca64fe75adcfb92c3d1ee25650ac906c844566aa44"
  },
  "skill": {
    "name": "snowtower-admin",
    "description": "Advanced skill for SnowTower infrastructure administrators. Use for SnowDDL operations, user provisioning, role management, CI/CD deployments, troubleshooting, and Snowflake administration. Triggers on mentions of snowddl, deploy, user creation, role grants, infrastructure changes, or admin operations.",
    "summary": "Advanced skill for SnowTower infrastructure administrators. Use for SnowDDL operations, user provisi...",
    "icon": "üèîÔ∏è",
    "version": "1.0.0",
    "author": "Database-Tycoon",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "snowflake",
      "snowddl",
      "infrastructure",
      "database",
      "admin"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure documentation skill containing only markdown documentation and YAML configuration examples. No executable code, scripts, or command execution capabilities exist. The static scanner flagged 110 patterns, but all are false positives caused by documentation examples that mimic admin operations (bash commands, RSA keys, network policies). There is no actual network access, file system modification, or credential exfiltration in this skill.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 356,
            "line_end": 356
          },
          {
            "file": "SKILL.md",
            "line_start": 357,
            "line_end": 357
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 127,
            "line_end": 127
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 436,
            "line_end": 436
          },
          {
            "file": "SKILL.md",
            "line_start": 436,
            "line_end": 436
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 36
          },
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 36
          },
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 53
          },
          {
            "file": "SKILL.md",
            "line_start": 53,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 63
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 77
          },
          {
            "file": "SKILL.md",
            "line_start": 77,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 82
          },
          {
            "file": "SKILL.md",
            "line_start": 82,
            "line_end": 97
          },
          {
            "file": "SKILL.md",
            "line_start": 97,
            "line_end": 100
          },
          {
            "file": "SKILL.md",
            "line_start": 100,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 113
          },
          {
            "file": "SKILL.md",
            "line_start": 113,
            "line_end": 117
          },
          {
            "file": "SKILL.md",
            "line_start": 117,
            "line_end": 129
          },
          {
            "file": "SKILL.md",
            "line_start": 129,
            "line_end": 133
          },
          {
            "file": "SKILL.md",
            "line_start": 133,
            "line_end": 143
          },
          {
            "file": "SKILL.md",
            "line_start": 143,
            "line_end": 151
          },
          {
            "file": "SKILL.md",
            "line_start": 151,
            "line_end": 155
          },
          {
            "file": "SKILL.md",
            "line_start": 155,
            "line_end": 159
          },
          {
            "file": "SKILL.md",
            "line_start": 159,
            "line_end": 161
          },
          {
            "file": "SKILL.md",
            "line_start": 161,
            "line_end": 165
          },
          {
            "file": "SKILL.md",
            "line_start": 165,
            "line_end": 166
          },
          {
            "file": "SKILL.md",
            "line_start": 166,
            "line_end": 176
          },
          {
            "file": "SKILL.md",
            "line_start": 176,
            "line_end": 178
          },
          {
            "file": "SKILL.md",
            "line_start": 178,
            "line_end": 179
          },
          {
            "file": "SKILL.md",
            "line_start": 179,
            "line_end": 190
          },
          {
            "file": "SKILL.md",
            "line_start": 190,
            "line_end": 198
          },
          {
            "file": "SKILL.md",
            "line_start": 198,
            "line_end": 211
          },
          {
            "file": "SKILL.md",
            "line_start": 211,
            "line_end": 215
          },
          {
            "file": "SKILL.md",
            "line_start": 215,
            "line_end": 225
          },
          {
            "file": "SKILL.md",
            "line_start": 225,
            "line_end": 231
          },
          {
            "file": "SKILL.md",
            "line_start": 231,
            "line_end": 232
          },
          {
            "file": "SKILL.md",
            "line_start": 232,
            "line_end": 242
          },
          {
            "file": "SKILL.md",
            "line_start": 242,
            "line_end": 243
          },
          {
            "file": "SKILL.md",
            "line_start": 243,
            "line_end": 243
          },
          {
            "file": "SKILL.md",
            "line_start": 243,
            "line_end": 244
          },
          {
            "file": "SKILL.md",
            "line_start": 244,
            "line_end": 245
          },
          {
            "file": "SKILL.md",
            "line_start": 245,
            "line_end": 249
          },
          {
            "file": "SKILL.md",
            "line_start": 249,
            "line_end": 270
          },
          {
            "file": "SKILL.md",
            "line_start": 270,
            "line_end": 274
          },
          {
            "file": "SKILL.md",
            "line_start": 274,
            "line_end": 282
          },
          {
            "file": "SKILL.md",
            "line_start": 282,
            "line_end": 295
          },
          {
            "file": "SKILL.md",
            "line_start": 295,
            "line_end": 301
          },
          {
            "file": "SKILL.md",
            "line_start": 301,
            "line_end": 305
          },
          {
            "file": "SKILL.md",
            "line_start": 305,
            "line_end": 314
          },
          {
            "file": "SKILL.md",
            "line_start": 314,
            "line_end": 318
          },
          {
            "file": "SKILL.md",
            "line_start": 318,
            "line_end": 330
          },
          {
            "file": "SKILL.md",
            "line_start": 330,
            "line_end": 335
          },
          {
            "file": "SKILL.md",
            "line_start": 335,
            "line_end": 335
          },
          {
            "file": "SKILL.md",
            "line_start": 335,
            "line_end": 352
          },
          {
            "file": "SKILL.md",
            "line_start": 352,
            "line_end": 359
          },
          {
            "file": "SKILL.md",
            "line_start": 359,
            "line_end": 365
          },
          {
            "file": "SKILL.md",
            "line_start": 365,
            "line_end": 375
          },
          {
            "file": "SKILL.md",
            "line_start": 375,
            "line_end": 379
          },
          {
            "file": "SKILL.md",
            "line_start": 379,
            "line_end": 388
          },
          {
            "file": "SKILL.md",
            "line_start": 388,
            "line_end": 397
          },
          {
            "file": "SKILL.md",
            "line_start": 397,
            "line_end": 401
          },
          {
            "file": "SKILL.md",
            "line_start": 401,
            "line_end": 410
          },
          {
            "file": "SKILL.md",
            "line_start": 410,
            "line_end": 418
          },
          {
            "file": "SKILL.md",
            "line_start": 418,
            "line_end": 419
          },
          {
            "file": "SKILL.md",
            "line_start": 419,
            "line_end": 420
          },
          {
            "file": "SKILL.md",
            "line_start": 420,
            "line_end": 421
          },
          {
            "file": "SKILL.md",
            "line_start": 421,
            "line_end": 422
          },
          {
            "file": "SKILL.md",
            "line_start": 422,
            "line_end": 423
          },
          {
            "file": "SKILL.md",
            "line_start": 423,
            "line_end": 424
          },
          {
            "file": "SKILL.md",
            "line_start": 424,
            "line_end": 430
          },
          {
            "file": "SKILL.md",
            "line_start": 430,
            "line_end": 431
          },
          {
            "file": "SKILL.md",
            "line_start": 431,
            "line_end": 438
          },
          {
            "file": "SKILL.md",
            "line_start": 438,
            "line_end": 446
          },
          {
            "file": "SKILL.md",
            "line_start": 446,
            "line_end": 452
          },
          {
            "file": "SKILL.md",
            "line_start": 452,
            "line_end": 456
          },
          {
            "file": "SKILL.md",
            "line_start": 456,
            "line_end": 465
          },
          {
            "file": "SKILL.md",
            "line_start": 465,
            "line_end": 469
          },
          {
            "file": "SKILL.md",
            "line_start": 469,
            "line_end": 475
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 436,
            "line_end": 436
          },
          {
            "file": "SKILL.md",
            "line_start": 464,
            "line_end": 464
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 651,
    "audit_model": "claude",
    "audited_at": "2026-01-17T00:07:35.559Z"
  },
  "content": {
    "user_title": "Manage Snowflake Infrastructure with SnowDDL",
    "value_statement": "Managing Snowflake infrastructure manually is error-prone and time-consuming. This skill provides automated workflows for deployments, user provisioning, role management, and cost optimization through Infrastructure as Code principles.",
    "seo_keywords": [
      "Snowflake administration",
      "SnowDDL",
      "Infrastructure as Code",
      "database management",
      "Snowflake DevOps",
      "role management",
      "CI/CD for databases",
      "Claude Code",
      "cloud infrastructure",
      "data warehouse"
    ],
    "actual_capabilities": [
      "Preview and apply SnowDDL infrastructure changes with safe deployment workflow",
      "Create and manage Snowflake users with RSA key authentication and password encryption",
      "Define business and technical roles with granular permission grants",
      "Configure warehouses, databases, schemas, and network policies via YAML",
      "Analyze costs and manage warehouse operations including emergency suspension",
      "Troubleshoot authentication failures, schema drift, and deployment issues"
    ],
    "limitations": [
      "Requires pre-configured SnowTower project with SnowDDL installed",
      "Needs ACCOUNTADMIN role for full administrative operations",
      "Cannot modify objects outside the defined SnowDDL YAML structure",
      "Does not provide direct SQL query execution without Snowflake CLI"
    ],
    "use_cases": [
      {
        "target_user": "Infrastructure administrators",
        "title": "Deploy Infrastructure Changes",
        "description": "Preview SnowDDL plan output, verify CREATE/ALTER/DROP statements, and apply changes safely with schema grant preservation."
      },
      {
        "target_user": "Security administrators",
        "title": "Manage User Lifecycle",
        "description": "Create new users with encrypted passwords, RSA public keys, assign roles, and audit MFA compliance before the 2026 deadline."
      },
      {
        "target_user": "DevOps engineers",
        "title": "Automate CI/CD Pipelines",
        "description": "Validate YAML changes via PR, run pre-commit linting and tests, create releases through GitHub Actions workflows."
      }
    ],
    "prompt_templates": [
      {
        "title": "Preview Infrastructure Changes",
        "scenario": "Check what SnowDDL will do",
        "prompt": "Run snowddl-plan to preview all infrastructure changes. Show me the CREATE, ALTER, DROP, and REVOKE statements that will be executed."
      },
      {
        "title": "Create New User",
        "scenario": "Provision a service account",
        "prompt": "Create a new Snowflake SERVICE user called DATA_PIPELINE with ANALYST_ROLE and generate the required YAML configuration with RSA key authentication."
      },
      {
        "title": "Check MFA Compliance",
        "scenario": "Audit security status",
        "prompt": "List all human users without MFA registration and show their last login date. Flag anyone who has not logged in during the last 90 days."
      },
      {
        "title": "Suspend Warehouses",
        "scenario": "Emergency cost control",
        "prompt": "Suspend all Snowflake warehouses immediately to stop cost accumulation. Report which warehouses were suspended and their last activity timestamp."
      }
    ],
    "output_examples": [
      {
        "input": "Preview infrastructure changes for user creation",
        "output": [
          "Plan Preview Results:",
          "‚úì [APPLY] CREATE USER \"ANALYST_NEW\" WITH parameters...",
          "‚úì [APPLY] GRANT ROLE \"ANALYST_ROLE__B_ROLE\" TO USER \"ANALYST_NEW\"",
          "‚úì [APPLY] GRANT WAREHOUSE \"MAIN_WAREHOUSE\" TO USER \"ANALYST_NEW\"",
          "‚úì [APPLY] ALTER USER \"ANALYST_NEW\" SET RSA_PUBLIC_KEY_FP=\"SHA256:...\"",
          "",
          "Summary: 4 objects will be created, 0 modified, 0 dropped",
          "Review complete. Ready to apply with deploy-safe."
        ]
      },
      {
        "input": "Create a new developer user",
        "output": [
          "New user configuration generated:",
          "User: DEV_USER",
          "Type: PERSON (MFA required)",
          "Default Role: DEVELOPER_ROLE__B_ROLE",
          "Default Warehouse: DEV_WAREHOUSE",
          "",
          "Add this to snowddl/user.yaml:",
          "DEV_USER:",
          "  comment: \"Developer - Engineering Team\"",
          "  type: PERSON",
          "  default_role: DEVELOPER_ROLE__B_ROLE",
          "  default_warehouse: DEV_WAREHOUSE",
          "  email: dev@company.com"
        ]
      },
      {
        "input": "Check warehouse costs",
        "output": [
          "Warehouse Usage Report:",
          "MAIN_WAREHOUSE: $1,234.56 (7 days)",
          "ANALYTICS_WAREHOUSE: $567.89 (7 days)",
          "DEV_WAREHOUSE: $45.00 (7 days)",
          "",
          "Top queries by compute time:",
          "1. Daily ETL job - 45% of compute",
          "2. Report generation - 23% of compute",
          "3. Ad-hoc analysis - 12% of compute"
        ]
      }
    ],
    "best_practices": [
      "Always run snowddl-plan before applying changes to review all CREATE, ALTER, DROP, and REVOKE operations",
      "Use deploy-safe instead of raw snowddl-apply to preserve schema-level grants for dbt and other tools",
      "Store encrypted passwords using the !decrypt YAML tag and Fernet encryption for sensitive credentials"
    ],
    "anti_patterns": [
      "Never apply SnowDDL changes directly in production without reviewing the plan output first",
      "Avoid modifying admin roles (ACCOUNTADMIN, SECURITYADMIN) without explicit approval",
      "Do not skip MFA enforcement for human users - the 2026 deadline requires compliance"
    ],
    "faq": [
      {
        "question": "What permissions are needed to run SnowDDL operations?",
        "answer": "ACCOUNTADMIN role is required to see all grants and manage objects across all schemas and databases."
      },
      {
        "question": "How does deploy-safe differ from snowddl-apply?",
        "answer": "deploy-safe preserves schema-level grants that SnowDDL would otherwise revoke, preventing dbt from losing permissions."
      },
      {
        "question": "Can I create users without interactive prompts?",
        "answer": "Yes, use uv run manage-users create with --first-name, --last-name, --email, and --role flags for non-interactive provisioning."
      },
      {
        "question": "Is my sensitive data at risk when using this skill?",
        "answer": "No. This skill only modifies Snowflake configurations defined in your YAML files. It does not access or exfiltrate data from your tables."
      },
      {
        "question": "Why does the plan show hundreds of REVOKE statements?",
        "answer": "Schema grants from dbt or manual changes are not tracked in YAML. Use deploy-safe to auto-apply schema grants after deployment."
      },
      {
        "question": "What encryption is used for passwords?",
        "answer": "SnowDDL uses Fernet symmetric encryption (AES-128) with the !decrypt YAML tag to securely store encrypted passwords in configuration files."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 476
    }
  ]
}
