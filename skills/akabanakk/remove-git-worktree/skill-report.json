{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T15:18:55.661Z",
    "slug": "akabanakk-remove-git-worktree",
    "source_url": "https://github.com/AKABANAKK/claude-code-marketplace/tree/main/akb7/skills/remove-git-worktree",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "08eb6db13f4cfb3b6430e29ae37fb2c7cb6e26ba38e04170072f82e3d3a0f556",
    "tree_hash": "af599981f70464d2829e2488e2efb602fdde86dbeae4d4d8af753461b9dff672"
  },
  "skill": {
    "name": "remove-git-worktree",
    "description": "Removes Git worktrees and associated branches. Useful for cleanup after finishing work or when worktrees were created by mistake.",
    "summary": "Clean up Git worktrees and branches with automated removal script",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "AKABANAKK",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "git",
      "worktree",
      "cleanup",
      "branch-management",
      "devops"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill executes git commands and filesystem operations to remove worktrees. All detected patterns are false positives - the shell commands are legitimate git operations, path traversal is intentional for worktree directory structure, and detected URLs are metadata only. The script properly validates input and checks for worktree existence before removal.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 12,
            "line_end": 12
          },
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 13,
            "line_end": 13
          },
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 14,
            "line_end": 14
          },
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 28,
            "line_end": 29
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 15,
            "line_end": 15
          },
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 20,
            "line_end": 23
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Git Branch Deletion Without Confirmation",
        "description": "The script deletes branches using git branch -D without explicit user confirmation. While this is the intended behavior for cleanup, users should be aware that deleted branches cannot be easily recovered unless they were pushed to remote.",
        "locations": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 28,
            "line_end": 30
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 346,
    "audit_model": "claude",
    "audited_at": "2026-01-21T15:18:55.661Z"
  },
  "content": {
    "user_title": "Remove Git Worktrees and Branches Safely",
    "value_statement": "Managing multiple Git worktrees can clutter your workspace. This skill automates the removal of worktrees and their associated branches with proper validation.",
    "seo_keywords": [
      "Claude",
      "Claude Code",
      "Codex",
      "git worktree",
      "git cleanup",
      "branch management",
      "git automation",
      "repository cleanup",
      "development workflow",
      "git tools"
    ],
    "actual_capabilities": [
      "Removes Git worktrees by branch name with automatic path resolution",
      "Deletes associated local branches after worktree removal",
      "Validates worktree existence before attempting removal",
      "Constructs worktree paths following standard naming conventions",
      "Provides clear error messages when worktrees are not found"
    ],
    "limitations": [
      "Only works with worktrees created in the standard location pattern",
      "Cannot recover deleted branches that were not pushed to remote",
      "Requires manual execution for each worktree to be removed",
      "Does not handle worktrees with uncommitted changes differently"
    ],
    "use_cases": [
      {
        "title": "Post-Feature Development Cleanup",
        "description": "After merging a feature branch, developers can quickly remove the worktree and branch to keep their workspace clean.",
        "target_user": "Software developers working on feature branches"
      },
      {
        "title": "Correcting Worktree Creation Mistakes",
        "description": "When a worktree is created with incorrect parameters or in the wrong location, this skill removes it cleanly without manual directory deletion.",
        "target_user": "Developers learning Git worktree workflows"
      },
      {
        "title": "Batch Workspace Maintenance",
        "description": "During regular workspace maintenance, teams can systematically remove obsolete worktrees for completed or abandoned features.",
        "target_user": "Development teams maintaining shared repositories"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Worktree Removal",
        "prompt": "Remove the worktree for branch feature/user-auth",
        "scenario": "Simple cleanup of a single completed feature branch"
      },
      {
        "title": "Remove Multiple Worktrees",
        "prompt": "Remove worktrees for branches feature/login, feature/signup, and bugfix/header",
        "scenario": "Cleaning up multiple completed work items at once"
      },
      {
        "title": "Remove Worktree After Merge",
        "prompt": "I just merged the feature/payment-integration branch. Remove its worktree and local branch.",
        "scenario": "Post-merge cleanup workflow"
      },
      {
        "title": "Check and Remove Stale Worktrees",
        "prompt": "List all my worktrees, identify any that are no longer needed, and remove them",
        "scenario": "Comprehensive workspace audit and cleanup"
      }
    ],
    "output_examples": [
      {
        "input": "Remove the worktree for branch feature/new-ui",
        "output": "Removing worktree for branch: feature/new-ui\nWorktree path: /path/to/repo/../repo-worktrees/feature-new-ui\nWorktree removed.\nBranch 'feature/new-ui' deleted.\nDone."
      },
      {
        "input": "Remove worktree for bugfix/header-issue",
        "output": "Removing worktree for branch: bugfix/header-issue\nWorktree path: /path/to/repo/../repo-worktrees/bugfix-header-issue\nWorktree removed.\nBranch 'bugfix/header-issue' deleted.\nDone."
      }
    ],
    "best_practices": [
      "Always verify the branch has been merged or pushed to remote before removing the worktree to avoid losing work",
      "Use this skill as part of your regular workspace cleanup routine after completing features or bug fixes",
      "Ensure you are in the main repository when executing the removal to avoid path resolution errors"
    ],
    "anti_patterns": [
      "Removing worktrees with uncommitted changes without first saving or committing the work",
      "Deleting worktrees for active development branches that are still in progress",
      "Using this skill without understanding the worktree path conventions used in your project"
    ],
    "faq": [
      {
        "question": "What happens to uncommitted changes in the worktree?",
        "answer": "Git will prevent removal if there are uncommitted changes. You must commit, stash, or discard changes before removal."
      },
      {
        "question": "Can I recover a branch after using this skill?",
        "answer": "Local branches deleted by this skill can only be recovered from remote if they were pushed. Use git reflog for recent deletions."
      },
      {
        "question": "Where does this skill look for worktrees?",
        "answer": "It follows the pattern repository-worktrees/branch-name in a sibling directory to your main repository."
      },
      {
        "question": "Will this remove worktrees created manually in different locations?",
        "answer": "No, this skill only works with worktrees following the standard naming convention in the expected location."
      },
      {
        "question": "Does this skill affect the remote repository?",
        "answer": "No, it only removes local worktrees and local branches. Remote branches remain unchanged."
      },
      {
        "question": "Can I use this with Claude Code to automate cleanup?",
        "answer": "Yes, Claude Code can execute this skill to remove worktrees as part of your development workflow automation."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "remove-worktree.sh",
          "type": "file",
          "path": "scripts/remove-worktree.sh",
          "lines": 36
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 16
    }
  ]
}
