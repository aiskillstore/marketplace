{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T22:32:50.813Z",
    "slug": "clouder0-verify-output",
    "source_url": "https://github.com/Clouder0/dotagent/tree/main/.claude/skills/verify-output",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "be580bcadacfb5ebf0460f40eb5f2dbb628d7ff51429c6b3127c5f008d2891ce",
    "tree_hash": "243197d02f6cad3e438d0904e042b1d8a6dcdf69b404e8b2b9d5087952a1cd60"
  },
  "skill": {
    "name": "verify-output",
    "description": "Pattern for verifying your output matches required schema before completing. Use before writing final output to ensure validity.",
    "summary": "Pattern for verifying your output matches required schema before completing. Use before writing fina...",
    "icon": "âœ…",
    "version": "1.0.0",
    "author": "Clouder0",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "schema",
      "validation",
      "json",
      "output",
      "quality"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill describing a JSON validation pattern. No executable code, scripts, or network calls exist. All static findings are false positives: 'weak cryptographic algorithm' flags are actually schema name strings (demand, design, task-output, etc.); 'shell backtick execution' flags are markdown code formatting; 'system reconnaissance' flags are documentation file path examples. The validate.sh script referenced in documentation does not exist in the directory.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": []
      },
      {
        "factor": "network",
        "evidence": []
      },
      {
        "factor": "filesystem",
        "evidence": []
      },
      {
        "factor": "external_commands",
        "evidence": []
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 365,
    "audit_model": "claude",
    "audited_at": "2026-01-16T22:32:50.812Z"
  },
  "content": {
    "user_title": "Validate JSON output against schemas",
    "value_statement": "Agents produce inconsistent output that fails downstream validation. This skill provides a standardized pattern for validating structured JSON against defined schemas before writing final output, ensuring data quality.",
    "seo_keywords": [
      "schema validation",
      "JSON validation",
      "Claude Code skill",
      "structured output",
      "data validation",
      "Claude",
      "Codex",
      "Claude Code",
      "output quality",
      "agent patterns"
    ],
    "actual_capabilities": [
      "Validates JSON output against 7 schema types (demand, design, task-output, verification, reflection, evolution-proposal, contract)",
      "Provides 5-step validation workflow pattern",
      "Lists common validation errors and fixes",
      "Enforces compact JSON output format (single line)",
      "Requires mandatory fields: knowledge_updates and reflection",
      "Implements retry logic with max 3 attempts"
    ],
    "limitations": [
      "Does not include the actual validate.sh script implementation",
      "Only documents the pattern, does not execute validation",
      "Requires external schema files to exist",
      "Cannot validate without specified schema name and file path"
    ],
    "use_cases": [
      {
        "target_user": "AI Agents",
        "title": "Pre-write output validation",
        "description": "Agents validate structured JSON output against schema before committing to prevent downstream processing failures."
      },
      {
        "target_user": "Developers",
        "title": "Enforce output standards",
        "description": "Teams enforce consistent output format across multiple agent types with mandatory fields and compact JSON."
      },
      {
        "target_user": "Architects",
        "title": "Quality gate for reports",
        "description": "Validate design documents and evolution proposals meet schema requirements before submission."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic validation",
        "scenario": "Validate output before writing",
        "prompt": "Use the verify-output skill to validate my output against the task-output schema before writing to memory/tasks/{id}/output.json."
      },
      {
        "title": "Schema selection",
        "scenario": "Choose correct schema",
        "prompt": "I am a Reflector agent. Which schema should I use to validate my reflection output? Show the validation command."
      },
      {
        "title": "Error handling",
        "scenario": "Fix validation errors",
        "prompt": "My validation failed with 'X is a required property'. What fields am I missing for the design schema?"
      },
      {
        "title": "Retry pattern",
        "scenario": "Implement retry logic",
        "prompt": "Show me the complete pre-write validation pattern with retry logic up to 3 attempts for my implementation output."
      }
    ],
    "output_examples": [
      {
        "input": "Validate my output against the reflection schema",
        "output": [
          "Schema: reflection.schema.json",
          "Step 1: Write to memory/reflections/output.json.tmp",
          "Step 2: Run ./scripts/validate.sh reflection memory/reflections/output.json.tmp",
          "Step 3: If valid, move to final location",
          "Step 4: If invalid, read errors, fix, retry (max 3x)",
          "Required fields: knowledge_updates[], reflection{} with what_worked[], what_failed[], patterns_noticed[]"
        ]
      }
    ],
    "best_practices": [
      "Write to .tmp file first, validate, then move to final location",
      "Use compact JSON format (single line, no whitespace)",
      "Always include knowledge_updates and reflection fields, even if empty",
      "Implement retry logic with maximum 3 attempts before reporting failure"
    ],
    "anti_patterns": [
      "Skipping validation and writing directly to final output path",
      "Using pretty-printed JSON with indentation instead of compact format",
      "Omitting required nested fields like reflection.what_worked",
      "Using invalid enum values not defined in the schema"
    ],
    "faq": [
      {
        "question": "Which schema should I use for my agent type?",
        "answer": "PM agents use demand, Architects use design, Implementers use task-output, Verifiers use verification, Reflectors use reflection, Evolvers use evolution-proposal."
      },
      {
        "question": "What happens if validation fails?",
        "answer": "Read the validation errors, fix the output, and retry. Maximum 3 retry attempts before reporting validation failure."
      },
      {
        "question": "Can I skip mandatory fields?",
        "answer": "No. knowledge_updates and reflection fields are required for all agent outputs. Empty arrays [] are valid substitutes."
      },
      {
        "question": "Is my data safe during validation?",
        "answer": "Yes. Validation is read-only. Data is only written after validation passes, using a temporary file pattern."
      },
      {
        "question": "Why does my JSON fail validation?",
        "answer": "Common causes: missing required fields, wrong data types, invalid enum values, extra properties, or pretty-printed formatting."
      },
      {
        "question": "How is this different from manual JSON validation?",
        "answer": "This skill provides a standardized pattern with predefined schemas for specific agent roles, automated retry logic, and consistent output requirements."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 139
    }
  ]
}
