{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T15:56:01.550Z",
    "slug": "activeinferenceinstitute-python-testing-patterns",
    "source_url": "https://github.com/ActiveInferenceInstitute/Journal-Utilities/tree/main/.claude/skills/python-testing-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "dc473f2ccc2998bd05cbbf62bf790574025c503c49a7779dcf06e52abdb2a664",
    "tree_hash": "551ace4671adc4c639f3471d0bef518836f8a10281c821105d9b2117c20e942c"
  },
  "skill": {
    "name": "python-testing-patterns",
    "description": "Implement comprehensive testing strategies with pytest, fixtures, mocking, and test-driven development. Use when writing Python tests, setting up test suites, or implementing testing best practices.",
    "summary": "Implement comprehensive testing strategies with pytest, fixtures, mocking, and test-driven developme...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "ActiveInferenceInstitute",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "pytest",
      "testing",
      "python",
      "tdd",
      "test-driven-development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing educational markdown content about Python testing patterns. The file contains example code snippets for teaching purposes but no executable code that performs network calls, file system access, environment variable manipulation, or command execution. All 'findings' from the static analyzer are false positives caused by the analyzer misinterpreting markdown code fence delimiters as Ruby backticks, and test placeholder strings as actual secrets.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 113,
            "line_end": 113
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 268,
            "line_end": 268
          },
          {
            "file": "SKILL.md",
            "line_start": 274,
            "line_end": 274
          },
          {
            "file": "SKILL.md",
            "line_start": 287,
            "line_end": 287
          },
          {
            "file": "SKILL.md",
            "line_start": 300,
            "line_end": 300
          },
          {
            "file": "SKILL.md",
            "line_start": 302,
            "line_end": 302
          },
          {
            "file": "SKILL.md",
            "line_start": 303,
            "line_end": 303
          },
          {
            "file": "SKILL.md",
            "line_start": 307,
            "line_end": 307
          },
          {
            "file": "SKILL.md",
            "line_start": 281,
            "line_end": 281
          },
          {
            "file": "SKILL.md",
            "line_start": 292,
            "line_end": 292
          },
          {
            "file": "SKILL.md",
            "line_start": 297,
            "line_end": 297
          },
          {
            "file": "SKILL.md",
            "line_start": 310,
            "line_end": 310
          },
          {
            "file": "SKILL.md",
            "line_start": 383,
            "line_end": 383
          },
          {
            "file": "SKILL.md",
            "line_start": 384,
            "line_end": 384
          },
          {
            "file": "SKILL.md",
            "line_start": 889,
            "line_end": 889
          },
          {
            "file": "SKILL.md",
            "line_start": 890,
            "line_end": 890
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 48,
            "line_end": 63
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 69
          },
          {
            "file": "SKILL.md",
            "line_start": 69,
            "line_end": 125
          },
          {
            "file": "SKILL.md",
            "line_start": 125,
            "line_end": 129
          },
          {
            "file": "SKILL.md",
            "line_start": 129,
            "line_end": 201
          },
          {
            "file": "SKILL.md",
            "line_start": 201,
            "line_end": 205
          },
          {
            "file": "SKILL.md",
            "line_start": 205,
            "line_end": 250
          },
          {
            "file": "SKILL.md",
            "line_start": 250,
            "line_end": 254
          },
          {
            "file": "SKILL.md",
            "line_start": 254,
            "line_end": 322
          },
          {
            "file": "SKILL.md",
            "line_start": 322,
            "line_end": 326
          },
          {
            "file": "SKILL.md",
            "line_start": 326,
            "line_end": 363
          },
          {
            "file": "SKILL.md",
            "line_start": 363,
            "line_end": 369
          },
          {
            "file": "SKILL.md",
            "line_start": 369,
            "line_end": 411
          },
          {
            "file": "SKILL.md",
            "line_start": 411,
            "line_end": 415
          },
          {
            "file": "SKILL.md",
            "line_start": 415,
            "line_end": 459
          },
          {
            "file": "SKILL.md",
            "line_start": 459,
            "line_end": 463
          },
          {
            "file": "SKILL.md",
            "line_start": 463,
            "line_end": 513
          },
          {
            "file": "SKILL.md",
            "line_start": 513,
            "line_end": 517
          },
          {
            "file": "SKILL.md",
            "line_start": 517,
            "line_end": 569
          },
          {
            "file": "SKILL.md",
            "line_start": 569,
            "line_end": 573
          },
          {
            "file": "SKILL.md",
            "line_start": 573,
            "line_end": 615
          },
          {
            "file": "SKILL.md",
            "line_start": 615,
            "line_end": 621
          },
          {
            "file": "SKILL.md",
            "line_start": 621,
            "line_end": 633
          },
          {
            "file": "SKILL.md",
            "line_start": 633,
            "line_end": 637
          },
          {
            "file": "SKILL.md",
            "line_start": 637,
            "line_end": 665
          },
          {
            "file": "SKILL.md",
            "line_start": 665,
            "line_end": 669
          },
          {
            "file": "SKILL.md",
            "line_start": 669,
            "line_end": 708
          },
          {
            "file": "SKILL.md",
            "line_start": 708,
            "line_end": 712
          },
          {
            "file": "SKILL.md",
            "line_start": 712,
            "line_end": 727
          },
          {
            "file": "SKILL.md",
            "line_start": 727,
            "line_end": 731
          },
          {
            "file": "SKILL.md",
            "line_start": 731,
            "line_end": 800
          },
          {
            "file": "SKILL.md",
            "line_start": 800,
            "line_end": 804
          },
          {
            "file": "SKILL.md",
            "line_start": 804,
            "line_end": 839
          },
          {
            "file": "SKILL.md",
            "line_start": 839,
            "line_end": 843
          },
          {
            "file": "SKILL.md",
            "line_start": 843,
            "line_end": 861
          },
          {
            "file": "SKILL.md",
            "line_start": 861,
            "line_end": 863
          },
          {
            "file": "SKILL.md",
            "line_start": 863,
            "line_end": 885
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 422,
            "line_end": 422
          },
          {
            "file": "SKILL.md",
            "line_start": 434,
            "line_end": 434
          },
          {
            "file": "SKILL.md",
            "line_start": 458,
            "line_end": 458
          },
          {
            "file": "SKILL.md",
            "line_start": 181,
            "line_end": 181
          },
          {
            "file": "SKILL.md",
            "line_start": 420,
            "line_end": 420
          },
          {
            "file": "SKILL.md",
            "line_start": 422,
            "line_end": 422
          },
          {
            "file": "SKILL.md",
            "line_start": 425,
            "line_end": 425
          },
          {
            "file": "SKILL.md",
            "line_start": 428,
            "line_end": 428
          },
          {
            "file": "SKILL.md",
            "line_start": 432,
            "line_end": 432
          },
          {
            "file": "SKILL.md",
            "line_start": 434,
            "line_end": 434
          },
          {
            "file": "SKILL.md",
            "line_start": 435,
            "line_end": 435
          },
          {
            "file": "SKILL.md",
            "line_start": 438,
            "line_end": 438
          },
          {
            "file": "SKILL.md",
            "line_start": 440,
            "line_end": 440
          },
          {
            "file": "SKILL.md",
            "line_start": 441,
            "line_end": 441
          },
          {
            "file": "SKILL.md",
            "line_start": 523,
            "line_end": 523
          },
          {
            "file": "SKILL.md",
            "line_start": 529,
            "line_end": 529
          },
          {
            "file": "SKILL.md",
            "line_start": 532,
            "line_end": 532
          },
          {
            "file": "SKILL.md",
            "line_start": 182,
            "line_end": 182
          },
          {
            "file": "SKILL.md",
            "line_start": 448,
            "line_end": 448
          },
          {
            "file": "SKILL.md",
            "line_start": 450,
            "line_end": 450
          },
          {
            "file": "SKILL.md",
            "line_start": 451,
            "line_end": 451
          },
          {
            "file": "SKILL.md",
            "line_start": 457,
            "line_end": 457
          },
          {
            "file": "SKILL.md",
            "line_start": 458,
            "line_end": 458
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 1085,
    "audit_model": "claude",
    "audited_at": "2026-01-16T15:56:01.550Z"
  },
  "content": {
    "user_title": "Implement Python Tests with pytest Patterns",
    "value_statement": "Writing tests for Python code can be time-consuming and inconsistent without clear patterns. This skill provides ready-to-use pytest patterns for fixtures, mocking, async code, and TDD workflows to help you build reliable test suites quickly.",
    "seo_keywords": [
      "pytest patterns",
      "python testing",
      "claude code testing",
      "pytest fixtures",
      "mocking in python",
      "test driven development",
      "async testing python",
      "claude testing",
      "codex python tests",
      "python unit tests"
    ],
    "actual_capabilities": [
      "Write unit tests using pytest with AAA pattern",
      "Create reusable fixtures with setup and teardown",
      "Mock external dependencies with unittest.mock",
      "Test async code using pytest-asyncio",
      "Implement property-based testing with Hypothesis",
      "Configure test coverage reporting in CI/CD"
    ],
    "limitations": [
      "Does not execute tests or run test suites",
      "Does not integrate with specific test frameworks beyond providing patterns",
      "Does not generate test code from production code",
      "Requires user to implement patterns in their own project"
    ],
    "use_cases": [
      {
        "target_user": "Python Developer",
        "title": "Set Up Test Suite",
        "description": "Create new test infrastructure with fixtures, mocking, and coverage for Python projects."
      },
      {
        "target_user": "QA Engineer",
        "title": "Write Integration Tests",
        "description": "Build integration tests for APIs, databases, and external services using pytest patterns."
      },
      {
        "target_user": "DevOps Engineer",
        "title": "Configure CI/CD Tests",
        "description": "Set up automated testing pipelines with coverage reporting and test markers."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Unit Test",
        "scenario": "Write a simple unit test",
        "prompt": "Write a pytest unit test for a function called calculate_total that takes a list of prices and returns the sum with tax. Include test cases for normal input, empty list, and single item."
      },
      {
        "title": "Fixture Setup",
        "scenario": "Create test fixtures",
        "prompt": "Create a pytest fixture for database testing. The fixture should connect to an in-memory SQLite database, create tables, yield a session, then clean up after the test."
      },
      {
        "title": "Mock External API",
        "scenario": "Mock API calls",
        "prompt": "Write tests for an API client that fetches user data. Use unittest.mock patch to mock the requests.get call. Test both success and 404 error cases."
      },
      {
        "title": "Async Testing",
        "scenario": "Test async code",
        "prompt": "Write async tests for a function that fetches data from multiple URLs concurrently using asyncio.gather. Show how to use pytest-asyncio mark and fixtures with async setup."
      }
    ],
    "output_examples": [
      {
        "input": "Write a test for user authentication that checks login success and failure cases",
        "output": [
          "Test login success with valid credentials",
          "Test login failure with invalid password",
          "Test account lockout after multiple failed attempts",
          "Mock the database query to isolate authentication logic"
        ]
      },
      {
        "input": "Create a pytest fixture for testing file operations with temporary directories",
        "output": [
          "Use pytest tmp_path fixture for temporary directory",
          "Create test files with known content",
          "Verify file creation and deletion",
          "Clean up files after test completion"
        ]
      },
      {
        "input": "Set up property-based testing for a string manipulation function",
        "output": [
          "Use hypothesis.given with string strategies",
          "Test properties like reversibility",
          "Test length preservation across random inputs",
          "Generate hundreds of test cases automatically"
        ]
      }
    ],
    "best_practices": [
      "Use descriptive test names that explain what is being tested and expected outcome",
      "Keep tests independent with no shared state between test cases",
      "Test edge cases and error conditions, not just happy paths"
    ],
    "anti_patterns": [
      "Avoid testing multiple assertions in a single test when they could be separate tests",
      "Do not make tests depend on execution order or shared state",
      "Avoid hardcoding values that should come from fixtures or configuration"
    ],
    "faq": [
      {
        "question": "What Python versions are supported?",
        "answer": "Patterns work with Python 3.7+ and pytest 7.0+. Async patterns require pytest-asyncio."
      },
      {
        "question": "What is the maximum test complexity?",
        "answer": "Patterns support simple unit tests to complex integration tests with multiple fixtures and mocks."
      },
      {
        "question": "Can this integrate with existing test code?",
        "answer": "Yes, patterns are compatible with existing pytest setups and can be added incrementally."
      },
      {
        "question": "Is test data handled securely?",
        "answer": "Patterns use in-memory data and temporary files. No sensitive data is stored or transmitted."
      },
      {
        "question": "Why are my tests failing with import errors?",
        "answer": "Ensure pytest is installed, test files start with test_, and Python path includes your project root."
      },
      {
        "question": "How does this compare to unittest framework?",
        "answer": "pytest is more modern with fixtures, parametrize, and better assertions. Patterns here use pytest features unavailable in unittest."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 908
    }
  ]
}
