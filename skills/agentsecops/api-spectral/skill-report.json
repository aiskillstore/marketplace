{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:18:06.868Z",
    "slug": "agentsecops-api-spectral",
    "source_url": "https://github.com/AgentSecOps/SecOpsAgentKit/tree/main/skills/appsec/api-spectral",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "2f698fe58248cf806d613b344753e94352598a58974e55b3bc7bfdeb865416c9",
    "tree_hash": "d472f2266e83956ad202cb87b31f66a02db2104a5c5ad9d47bdffc83e1ab8c29"
  },
  "skill": {
    "name": "api-spectral",
    "description": "API specification linting and security validation using Stoplight's Spectral with support for OpenAPI, AsyncAPI, and Arazzo specifications. Validates API definitions against security best practices, OWASP API Security Top 10, and custom organizational standards. Use when: (1) Validating OpenAPI/AsyncAPI specifications for security issues and design flaws, (2) Enforcing API design standards and governance policies across API portfolios, (3) Creating custom security rules for API specifications in CI/CD pipelines, (4) Detecting authentication, authorization, and data exposure issues in API definitions, (5) Ensuring API specifications comply with organizational security standards and regulatory requirements.\n",
    "summary": "API specification linting and security validation using Stoplight's Spectral with support for OpenAP...",
    "icon": "üõ°Ô∏è",
    "version": "0.1.0",
    "author": "AgentSecOps",
    "license": "MIT",
    "category": "appsec",
    "tags": [
      "api-security",
      "openapi",
      "asyncapi",
      "linting",
      "spectral",
      "api-governance",
      "owasp-api",
      "specification-validation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing YAML configuration files and markdown guides for API security validation using Spectral. No executable scripts, no code execution paths, no network communications, and no file system modifications. All content is educational and procedural documentation for legitimate security tooling.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 3749,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:18:06.868Z"
  },
  "content": {
    "user_title": "Validate API specs against OWASP standards",
    "value_statement": "APIs often expose security vulnerabilities through misconfigured specifications. Spectral validates OpenAPI and AsyncAPI definitions against OWASP API Security Top 10, catching authentication flaws, authorization issues, and data exposure risks before deployment.",
    "seo_keywords": [
      "api security",
      "spectral",
      "openapi validation",
      "asyncapi security",
      "owasp api",
      "api linting",
      "claude code",
      "claude",
      "codex",
      "api specification"
    ],
    "actual_capabilities": [
      "Validate OpenAPI and AsyncAPI specifications against security rulesets",
      "Enforce OWASP API Security Top 10 compliance across API portfolios",
      "Create custom security rules for organization-specific standards",
      "Generate CI/CD integration workflows for automated API security scanning",
      "Map security findings to OWASP API1-API10 categories with remediation guidance"
    ],
    "limitations": [
      "Spectral must be installed separately via npm or Docker",
      "Only validates API specification files (YAML/JSON), not runtime API behavior",
      "Custom rules require YAML configuration knowledge",
      "Does not perform authentication or authorization testing against live APIs"
    ],
    "use_cases": [
      {
        "target_user": "API Developers",
        "title": "Validate API designs",
        "description": "Check OpenAPI specifications for security issues before writing implementation code"
      },
      {
        "target_user": "Security Engineers",
        "title": "Enforce security standards",
        "description": "Create and distribute organization-wide API security rulesets across development teams"
      },
      {
        "target_user": "DevSecOps Engineers",
        "title": "Automate security scanning",
        "description": "Integrate API specification validation into CI/CD pipelines with GitHub Actions or GitLab CI"
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick security scan",
        "scenario": "Scan an OpenAPI file",
        "prompt": "Use the api-spectral skill to scan my OpenAPI specification at [file path] for security issues. Report findings grouped by severity and map each to OWASP API Security Top 10 categories."
      },
      {
        "title": "Create custom ruleset",
        "scenario": "Build organization rules",
        "prompt": "Use the api-spectral skill to create a custom Spectral ruleset that requires HTTPS on all endpoints, prohibits HTTP Basic authentication, and mandates rate limiting headers for my API specifications."
      },
      {
        "title": "CI/CD integration",
        "scenario": "Set up pipeline scanning",
        "prompt": "Use the api-spectral skill to generate a GitHub Actions workflow that validates all OpenAPI files in api-specs/ directory against my OWASP ruleset on every pull request."
      },
      {
        "title": "Remediation guidance",
        "scenario": "Fix security findings",
        "prompt": "Use the api-spectral skill to analyze my Spectral scan results and provide specific remediation steps for each finding, including corrected YAML examples and references to relevant OWASP guidelines."
      }
    ],
    "output_examples": [
      {
        "input": "Scan my API specification for security issues",
        "output": [
          "üî¥ Critical Issues Found: 2",
          "  ‚Ä¢ Missing security scheme definition (OWASP API2:2023)",
          "  ‚Ä¢ HTTP Basic authentication detected (OWASP API2:2023)",
          "üü° Warnings: 5",
          "  ‚Ä¢ Server URL uses HTTP instead of HTTPS (OWASP API8:2023)",
          "  ‚Ä¢ No rate limiting headers documented (OWASP API4:2023)",
          "  ‚Ä¢ No pagination on list endpoint (OWASP API4:2023)",
          "üü¢ Compliant: 12 checks passed"
        ]
      }
    ],
    "best_practices": [
      "Integrate Spectral scanning in pre-commit hooks to catch issues before code review",
      "Start with error-severity rules only and progressively add warnings to reduce noise",
      "Version control your rulesets and require peer review for rule changes",
      "Map Spectral findings to OWASP API Security Top 10 for standardized risk reporting"
    ],
    "anti_patterns": [
      "Running Spectral only occasionally instead of on every API specification change",
      "Ignoring informational findings without reviewing their security context",
      "Using overly permissive rulesets that flag everything as a warning",
      "Committing API specifications with example.com server URLs to production repositories"
    ],
    "faq": [
      {
        "question": "What specifications does Spectral support?",
        "answer": "Spectral validates OpenAPI 2.x, 3.x, AsyncAPI 2.x, and Arazzo 1.0 specifications in YAML or JSON format."
      },
      {
        "question": "How do I install Spectral?",
        "answer": "Install via npm: npm install -g @stoplight/spectral-cli or use Docker: docker pull stoplight/spectral"
      },
      {
        "question": "Can I integrate Spectral into my CI/CD pipeline?",
        "answer": "Yes, Spectral supports JSON output and GitHub Actions format. Use --format json for machine output and --fail-severity error to fail builds."
      },
      {
        "question": "Does this skill execute any code on my system?",
        "answer": "No, this skill provides documentation and YAML templates only. You must install and run Spectral separately using npm or Docker."
      },
      {
        "question": "Why am I getting false positives?",
        "answer": "Reduce severity threshold with --fail-severity error initially. Use rule overrides to exclude specific paths or endpoints that have legitimate exceptions."
      },
      {
        "question": "How is this different from API security testing tools?",
        "answer": "Spectral validates API specifications (design-time), while tools like ZAP or Burp test running APIs (runtime). Use both for complete coverage."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "ci-config-template.yml",
          "type": "file",
          "path": "assets/ci-config-template.yml"
        },
        {
          "name": "github-actions-template.yml",
          "type": "file",
          "path": "assets/github-actions-template.yml"
        },
        {
          "name": "rule-template.yaml",
          "type": "file",
          "path": "assets/rule-template.yaml"
        },
        {
          "name": "spectral-owasp.yaml",
          "type": "file",
          "path": "assets/spectral-owasp.yaml"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "custom_rules_guide.md",
          "type": "file",
          "path": "references/custom_rules_guide.md"
        },
        {
          "name": "EXAMPLE.md",
          "type": "file",
          "path": "references/EXAMPLE.md"
        },
        {
          "name": "owasp_api_mappings.md",
          "type": "file",
          "path": "references/owasp_api_mappings.md"
        },
        {
          "name": "WORKFLOW_CHECKLIST.md",
          "type": "file",
          "path": "references/WORKFLOW_CHECKLIST.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
