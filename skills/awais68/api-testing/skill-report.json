{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T16:43:32.946Z",
    "slug": "awais68-api-testing",
    "source_url": "https://github.com/Awais68/hackathon-2-phase-ii-full-stack-web-app/tree/main/.claude/skills/api-testing",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "e4cd9033f7455494f41b1bbcc73c3c33e87dc988b43157e58b59c3464e102578",
    "tree_hash": "d014b1b907a728577cf834d7212b05f231eb27024e8d58def5ae75e6df589af5"
  },
  "skill": {
    "name": "api-testing",
    "description": "Use when writing tests for backend APIs or frontend flows.\nTriggers for: unit tests, integration tests, E2E tests, pytest fixtures,\nTestClient setup, mock data factories, or test coverage analysis.\nNOT for: testing business logic that doesn't involve API endpoints.\n",
    "summary": "Write comprehensive tests for FastAPI backends and React frontends",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "Awais68",
    "license": "MIT",
    "tags": [
      "pytest",
      "fastapi",
      "playwright",
      "integration-tests",
      "test-automation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. The scanner incorrectly flagged regex functions (re.match/re.search) as weak cryptographic algorithms. Environment variable references and hardcoded URLs are documentation examples for test configuration, not credential exposure. The skill follows standard API testing patterns with no malicious behavior.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 1597,
    "audit_model": "claude",
    "audited_at": "2026-01-21T16:43:32.946Z",
    "risk_factors": []
  },
  "content": {
    "user_title": "Write API Tests for FastAPI and React",
    "value_statement": "Developers struggle to create reliable tests for their APIs. This skill provides ready-to-use patterns for unit, integration, and E2E tests using pytest and Playwright.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "API testing",
      "pytest",
      "FastAPI testing",
      "Playwright",
      "integration tests",
      "end-to-end tests",
      "test automation"
    ],
    "actual_capabilities": [
      "Create pytest fixtures for FastAPI TestClient and database sessions",
      "Write unit tests for pure business logic and service functions",
      "Write integration tests for API endpoints with authentication",
      "Configure Playwright E2E tests for React/Next.js frontends",
      "Set up CI/CD test pipelines with coverage reporting",
      "Create test data fixtures in JSON format"
    ],
    "limitations": [
      "Does not generate tests for non-API code like pure frontend components",
      "Does not create load testing or performance benchmarks",
      "Does not set up test databases in production environments",
      "Does not generate tests for GraphQL APIs"
    ],
    "use_cases": [
      {
        "title": "Add tests to a new FastAPI endpoint",
        "description": "Create pytest fixtures and integration tests for a new student CRUD endpoint with authentication and validation.",
        "target_user": "Backend developers building REST APIs"
      },
      {
        "title": "Set up E2E tests for a React dashboard",
        "description": "Configure Playwright with Page Object Model for testing user flows like login, student creation, and filtering.",
        "target_user": "Full-stack developers with frontend components"
      },
      {
        "title": "Add tests to CI/CD pipeline",
        "description": "Create GitHub Actions workflow that runs backend pytest with coverage and frontend Playwright tests on each push.",
        "target_user": "DevOps engineers setting up automation"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic API test request",
        "prompt": "Write pytest tests for a FastAPI endpoint at GET /api/v1/users/{user_id} that returns user details. Include tests for success case and 404 not found.",
        "scenario": "Need simple unit tests for a single endpoint"
      },
      {
        "title": "Integration test with authentication",
        "prompt": "Create integration tests for the POST /api/v1/students endpoint. Use the TestClient fixture with Bearer token authentication. Test create success, unauthorized access, and validation errors.",
        "scenario": "Test authenticated endpoint with multiple scenarios"
      },
      {
        "title": "Complete test suite for module",
        "description": "Generate a complete test module for the fees API including conftest.py fixtures, unit tests for calculate_fee function, and integration tests for all fee endpoints.",
        "prompt": "Generate a complete test module for the fees API including conftest.py fixtures, unit tests for calculate_fee function, and integration tests for all fee endpoints.",
        "scenario": "Build full test coverage for a new module"
      },
      {
        "title": "E2E test with Page Object Model",
        "prompt": "Write Playwright E2E tests using Page Object Model for the student management feature. Include tests for login, create student, filter by grade, and view student details.",
        "scenario": "Create maintainable E2E tests for user workflows"
      }
    ],
    "output_examples": [
      {
        "input": "Write tests for GET /api/v1/students endpoint",
        "output": [
          "Test list students with pagination returns correct data",
          "Test unauthenticated request returns 401",
          "Test non-admin user can only see active students"
        ]
      },
      {
        "input": "Create pytest fixtures for FastAPI testing",
        "output": [
          "db_session fixture with automatic cleanup",
          "TestClient fixture with database override",
          "test_user fixture with hashed password",
          "auth_headers fixture with JWT token"
        ]
      },
      {
        "input": "Set up Playwright for React E2E testing",
        "output": [
          "playwright.config.ts with baseURL and retries",
          "StudentsPage Page Object with createStudent method",
          "test.describe block with beforeEach login"
        ]
      }
    ],
    "best_practices": [
      "Use pytest fixtures for shared setup to avoid code duplication",
      "Test both happy path and edge cases including validation errors",
      "Isolate tests with fresh database for each test function",
      "Use Page Object Model in Playwright for maintainable selectors"
    ],
    "anti_patterns": [
      "Hardcoding test data in individual test functions instead of fixtures",
      "Making tests depend on execution order or other tests",
      "Using production database credentials in test configuration",
      "Skipping cleanup of test data between test runs"
    ],
    "faq": [
      {
        "question": "What testing frameworks does this skill support?",
        "answer": "The skill supports pytest for Python/FastAPI backends and Playwright for TypeScript/React frontends. It also covers Cypress as an alternative E2E framework."
      },
      {
        "question": "How do I test authenticated endpoints?",
        "answer": "Create an auth_headers fixture that generates a JWT token using create_access_token. Pass these headers to TestClient requests for authenticated endpoints."
      },
      {
        "question": "Can this skill generate tests for GraphQL APIs?",
        "answer": "No, this skill focuses on REST APIs with FastAPI. For GraphQL, you would need a different skill or adapt the pytest patterns to use graphene-test-client."
      },
      {
        "question": "How do I run tests in CI?",
        "answer": "Use the provided GitHub Actions workflow example. It sets up Python/Node, installs dependencies, runs pytest with coverage, and optionally runs Playwright tests."
      },
      {
        "question": "Should I use an in-memory database for tests?",
        "answer": "Yes, use SQLite with StaticPool for isolation and speed. The conftest.py example shows how to create an in-memory database that resets for each test."
      },
      {
        "question": "What coverage targets should I aim for?",
        "answer": "Aim for 80%+ coverage on core modules and 90%+ on critical paths like authentication, payment processing, and data validation."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "verify.py",
          "type": "file",
          "path": "scripts/verify.py",
          "lines": 62
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 699
    }
  ]
}
