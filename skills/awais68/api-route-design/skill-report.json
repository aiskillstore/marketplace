{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T16:42:29.355Z",
    "slug": "awais68-api-route-design",
    "source_url": "https://github.com/Awais68/hackathon-2-phase-ii-full-stack-web-app/tree/main/.claude/skills/api-route-design",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "7a372ed9720f2f4903eb50583c3a612e151e93f9e50fb08981b5d83f3cfb3039",
    "tree_hash": "6477655f1219b1445c8aa074a3ada05382a637813c566b39014fb896fb84ab8c"
  },
  "skill": {
    "name": "api-route-design",
    "description": "Use when designing RESTful API endpoints in FastAPI or Python projects. Triggers for: creating GET/POST/PUT/DELETE endpoints, request validation with Pydantic, response formatting with JSON schemas, status code selection, pagination, filtering, or sorting parameters. NOT for: GraphQL APIs, WebSocket handlers, or non-RESTful endpoints.",
    "summary": "Design RESTful API endpoints in FastAPI with proper validation, response formatting, and HTTP semantics.",
    "icon": "ðŸ”—",
    "version": "1.0.0",
    "author": "Awais68",
    "license": "MIT",
    "tags": [
      "fastapi",
      "rest-api",
      "python",
      "api-design",
      "validation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 84 static findings evaluated as false positives. The skill is a legitimate FastAPI API design reference document containing documentation and a validation script. The scanner incorrectly flagged regex flags (re.MULTILINE, re.DOTALL) as crypto algorithms, markdown code backticks as shell execution, and HTTP status codes as weak crypto. No actual security risks present.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 1153,
    "audit_model": "claude",
    "audited_at": "2026-01-21T16:42:29.355Z",
    "risk_factors": []
  },
  "content": {
    "user_title": "Design RESTful APIs in FastAPI",
    "value_statement": "Designing API endpoints requires understanding of HTTP methods, validation patterns, and response standards. This skill provides expert guidance for building robust RESTful APIs in FastAPI with proper request validation, pagination, and consistent response formats.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "FastAPI",
      "REST API",
      "API design",
      "Python",
      "API routes",
      "request validation",
      "Pydantic"
    ],
    "actual_capabilities": [
      "Design RESTful API endpoints with proper HTTP methods (GET, POST, PUT, PATCH, DELETE)",
      "Implement request validation using Pydantic models with field constraints",
      "Create paginated endpoints with skip/limit parameters and has_more indicators",
      "Format consistent JSON responses with response models and error envelopes",
      "Select appropriate HTTP status codes for different operation outcomes",
      "Add query parameters for filtering, sorting, and status-based searches"
    ],
    "limitations": [
      "Does not cover GraphQL API design or WebSocket handlers",
      "Does not include authentication or authorization implementation details",
      "Does not address database schema design or ORM integration",
      "Focus is on FastAPI framework patterns; other frameworks require adaptation"
    ],
    "use_cases": [
      {
        "title": "Building a new REST API endpoint",
        "description": "Create a new GET endpoint to retrieve paginated resources with filtering options, proper status codes, and response modeling.",
        "target_user": "Backend developers adding new features to a FastAPI application"
      },
      {
        "title": "Validating API design consistency",
        "description": "Review existing endpoints to ensure they follow REST conventions, use correct status codes, and include proper request/response schemas.",
        "target_user": "Code reviewers and API architects"
      },
      {
        "title": "Learning FastAPI routing patterns",
        "description": "Understand standard patterns for defining routes, validating input, and structuring responses in FastAPI projects.",
        "target_user": "Developers new to FastAPI or Python web development"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create a simple GET endpoint",
        "prompt": "Create a FastAPI GET endpoint at /users/{user_id} that returns user details. Include path parameter validation, 404 handling when user is not found, and a response model for the user data.",
        "scenario": "You need to add a new endpoint to retrieve a single resource by ID"
      },
      {
        "title": "Build a paginated list endpoint",
        "prompt": "Design a FastAPI GET endpoint at /items/ that returns a paginated list of items. Include skip and limit query parameters, filtering by status, sorting options, and a PaginatedResponse wrapper with has_more indicator.",
        "scenario": "Creating a list endpoint with pagination, filtering, and sorting"
      },
      {
        "title": "Implement POST with validation",
        "prompt": "Create a POST endpoint at /products/ that accepts a product creation request. Use Pydantic models for validation with field constraints (e.g., price > 0), return 201 status on success, and include error response formatting.",
        "scenario": "Implementing a create endpoint with comprehensive request validation"
      },
      {
        "title": "Design CRUD operations",
        "prompt": "Design a complete CRUD router for a resource called 'documents' including: list with pagination, get by ID, create with validation, update with PATCH, and delete endpoint. Include proper status codes (201 for create, 204 for delete) and error handling.",
        "scenario": "Building a full CRUD API router for a new resource"
      }
    ],
    "output_examples": [
      {
        "input": "Create a GET endpoint for /users/ with pagination",
        "output": [
          "@router.get(\"/users/\", response_model=PaginatedResponse[UserOut])",
          "async def list_users(",
          "    skip: int = Query(0, ge=0),",
          "    limit: int = Query(100, ge=1, le=1000),",
          ") -> PaginatedResponse[UserOut]:",
          "    users, total = await get_users(skip=skip, limit=limit)",
          "    return PaginatedResponse(",
          "        data=users,",
          "        total=total,",
          "        skip=skip,",
          "        limit=limit,",
          "        has_more=(skip + limit) < total,",
          "    )"
        ]
      },
      {
        "input": "Create a POST endpoint with Pydantic validation",
        "output": [
          "class ItemCreate(BaseModel):",
          "    name: str = Field(..., min_length=1, max_length=100)",
          "    price: float = Field(..., gt=0)",
          "    description: str | None = Field(None, max_length=500)",
          "",
          "@router.post(\"/items/\", response_model=ItemOut, status_code=201)",
          "async def create_item(item_in: ItemCreate) -> ItemOut:",
          "    return await create_item_db(item_in)"
        ]
      },
      {
        "input": "Design error response format",
        "output": [
          "class ErrorResponse(BaseModel):",
          "    error: str",
          "    detail: str | None = None",
          "    code: str | None = None",
          "",
          "# Usage in endpoint:",
          "raise HTTPException(",
          "    status_code=status.HTTP_404_NOT_FOUND,",
          "    detail=\"Item not found\",",
          ")"
        ]
      }
    ],
    "best_practices": [
      "Use plural nouns for collection endpoints (/users not /user) and kebab-case for multi-word paths (/student-fees)",
      "Return 201 for POST creation, 204 for successful DELETE with no response body, and 404 for missing resources",
      "Always use response_model parameters and wrap paginated responses with metadata (total, skip, limit, has_more)"
    ],
    "anti_patterns": [
      "Using GET for state-changing operations violates HTTP semantics and caching expectations",
      "Returning different response structures for success and error cases confuses API consumers",
      "Skipping response_model removes automatic OpenAPI documentation and validation benefits"
    ],
    "faq": [
      {
        "question": "What HTTP status code should I use for a failed validation?",
        "answer": "Use 422 Unprocessable Entity for Pydantic validation errors. Use 400 Bad Request for business logic validation failures."
      },
      {
        "question": "How do I handle authentication in FastAPI endpoints?",
        "answer": "Use FastAPI Depends() to inject authentication dependencies. The skill integrates with @jwt-auth for protected routes."
      },
      {
        "question": "Should I use PUT or PATCH for updates?",
        "answer": "Use PUT for full resource replacement. Use PATCH for partial updates where only some fields change."
      },
      {
        "question": "What is the recommended pagination approach?",
        "answer": "Use skip/limit with a has_more boolean indicator. Include total count for client-side page calculations."
      },
      {
        "question": "How do I validate query parameters with patterns?",
        "answer": "Use Query() with the pattern parameter for regex validation, e.g., Query(None, pattern='^(active|inactive)$')."
      },
      {
        "question": "Can this skill help with error handling standardization?",
        "answer": "Yes. Define ErrorResponse models and raise HTTPException with consistent error codes and messages across all endpoints."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "verify.py",
          "type": "file",
          "path": "scripts/verify.py",
          "lines": 62
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 264
    }
  ]
}
