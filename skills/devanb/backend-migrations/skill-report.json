{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T02:59:39.692Z",
    "slug": "devanb-backend-migrations",
    "source_url": "https://github.com/DevanB/lucidlog/tree/master/.claude/skills/backend-migrations",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "cf6bd0c1ac2a527eb3c3e746e234604c15c06bd418e7bd82a6768430958f0232",
    "tree_hash": "db8ff22e774d427130a039a5df53d9797ef73a49571afdda07a59bef766d59b8"
  },
  "skill": {
    "name": "backend-migrations",
    "description": "Create reversible, focused database migrations with proper naming, version control practices, and zero-downtime deployment considerations. Use this skill when creating or editing migration files in database/migrations/, when writing schema changes (creating/modifying tables, columns, indexes, foreign keys), when implementing migration rollback methods, when managing database version control, when adding or modifying indexes on large tables, or when separating schema changes from data migrations for safer deployments.",
    "summary": "Create reversible, focused database migrations with proper naming, version control practices, and ze...",
    "icon": "üóÉÔ∏è",
    "version": "1.0.0",
    "author": "DevanB",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "database",
      "laravel",
      "migration",
      "sql",
      "backend"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 24 static findings are FALSE POSITIVES. These are documentation/metadata files with no executable code. The detected patterns are text in documentation (URLs, file paths, code formatting backticks, security terminology) that trigger pattern matching but pose no actual security risk. The embedded security audit in skill-report.json confirms this skill is safe.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 28
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 12,
            "line_end": 12
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 58,
    "audit_model": "claude",
    "audited_at": "2026-01-17T02:59:39.691Z"
  },
  "content": {
    "user_title": "Create safe database migrations",
    "value_statement": "Database migrations can break production applications when done incorrectly. This skill provides proven guidelines for creating reversible, zero-downtime migrations that protect your data and minimize deployment risks.",
    "seo_keywords": [
      "database migrations",
      "Laravel migrations",
      "SQL schema changes",
      "zero-downtime deployment",
      "database version control",
      "migration rollback",
      "table indexes",
      "foreign keys",
      "Claude Code migrations",
      "AI coding assistant"
    ],
    "actual_capabilities": [
      "Creates migration files with proper naming conventions",
      "Implements safe rollback methods for reversibility",
      "Adds and modifies database indexes efficiently",
      "Manages foreign key relationships correctly",
      "Separates schema changes from data migrations",
      "Plans zero-downtime deployment strategies"
    ],
    "limitations": [
      "Does not execute migrations - only provides guidance",
      "Does not connect to databases directly",
      "Does not generate SQL for all database engines",
      "Does not optimize existing migration performance"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Safe migration patterns",
        "description": "Create migrations that can be rolled back safely without data loss in production environments"
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Zero-downtime deployments",
        "description": "Plan database changes that allow continuous deployment without service interruption"
      },
      {
        "target_user": "Tech Leads",
        "title": "Migration standards",
        "description": "Establish consistent migration practices across the development team with version control guidelines"
      }
    ],
    "prompt_templates": [
      {
        "title": "New migration file",
        "scenario": "Create a new users table",
        "prompt": "Create a new migration file to add a users table with name, email, password, and timestamps columns. Include proper indexes and make it reversible."
      },
      {
        "title": "Add column safely",
        "scenario": "Add a column to production table",
        "prompt": "Add a new column to the orders table in production. Use proper zero-downtime technique. Include rollback logic."
      },
      {
        "title": "Create index",
        "scenario": "Add index to large table",
        "prompt": "Create an index on the orders table for the customer_id column. Use concurrent index creation to avoid locking."
      },
      {
        "title": "Modify column",
        "scenario": "Change column type",
        "prompt": "Modify the orders.total column from decimal to integer. Ensure backward compatibility and include rollback method."
      }
    ],
    "output_examples": [
      {
        "input": "Create a migration to add a products table with name, price, description, and category_id columns",
        "output": [
          "Migration file created: database/migrations/2024_01_15_000001_create_products_table.php",
          "Columns added: name (string), price (decimal), description (text), category_id (unsignedBigInteger)",
          "Index added: category_id column indexed for foreign key performance",
          "Timestamps included: created_at and updated_at",
          "Rollback method: Drops products table completely"
        ]
      },
      {
        "input": "Add a new column for user phone numbers to an existing users table",
        "output": [
          "Migration file created: database/migrations/2024_01_15_000002_add_phone_to_users_table.php",
          "Column added: phone_number (string, nullable)",
          "Zero-downtime technique: Added column as nullable first",
          "Index added: No index needed for nullable column",
          "Rollback method: Drops phone_number column"
        ]
      },
      {
        "input": "Create an index on the orders table for faster customer lookups",
        "output": [
          "Migration file created: database/migrations/2024_01_15_000003_add_customer_id_index_to_orders.php",
          "Index type: B-tree index on customer_id column",
          "Concurrent creation: Used CONCURRENTLY option to avoid locking",
          "Rollback method: Drops the customer_id_index"
        ]
      }
    ],
    "best_practices": [
      "Always include a down() method that can fully reverse the migration",
      "Use concurrent index creation on large tables to prevent locking",
      "Separate schema changes from data migrations for safer deployments",
      "Test migrations on production-like data before deploying"
    ],
    "anti_patterns": [
      "Modifying existing migrations after they are deployed to production",
      "Using raw SQL without considering the database engine specifics",
      "Skipping the down() method or making it incomplete",
      "Creating indexes without considering table size and lock time"
    ],
    "faq": [
      {
        "question": "Which databases are supported?",
        "answer": "Laravel migrations support MySQL, PostgreSQL, SQLite, and SQL Server through the Schema builder."
      },
      {
        "question": "What is the maximum table size for migrations?",
        "answer": "There is no hard limit, but large tables require careful planning to avoid locking and downtime."
      },
      {
        "question": "Can I use this with existing databases?",
        "answer": "Yes, migrations work with both new and existing databases when using the Schema facade."
      },
      {
        "question": "Is my data safe during migrations?",
        "answer": "This skill provides guidelines for safe migrations. Always backup production data before running migrations."
      },
      {
        "question": "Why did my migration fail?",
        "answer": "Common causes include syntax errors, missing dependencies, foreign key conflicts, or insufficient permissions."
      },
      {
        "question": "How is this different from other migration tools?",
        "answer": "This skill focuses on Laravel best practices including rollback safety and zero-downtime deployment."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 29
    }
  ]
}
