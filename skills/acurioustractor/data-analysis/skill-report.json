{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T16:12:54.333Z",
    "slug": "acurioustractor-data-analysis",
    "source_url": "https://github.com/Acurioustractor/empathy-ledger-v2/tree/main/.claude/skills/local/data-analysis",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "08adfd5898935b1a23416829970074f83086fbc515fb0ac60c52fbb7ff5bded6",
    "tree_hash": "f3da9fdcb94055156b996e4325715bd3152f044c76d8e3d56dbbb84eec00ea47"
  },
  "skill": {
    "name": "data-analysis",
    "description": "AI-powered data analysis for Empathy Ledger. Use when working with themes, quotes, story suggestions, transcript analysis, storyteller connections, or any feature requiring extracted insights. Ensures consistent analysis patterns across the platform.",
    "summary": "AI-powered data analysis for Empathy Ledger. Use when working with themes, quotes, story suggestions...",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "Acurioustractor",
    "license": "MIT",
    "category": "data",
    "tags": [
      "data-analysis",
      "themes",
      "quotes",
      "supabase",
      "ai-insights"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only Markdown documentation files with code examples for data analysis patterns. All 260 static findings are false positives. The 'backtick execution' alerts are triggered by Markdown code fence syntax (```), not Ruby shell execution. The 'weak cryptographic algorithm' alerts match 'MD' in file extensions like 'SKILL.md'. The 'key files' alerts match database field names like 'key_quotes'. No executable code, no actual network calls, no credential access.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "analysis-patterns.md",
            "line_start": 7,
            "line_end": 53
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 71,
            "line_end": 91
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 91,
            "line_end": 97
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 97,
            "line_end": 127
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 127,
            "line_end": 131
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 131,
            "line_end": 165
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 165,
            "line_end": 171
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 171,
            "line_end": 206
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 206,
            "line_end": 210
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 210,
            "line_end": 220
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 220,
            "line_end": 224
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 224,
            "line_end": 228
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 228,
            "line_end": 233
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 233,
            "line_end": 237
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 237,
            "line_end": 255
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 255,
            "line_end": 271
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 271,
            "line_end": 289
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 289,
            "line_end": 293
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 293,
            "line_end": 321
          },
          {
            "file": "analysis-patterns.md",
            "line_start": 327,
            "line_end": 359
          },
          {
            "file": "SKILL.md",
            "line_start": 13,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 47
          },
          {
            "file": "SKILL.md",
            "line_start": 47,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 65
          },
          {
            "file": "SKILL.md",
            "line_start": 65,
            "line_end": 70
          },
          {
            "file": "SKILL.md",
            "line_start": 70,
            "line_end": 84
          },
          {
            "file": "SKILL.md",
            "line_start": 84,
            "line_end": 87
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 101
          },
          {
            "file": "SKILL.md",
            "line_start": 101,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 127
          },
          {
            "file": "SKILL.md",
            "line_start": 127,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 153
          },
          {
            "file": "SKILL.md",
            "line_start": 153,
            "line_end": 158
          },
          {
            "file": "SKILL.md",
            "line_start": 158,
            "line_end": 170
          },
          {
            "file": "SKILL.md",
            "line_start": 170,
            "line_end": 173
          },
          {
            "file": "SKILL.md",
            "line_start": 173,
            "line_end": 185
          },
          {
            "file": "SKILL.md",
            "line_start": 185,
            "line_end": 188
          },
          {
            "file": "SKILL.md",
            "line_start": 188,
            "line_end": 202
          },
          {
            "file": "SKILL.md",
            "line_start": 202,
            "line_end": 210
          },
          {
            "file": "SKILL.md",
            "line_start": 210,
            "line_end": 210
          },
          {
            "file": "SKILL.md",
            "line_start": 210,
            "line_end": 213
          },
          {
            "file": "SKILL.md",
            "line_start": 213,
            "line_end": 220
          },
          {
            "file": "SKILL.md",
            "line_start": 220,
            "line_end": 245
          },
          {
            "file": "SKILL.md",
            "line_start": 245,
            "line_end": 251
          },
          {
            "file": "SKILL.md",
            "line_start": 251,
            "line_end": 252
          },
          {
            "file": "SKILL.md",
            "line_start": 252,
            "line_end": 253
          },
          {
            "file": "SKILL.md",
            "line_start": 253,
            "line_end": 254
          },
          {
            "file": "SKILL.md",
            "line_start": 254,
            "line_end": 255
          },
          {
            "file": "SKILL.md",
            "line_start": 255,
            "line_end": 256
          },
          {
            "file": "SKILL.md",
            "line_start": 256,
            "line_end": 257
          },
          {
            "file": "supabase-queries.md",
            "line_start": 7,
            "line_end": 31
          },
          {
            "file": "supabase-queries.md",
            "line_start": 31,
            "line_end": 35
          },
          {
            "file": "supabase-queries.md",
            "line_start": 35,
            "line_end": 55
          },
          {
            "file": "supabase-queries.md",
            "line_start": 55,
            "line_end": 61
          },
          {
            "file": "supabase-queries.md",
            "line_start": 61,
            "line_end": 83
          },
          {
            "file": "supabase-queries.md",
            "line_start": 83,
            "line_end": 87
          },
          {
            "file": "supabase-queries.md",
            "line_start": 87,
            "line_end": 106
          },
          {
            "file": "supabase-queries.md",
            "line_start": 106,
            "line_end": 110
          },
          {
            "file": "supabase-queries.md",
            "line_start": 110,
            "line_end": 127
          },
          {
            "file": "supabase-queries.md",
            "line_start": 127,
            "line_end": 131
          },
          {
            "file": "supabase-queries.md",
            "line_start": 131,
            "line_end": 165
          },
          {
            "file": "supabase-queries.md",
            "line_start": 165,
            "line_end": 171
          },
          {
            "file": "supabase-queries.md",
            "line_start": 171,
            "line_end": 190
          },
          {
            "file": "supabase-queries.md",
            "line_start": 190,
            "line_end": 194
          },
          {
            "file": "supabase-queries.md",
            "line_start": 194,
            "line_end": 215
          },
          {
            "file": "supabase-queries.md",
            "line_start": 215,
            "line_end": 219
          },
          {
            "file": "supabase-queries.md",
            "line_start": 219,
            "line_end": 238
          },
          {
            "file": "supabase-queries.md",
            "line_start": 238,
            "line_end": 244
          },
          {
            "file": "supabase-queries.md",
            "line_start": 244,
            "line_end": 264
          },
          {
            "file": "supabase-queries.md",
            "line_start": 264,
            "line_end": 268
          },
          {
            "file": "supabase-queries.md",
            "line_start": 268,
            "line_end": 292
          },
          {
            "file": "supabase-queries.md",
            "line_start": 292,
            "line_end": 298
          },
          {
            "file": "supabase-queries.md",
            "line_start": 298,
            "line_end": 320
          },
          {
            "file": "supabase-queries.md",
            "line_start": 320,
            "line_end": 326
          },
          {
            "file": "supabase-queries.md",
            "line_start": 326,
            "line_end": 336
          },
          {
            "file": "supabase-queries.md",
            "line_start": 336,
            "line_end": 340
          },
          {
            "file": "supabase-queries.md",
            "line_start": 340,
            "line_end": 357
          },
          {
            "file": "sync-status.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "sync-status.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "sync-status.md",
            "line_start": 46,
            "line_end": 48
          },
          {
            "file": "sync-status.md",
            "line_start": 48,
            "line_end": 51
          },
          {
            "file": "sync-status.md",
            "line_start": 51,
            "line_end": 53
          },
          {
            "file": "sync-status.md",
            "line_start": 53,
            "line_end": 56
          },
          {
            "file": "sync-status.md",
            "line_start": 56,
            "line_end": 58
          },
          {
            "file": "sync-status.md",
            "line_start": 58,
            "line_end": 61
          },
          {
            "file": "sync-status.md",
            "line_start": 61,
            "line_end": 70
          },
          {
            "file": "sync-status.md",
            "line_start": 70,
            "line_end": 73
          },
          {
            "file": "sync-status.md",
            "line_start": 73,
            "line_end": 81
          },
          {
            "file": "sync-status.md",
            "line_start": 81,
            "line_end": 89
          },
          {
            "file": "sync-status.md",
            "line_start": 89,
            "line_end": 90
          },
          {
            "file": "sync-status.md",
            "line_start": 90,
            "line_end": 91
          },
          {
            "file": "sync-status.md",
            "line_start": 91,
            "line_end": 92
          },
          {
            "file": "sync-status.md",
            "line_start": 92,
            "line_end": 98
          },
          {
            "file": "sync-status.md",
            "line_start": 98,
            "line_end": 99
          },
          {
            "file": "sync-status.md",
            "line_start": 99,
            "line_end": 100
          },
          {
            "file": "sync-status.md",
            "line_start": 100,
            "line_end": 104
          },
          {
            "file": "sync-status.md",
            "line_start": 104,
            "line_end": 105
          },
          {
            "file": "sync-status.md",
            "line_start": 105,
            "line_end": 106
          },
          {
            "file": "sync-status.md",
            "line_start": 106,
            "line_end": 107
          },
          {
            "file": "sync-status.md",
            "line_start": 107,
            "line_end": 112
          },
          {
            "file": "sync-status.md",
            "line_start": 112,
            "line_end": 113
          },
          {
            "file": "sync-status.md",
            "line_start": 113,
            "line_end": 114
          },
          {
            "file": "sync-status.md",
            "line_start": 114,
            "line_end": 115
          },
          {
            "file": "sync-status.md",
            "line_start": 115,
            "line_end": 116
          },
          {
            "file": "sync-status.md",
            "line_start": 116,
            "line_end": 117
          },
          {
            "file": "sync-status.md",
            "line_start": 117,
            "line_end": 120
          },
          {
            "file": "sync-status.md",
            "line_start": 120,
            "line_end": 121
          },
          {
            "file": "sync-status.md",
            "line_start": 121,
            "line_end": 122
          },
          {
            "file": "sync-status.md",
            "line_start": 122,
            "line_end": 129
          },
          {
            "file": "sync-status.md",
            "line_start": 129,
            "line_end": 129
          },
          {
            "file": "sync-status.md",
            "line_start": 129,
            "line_end": 136
          },
          {
            "file": "sync-status.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "sync-status.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "sync-status.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "sync-status.md",
            "line_start": 136,
            "line_end": 137
          },
          {
            "file": "sync-status.md",
            "line_start": 137,
            "line_end": 137
          },
          {
            "file": "sync-status.md",
            "line_start": 137,
            "line_end": 140
          },
          {
            "file": "sync-status.md",
            "line_start": 140,
            "line_end": 140
          },
          {
            "file": "sync-status.md",
            "line_start": 140,
            "line_end": 140
          },
          {
            "file": "sync-status.md",
            "line_start": 140,
            "line_end": 141
          },
          {
            "file": "sync-status.md",
            "line_start": 141,
            "line_end": 141
          },
          {
            "file": "sync-status.md",
            "line_start": 141,
            "line_end": 141
          },
          {
            "file": "sync-status.md",
            "line_start": 141,
            "line_end": 144
          },
          {
            "file": "sync-status.md",
            "line_start": 144,
            "line_end": 144
          },
          {
            "file": "sync-status.md",
            "line_start": 144,
            "line_end": 144
          },
          {
            "file": "sync-status.md",
            "line_start": 144,
            "line_end": 145
          },
          {
            "file": "sync-status.md",
            "line_start": 145,
            "line_end": 145
          },
          {
            "file": "sync-status.md",
            "line_start": 145,
            "line_end": 145
          },
          {
            "file": "sync-status.md",
            "line_start": 145,
            "line_end": 146
          },
          {
            "file": "sync-status.md",
            "line_start": 146,
            "line_end": 146
          },
          {
            "file": "sync-status.md",
            "line_start": 146,
            "line_end": 146
          },
          {
            "file": "sync-status.md",
            "line_start": 146,
            "line_end": 147
          },
          {
            "file": "sync-status.md",
            "line_start": 147,
            "line_end": 147
          },
          {
            "file": "sync-status.md",
            "line_start": 147,
            "line_end": 147
          },
          {
            "file": "sync-status.md",
            "line_start": 147,
            "line_end": 150
          },
          {
            "file": "sync-status.md",
            "line_start": 150,
            "line_end": 150
          },
          {
            "file": "sync-status.md",
            "line_start": 150,
            "line_end": 150
          },
          {
            "file": "sync-status.md",
            "line_start": 150,
            "line_end": 151
          },
          {
            "file": "sync-status.md",
            "line_start": 151,
            "line_end": 151
          },
          {
            "file": "sync-status.md",
            "line_start": 151,
            "line_end": 157
          },
          {
            "file": "sync-status.md",
            "line_start": 157,
            "line_end": 158
          },
          {
            "file": "sync-status.md",
            "line_start": 158,
            "line_end": 159
          },
          {
            "file": "sync-status.md",
            "line_start": 159,
            "line_end": 160
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 11,
            "line_end": 11
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 12,
            "line_end": 12
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 13,
            "line_end": 13
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 14,
            "line_end": 14
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 22,
            "line_end": 22
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 24,
            "line_end": 24
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 25,
            "line_end": 25
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 34,
            "line_end": 34
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 35,
            "line_end": 35
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 36,
            "line_end": 36
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 37,
            "line_end": 37
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 44,
            "line_end": 44
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 45,
            "line_end": 45
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 46,
            "line_end": 46
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 47,
            "line_end": 47
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 48,
            "line_end": 48
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 55,
            "line_end": 55
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 56,
            "line_end": 56
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 57,
            "line_end": 57
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 58,
            "line_end": 58
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 59,
            "line_end": 59
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 66,
            "line_end": 66
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 67,
            "line_end": 67
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 68,
            "line_end": 68
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 69,
            "line_end": 69
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 70,
            "line_end": 70
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 76,
            "line_end": 120
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 120,
            "line_end": 126
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 126,
            "line_end": 163
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 163,
            "line_end": 167
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 167,
            "line_end": 205
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 205,
            "line_end": 211
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 211,
            "line_end": 250
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 250,
            "line_end": 256
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 256,
            "line_end": 267
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 267,
            "line_end": 271
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 271,
            "line_end": 288
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 288,
            "line_end": 292
          },
          {
            "file": "theme-taxonomy.md",
            "line_start": 292,
            "line_end": 303
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "analysis-patterns.md",
            "line_start": 255,
            "line_end": 255
          },
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "sync-status.md",
            "line_start": 74,
            "line_end": 74
          },
          {
            "file": "sync-status.md",
            "line_start": 80,
            "line_end": 80
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 1656,
    "audit_model": "claude",
    "audited_at": "2026-01-16T16:12:54.333Z"
  },
  "content": {
    "user_title": "Analyze themes and quotes from storytelling data",
    "value_statement": "Working with storytelling platforms requires consistent patterns for extracting themes, quotes, and AI insights. This skill provides ready-to-use patterns for Supabase queries, theme matching, and AI analysis integration.",
    "seo_keywords": [
      "data analysis",
      "theme extraction",
      "quote analysis",
      "Supabase queries",
      "AI insights",
      "Claude",
      "Claude Code",
      "Codex",
      "storytelling analytics"
    ],
    "actual_capabilities": [
      "Provides TypeScript patterns for theme extraction and matching algorithms",
      "Includes optimized Supabase query examples for array operations and full-text search",
      "Contains React component examples for displaying quotes and themes",
      "Documents AI analysis integration with Anthropic Claude API",
      "Provides SQL patterns for analytics views and theme statistics",
      "Includes theme taxonomy with color mapping and normalization functions"
    ],
    "limitations": [
      "Designed specifically for the Empathy Ledger platform schema",
      "Requires Supabase backend with specific table structure",
      "AI analysis examples use Anthropic Claude API which requires API key"
    ],
    "use_cases": [
      {
        "target_user": "Full-stack developer",
        "title": "Implement theme-based story suggestions",
        "description": "Use the theme matching algorithms and Supabase query patterns to build related content suggestions based on overlapping themes."
      },
      {
        "target_user": "Data engineer",
        "title": "Create analytics dashboards",
        "description": "Apply the materialized view patterns and analytics queries to build theme popularity and quote statistics dashboards."
      },
      {
        "target_user": "Frontend developer",
        "title": "Display analysis results in UI",
        "description": "Use the React component examples to show theme badges, quote cards, and suggested stories consistently across the application."
      }
    ],
    "prompt_templates": [
      {
        "title": "Extract themes from text",
        "scenario": "Need to analyze new content for themes",
        "prompt": "Using the theme extraction pattern from the data-analysis skill, help me analyze this transcript and extract 5-7 key themes following the standard categories."
      },
      {
        "title": "Build theme matching query",
        "scenario": "Finding related stories by theme overlap",
        "prompt": "Using the Supabase query patterns, write a query to find stories that share at least 2 themes with the current story, ordered by overlap percentage."
      },
      {
        "title": "Create analytics view",
        "scenario": "Building a theme statistics dashboard",
        "prompt": "Help me create a materialized view following the data-analysis skill patterns that shows theme popularity, storyteller count, and average views per theme."
      },
      {
        "title": "Implement full-text search",
        "scenario": "Adding search across quotes and stories",
        "prompt": "Using the full-text search patterns from the skill, implement a search function that searches across story content, quotes, and themes with weighted ranking."
      }
    ],
    "output_examples": [
      {
        "input": "Help me find stories related to a story about cultural identity",
        "output": [
          "Query stories table using overlaps() for themes array",
          "Calculate Jaccard similarity for theme overlap percentage",
          "Generate suggestion reason based on shared themes",
          "Return top 5 matches sorted by overlap score"
        ]
      },
      {
        "input": "How do I extract the best quote from a transcript?",
        "output": [
          "Filter quotes by significance level (highlight preferred)",
          "Select quote closest to middle of content for impact",
          "Fall back to first quote if no highlights exist",
          "Return with themes and attribution metadata"
        ]
      }
    ],
    "best_practices": [
      "Always normalize themes using the theme aliases mapping before storing or comparing",
      "Use server-side Supabase filtering with overlaps() instead of client-side filtering for performance",
      "Limit theme arrays to 5-7 primary themes to maintain meaningful relationships"
    ],
    "anti_patterns": [
      "Fetching all columns with select('*') when only specific fields are needed",
      "Performing theme filtering on the client side after fetching all stories",
      "Storing unnormalized theme variations that create duplicate entries"
    ],
    "faq": [
      {
        "question": "What database does this skill work with?",
        "answer": "This skill provides patterns for Supabase (PostgreSQL) with specific array operations for theme matching and GIN indexes for full-text search."
      },
      {
        "question": "Can I use these patterns with a different schema?",
        "answer": "Yes, adapt the table and column names to match your schema. The core patterns for array operations and theme matching are transferable."
      },
      {
        "question": "How do I handle theme normalization?",
        "answer": "Use the THEME_ALIASES mapping to convert variations like 'tradition' to 'heritage'. Apply normalizeThemes() before storing or comparing."
      },
      {
        "question": "What AI model is used for analysis?",
        "answer": "The examples use Anthropic Claude (claude-sonnet-4-20250514) for transcript analysis. You can substitute other models that support JSON output."
      },
      {
        "question": "How do I display themes with consistent colors?",
        "answer": "Use the THEME_COLORS mapping and ThemeBadge component. Each theme category has assigned colors like earth tones for cultural themes."
      },
      {
        "question": "What is the recommended theme limit per story?",
        "answer": "Extract 5-7 primary themes per story. This maintains meaningful relationships without diluting theme connections across content."
      }
    ]
  },
  "file_structure": [
    {
      "name": "analysis-patterns.md",
      "type": "file",
      "path": "analysis-patterns.md",
      "lines": 360
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 275
    },
    {
      "name": "supabase-queries.md",
      "type": "file",
      "path": "supabase-queries.md",
      "lines": 358
    },
    {
      "name": "sync-status.md",
      "type": "file",
      "path": "sync-status.md",
      "lines": 161
    },
    {
      "name": "theme-taxonomy.md",
      "type": "file",
      "path": "theme-taxonomy.md",
      "lines": 304
    }
  ]
}
