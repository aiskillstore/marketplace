{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T13:56:02.500Z",
    "slug": "dicklesworthstone-agent-mail",
    "source_url": "https://github.com/Dicklesworthstone/agent_flywheel_clawdbot_skills_and_integrations/tree/main/skills/agent-mail",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "3d7fa466afaed91d245239c747ae83a8ac35e444c0d377dfd9cdd7398077d6e8",
    "tree_hash": "ae406c5acb1b54702bf8c18cbf53dbd4b95980fb01501b9f848cee4a0fb2daed"
  },
  "skill": {
    "name": "agent-mail",
    "description": "MCP Agent Mail - Mail-like coordination layer for multi-agent workflows. Identities, inbox/outbox, file reservations, contact policies, threaded messaging, pre-commit guard, Human Overseer, static exports, disaster recovery. Git+SQLite backed. Python/FastMCP.",
    "summary": "MCP Agent Mail - Mail-like coordination layer for multi-agent workflows. Identities, inbox/outbox, f...",
    "icon": "ðŸ“¬",
    "version": "1.0.0",
    "author": "Dicklesworthstone",
    "license": "MIT",
    "category": "coordination",
    "tags": [
      "multi-agent",
      "coordination",
      "messaging",
      "file-management",
      "workflow"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only documentation (SKILL.md). No executable code exists in this directory. The described MCP server coordinates agent workflows with file reservations and messaging - legitimate multi-agent coordination functionality.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 422,
    "audit_model": "claude",
    "audited_at": "2026-01-10T13:56:02.500Z"
  },
  "content": {
    "user_title": "Coordinate Multiple AI Agents with Mail",
    "value_statement": "Multiple AI agents working together often overwrite each other work or miss important context. Agent Mail provides a mail-like coordination layer with file reservations, threaded messaging, and human oversight to keep agents organized.",
    "seo_keywords": [
      "agent coordination",
      "multi-agent workflows",
      "Claude Code",
      "Claude",
      "Codex",
      "file reservations",
      "agent messaging",
      "MCP server",
      "team collaboration",
      "Git-backed"
    ],
    "actual_capabilities": [
      "Assign memorable identities to each agent (GreenCastle, BlueLake)",
      "Reserve files with advisory locks before editing to prevent conflicts",
      "Send and receive threaded messages between agents with importance levels",
      "Enforce contact policies to control who can message whom",
      "Install pre-commit guard to block commits that conflict with reservations",
      "Export mail archives with cryptographic signing and encryption"
    ],
    "limitations": [
      "Requires running the MCP server locally (port 8765 by default)",
      "Agents must use the same project_key to coordinate",
      "Contact policies must be respected or bypassed explicitly",
      "File reservations are advisory not mandatory enforcement"
    ],
    "use_cases": [
      {
        "target_user": "Development teams using multiple AI agents",
        "title": "Multi-Agent Codebase Work",
        "description": "Coordinate frontend and backend agents working on the same project without file conflicts or missed context"
      },
      {
        "target_user": "AI-assisted code reviewers",
        "title": "Code Review Coordination",
        "description": "Agents announce what files they are editing, preventing overlap and enabling threaded discussions"
      },
      {
        "target_user": "Technical leads managing AI workflows",
        "title": "Human-Override Messaging",
        "description": "Human Overseer feature allows humans to send high-priority messages that bypass contact policies"
      }
    ],
    "prompt_templates": [
      {
        "title": "Start Session",
        "scenario": "Bootstrap a new agent session",
        "prompt": "Start a session using macro_start_session with project_key set to the absolute path of our project, program set to claude-code, model set to opus-4.5, and task_description describing the current work."
      },
      {
        "title": "Reserve Files",
        "scenario": "Before editing files",
        "prompt": "Reserve the files I am about to edit using file_reservation_paths. Use paths like src/**/*.ts, set ttl_seconds to 3600, and exclusive to true. Include the reason for the reservation."
      },
      {
        "title": "Announce Work",
        "scenario": "Notify other agents",
        "prompt": "Send a message to other agents announcing the work I am starting. Use send_message with an appropriate thread_id, include the reservation details, and set ack_required to true if needed."
      },
      {
        "title": "Check Inbox",
        "scenario": "Periodically check for messages",
        "prompt": "Fetch my inbox using fetch_inbox with limit 20, urgent_only false, and include_bodies true. Mark messages as read and acknowledge those requiring response."
      }
    ],
    "output_examples": [
      {
        "input": "Start a session for my claude-code agent working on auth module refactoring",
        "output": [
          "Project: /home/user/project (created)",
          "Agent: CoolPond registered",
          "File reservations: src/auth/**/*.ts (granted, no conflicts)",
          "Inbox: 0 unread messages"
        ]
      }
    ],
    "best_practices": [
      "Always reserve files before editing to prevent conflicts with other agents",
      "Use consistent thread IDs (like bd-123) to link tasks, messages, and reservations",
      "Set appropriate contact policies based on your team size and coordination needs"
    ],
    "anti_patterns": [
      "Skipping file reservations and editing files that other agents may be working on",
      "Sending messages without thread IDs, making it hard to track conversations",
      "Ignoring the pre-commit guard when exclusive reservations are in place"
    ],
    "faq": [
      {
        "question": "Does this work with Claude Code?",
        "answer": "Yes, set program to claude-code in macro_start_session. Claude Code agents can use all messaging and reservation features."
      },
      {
        "question": "How long do file reservations last?",
        "answer": "Default TTL is 1 hour (3600 seconds). Use renew_file_reservations to extend or set ttl_seconds when reserving."
      },
      {
        "question": "Can agents in different repos coordinate?",
        "answer": "Yes, use request_contact and respond_contact to establish cross-project contact links between agents."
      },
      {
        "question": "Is my data safe?",
        "answer": "Data is stored locally in SQLite and Git. Exports can use Ed25519 signing and Age encryption for sharing."
      },
      {
        "question": "Why are messages not being delivered?",
        "answer": "Check contact policies (may require approval), verify agent names match exactly, and check urgent_only or since_ts filters."
      },
      {
        "question": "How does this differ from other agent tools?",
        "answer": "Unlike shared context tools, Agent Mail provides persistent asynchronous messaging, file-level reservations, and human override capabilities."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
