{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T15:30:09.793Z",
    "slug": "abdelstark-infrastructure",
    "source_url": "https://github.com/AbdelStark/guts/tree/main/.claude/skills/infrastructure",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "4da10fac89115afc946f31d5506feeb7ddc13a5f1b8bd40aa659193078d5bcab",
    "tree_hash": "a580d43eb58b30637c1f80c342ee8dba0609c10d705b6e945e4aeb5aff0319f2"
  },
  "skill": {
    "name": "infrastructure",
    "description": "Infrastructure as Code patterns for deploying Guts nodes using Terraform, Docker, and Kubernetes",
    "summary": "Infrastructure as Code patterns for deploying Guts nodes using Terraform, Docker, and Kubernetes",
    "icon": "üèóÔ∏è",
    "version": "1.0.0",
    "author": "AbdelStark",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "infrastructure",
      "terraform",
      "docker",
      "kubernetes",
      "deployment"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The static findings are false positives. This is a documentation-only skill containing Infrastructure as Code examples. The 'weak cryptographic algorithm' flags are misidentified Terraform variable names (e.g., 'algorithm' as a variable name, not actual crypto usage). 'Ruby/shell backtick' flags are markdown code block delimiters. The single true positive ('rm -rf') is a standard Docker cleanup command in a multi-stage build, not malicious.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 20,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 36
          },
          {
            "file": "SKILL.md",
            "line_start": 36,
            "line_end": 61
          },
          {
            "file": "SKILL.md",
            "line_start": 61,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 80
          },
          {
            "file": "SKILL.md",
            "line_start": 80,
            "line_end": 84
          },
          {
            "file": "SKILL.md",
            "line_start": 84,
            "line_end": 122
          },
          {
            "file": "SKILL.md",
            "line_start": 122,
            "line_end": 128
          },
          {
            "file": "SKILL.md",
            "line_start": 128,
            "line_end": 163
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 355,
    "audit_model": "claude",
    "audited_at": "2026-01-16T15:30:09.793Z"
  },
  "content": {
    "user_title": "Deploy Guts nodes with IaC patterns",
    "value_statement": "Deploying decentralized infrastructure requires careful planning across multiple environments. This skill provides ready-to-use Terraform, Docker, and Kubernetes patterns for deploying Guts nodes consistently from local development to production.",
    "seo_keywords": [
      "infrastructure as code",
      "Terraform deployment",
      "Docker Compose",
      "Kubernetes StatefulSet",
      "Guts node deployment",
      "IaC patterns",
      "Claude Code infrastructure",
      "multi-stage Docker builds",
      "cloud infrastructure",
      "decentralized deployment"
    ],
    "actual_capabilities": [
      "Create Terraform modules for cloud infrastructure provisioning",
      "Write multi-stage Docker builds for optimized container images",
      "Configure Docker Compose for local multi-node development",
      "Define Kubernetes StatefulSets for production node deployment",
      "Implement monitoring stacks with Prometheus, Loki, and Jaeger",
      "Apply security best practices for TLS, secrets, and RBAC"
    ],
    "limitations": [
      "Does not execute infrastructure changes directly",
      "Requires existing cloud credentials for Terraform deployments",
      "Does not manage state files or remote state backends",
      "Assumes basic familiarity with Terraform, Docker, and Kubernetes concepts"
    ],
    "use_cases": [
      {
        "target_user": "DevOps Engineers",
        "title": "Set up multi-node devnet",
        "description": "Configure Docker Compose for local development with multiple Guts validator nodes"
      },
      {
        "target_user": "Platform Engineers",
        "title": "Deploy to Kubernetes",
        "description": "Create production-ready Kubernetes manifests with StatefulSets and persistent storage"
      },
      {
        "target_user": "Cloud Architects",
        "title": "Provision cloud resources",
        "description": "Design Terraform modules for AWS or other cloud providers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Local devnet setup",
        "scenario": "Create local development environment",
        "prompt": "Show me a Docker Compose configuration for running a local Guts development network with 3 nodes"
      },
      {
        "title": "Production deployment",
        "scenario": "Deploy to production Kubernetes",
        "prompt": "Create a Kubernetes StatefulSet configuration for deploying Guts nodes in production with persistent storage"
      },
      {
        "title": "Terraform module",
        "scenario": "Provision cloud infrastructure",
        "prompt": "Write a Terraform module structure for deploying Guts nodes on AWS with proper networking"
      },
      {
        "title": "Security hardening",
        "scenario": "Secure infrastructure",
        "prompt": "What security configurations should I apply to my Guts node deployment including TLS, secrets, and network policies"
      }
    ],
    "output_examples": [
      {
        "input": "Show me a Docker Compose configuration for running a local Guts development network with 3 nodes",
        "output": [
          "A three-service Docker Compose file with ports 8081-8083 mapped",
          "Each service configured with unique node ID and peer environment variables",
          "Named volumes for persistent data storage per node",
          "Shared build context for container image compilation"
        ]
      },
      {
        "input": "Create a Kubernetes StatefulSet configuration for deploying Guts nodes in production",
        "output": [
          "StatefulSet manifest with 3 replicas and stable network identities",
          "PersistentVolumeClaim templates for 100Gi storage per node",
          "Container ports for API (8080) and P2P (9000) communication",
          "Volume mounts for data persistence across pod restarts"
        ]
      },
      {
        "input": "Write a Terraform module for deploying Guts nodes on AWS",
        "output": [
          "Module structure with network, compute, and storage subdirectories",
          "Variable definitions for node count and instance type",
          "AWS EC2 instance resources with proper tagging",
          "Data source for Ubuntu AMI lookup"
        ]
      }
    ],
    "best_practices": [
      "Use multi-stage Docker builds to minimize container image size and attack surface",
      "Separate Terraform environments (dev, staging, prod) with isolated state backends",
      "Apply network policies and pod security standards in Kubernetes for isolation"
    ],
    "anti_patterns": [
      "Avoid hardcoding credentials in Docker or Kubernetes configurations",
      "Do not expose node API ports directly to the public internet without TLS termination",
      "Avoid running containers as root user in production deployments"
    ],
    "faq": [
      {
        "question": "What cloud providers does this skill support?",
        "answer": "The skill focuses on cloud-agnostic patterns. Terraform modules reference AWS as an example but can be adapted to any provider."
      },
      {
        "question": "What are the minimum resources needed to run a Guts node?",
        "answer": "The skill suggests t3.medium as a default instance type but actual requirements depend on your workload and consensus settings."
      },
      {
        "question": "How do I connect nodes in a multi-node setup?",
        "answer": "Configure the GUTS_PEERS environment variable with the hostnames and P2P ports of all peer nodes."
      },
      {
        "question": "Is my data safe when using the example configurations?",
        "answer": "The skill provides starting templates. Always apply security hardening including TLS, secrets management, and network policies before production use."
      },
      {
        "question": "Why are my containers failing to start?",
        "answer": "Check that ports are not already in use, volumes have proper permissions, and environment variables are correctly configured for your network topology."
      },
      {
        "question": "How does this compare to manual deployment?",
        "answer": "IaC provides consistency, repeatability, and version control for infrastructure. Manual deployments are error-prone and difficult to reproduce across environments."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 178
    }
  ]
}
