{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-21T14:51:57.198Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "official",
    "content_hash": "29924e91e338c9d6eb99dc43945846c4767b359f30000c0ca1fa8c563c471d69",
    "tree_hash": "7ecbc7f98c66c498e9a3d53de7d30298432d38c673eb048dd85f123d2080badb"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "model migration",
      "claude",
      "codex",
      "claude-code"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill for safe migration between Claude models. Performs only text-based replacements in user code. No dynamic execution, no external dependencies, no network calls. Risk factors detected are false positives from static analysis of markdown documentation.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 1296,
    "audit_model": "claude",
    "audited_at": "2026-01-21T14:51:57.198Z"
  },
  "content": {
    "user_title": "Migrate to Claude Opus 4.5",
    "value_statement": "Codebases built for older Claude models need updates when migrating to Opus 4.5. This skill automates the migration by updating model strings, removing deprecated headers, and applying behavioral adjustments for a smooth transition.",
    "seo_keywords": [
      "Claude Opus 4.5 migration",
      "Claude model upgrade",
      "Claude Sonnet 4.5 to Opus 4.5",
      "Claude Opus 4.1 to 4.5",
      "Claude API migration",
      "Anthropic Claude migration guide",
      "Claude Codex migration",
      "Claude Code migration",
      "Claude model string update",
      "Claude 4.5 behavioral changes"
    ],
    "actual_capabilities": [
      "Search codebase for model strings and API calls across multiple platforms",
      "Update model identifiers to Opus 4.5 format for Anthropic API, AWS Bedrock, Google Vertex AI, and Azure",
      "Remove unsupported beta headers like context-1m-2025-08-07 with appropriate comments",
      "Add effort parameter set to high for optimal Opus 4.5 performance",
      "Apply prompt adjustments for known Opus 4.5 behavioral differences on user request",
      "Summarize all migration changes made to the codebase"
    ],
    "limitations": [
      "Does not migrate Haiku 4.5 models to Opus 4.5",
      "Prompt adjustments are only applied when user explicitly requests them or reports issues",
      "Does not modify application logic or fix bugs unrelated to model migration",
      "Cannot migrate code that uses deprecated Anthropic SDK versions"
    ],
    "use_cases": [
      {
        "title": "Migrate Production Codebase to Opus 4.5",
        "description": "Update all API calls, model strings, and configuration files to use Claude Opus 4.5 across a production application. Ensures compatibility and best performance.",
        "target_user": "Software engineers and DevOps teams maintaining production Claude integrations"
      },
      {
        "title": "Update Multi-Platform Claude Deployments",
        "description": "Migrate Claude model references across different cloud platforms (AWS, GCP, Azure) simultaneously. Handles platform-specific model string formats.",
        "target_user": "Platform engineers and cloud architects managing multi-cloud AI deployments"
      },
      {
        "title": "Fix Behavioral Issues After Model Upgrade",
        "description": "Apply targeted prompt adjustments to resolve overtriggering, over-engineering, or other behavioral quirks that appeared after migrating to Opus 4.5.",
        "target_user": "AI engineers and developers troubleshooting post-migration issues"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Claude Sonnet 4.5 to Opus 4.5. Update all model strings and API calls.",
        "scenario": "When you want a straightforward migration without prompt adjustments"
      },
      {
        "title": "Migration with Prompt Fixes",
        "prompt": "Migrate my code from Opus 4.1 to Opus 4.5. Also update my system prompts to handle Opus 4.5 behavioral differences, particularly over-triggering of tools.",
        "scenario": "When you want both model string updates and prompt adjustments for known issues"
      },
      {
        "title": "Multi-Platform Migration",
        "prompt": "Update all Claude model references in my project to Opus 4.5. I use AWS Bedrock. Replace Sonnet 4.0 strings and remove the context-1m beta header.",
        "scenario": "When migrating on a specific cloud platform with deprecated beta features"
      },
      {
        "title": "Targeted Prompt Adjustment",
        "prompt": "My code already uses Opus 4.5, but I'm seeing issues with over-engineering. Update my system prompts to prevent unnecessary files and abstractions.",
        "scenario": "When you need to fix specific Opus 4.5 behavioral issues without changing model strings"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python API wrapper from Sonnet 4.5 to Opus 4.5",
        "output": [
          "Scanned codebase for model strings...",
          "Found 3 model references in api/client.py",
          "Updated: claude-sonnet-4-5-20250929 â†’ claude-opus-4-5-20251101",
          "Removed unsupported beta header: context-1m-2025-08-07",
          "Added effort parameter configuration for optimal performance",
          "Migration complete. 3 files modified."
        ]
      },
      {
        "input": "I use Google Vertex AI. Migrate from Sonnet 4.0 to Opus 4.5",
        "output": [
          "Identified platform: Google Vertex AI",
          "Found 2 model references in config/",
          "Updated: claude-sonnet-4@20250514 â†’ claude-opus-4-5@20251101",
          "Updated: claude-sonnet-4@20250514 â†’ claude-opus-4-5@20251101",
          "Migration complete. Ready for Opus 4.5 on Vertex AI."
        ]
      },
      {
        "input": "Migrate from Opus 4.1 and fix over-triggering of tools",
        "output": [
          "Scanned for Opus 4.1 model strings...",
          "Updated 5 files to use claude-opus-4-5-20251101",
          "Applied tool overtriggering fixes: softened 4 aggressive phrases",
          "Examples: 'CRITICAL:' â†’ removed, 'ALWAYS' â†’ removed emphasis",
          "Added code exploration guideline to prevent assumptions",
          "Migration complete with behavioral adjustments."
        ]
      }
    ],
    "best_practices": [
      "Start with a basic migration to update model strings first, then apply prompt adjustments only if issues appear",
      "Test migrated code thoroughly after migration, especially if applying behavioral prompt adjustments",
      "Use version control and commit migrations as separate changes to easily roll back if needed"
    ],
    "anti_patterns": [
      "Applying all prompt adjustments by default without user request, which may change behavior unexpectedly",
      "Migrating Haiku models to Opus 4.5, which is not supported",
      "Skipping the summary step and not informing users about what changed in their codebase"
    ],
    "faq": [
      {
        "question": "Which Claude models can be migrated to Opus 4.5?",
        "answer": "This skill migrates Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5. It does not support migrating Haiku models."
      },
      {
        "question": "Which platforms are supported for migration?",
        "answer": "The skill supports Anthropic API (1st party), AWS Bedrock, Google Vertex AI, and Azure AI Foundry. Model strings are automatically converted to the correct format for each platform."
      },
      {
        "question": "What are Opus 4.5 behavioral differences?",
        "answer": "Opus 4.5 may over-trigger tools with aggressive language, create extra files, propose solutions without reading code, or produce generic frontend designs. These are addressed with optional prompt snippets."
      },
      {
        "question": "Does the skill apply prompt adjustments automatically?",
        "answer": "No. Model string updates are applied automatically, but prompt adjustments are only added when the user explicitly requests them or reports specific issues."
      },
      {
        "question": "What is the effort parameter?",
        "answer": "Effort controls how eagerly Claude spends tokens. The skill adds effort: high for best performance, which is the recommended default for Opus 4.5."
      },
      {
        "question": "What happens to deprecated beta headers?",
        "answer": "Unsupported beta headers like context-1m-2025-08-07 are removed and replaced with a comment noting that 1M context beta is not yet supported with Opus 4.5."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md",
          "lines": 71
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md",
          "lines": 107
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 106
    }
  ]
}
