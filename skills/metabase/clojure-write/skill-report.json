{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T06:25:28.984Z",
    "slug": "metabase-clojure-write",
    "source_url": "https://github.com/metabase/metabase/tree/master/.claude/skills/clojure-write",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "d5c9199943d4da66f7cbc0ebe25241248086b671688203d58e2485bd968673c5",
    "tree_hash": "bee9688fd2099073ef097292b9e025d228f161c5eb549d429eb0fab1601a334a"
  },
  "skill": {
    "name": "clojure-write",
    "description": "Guide Clojure and ClojureScript development using REPL-driven workflow, coding conventions, and best practices. Use when writing, developing, or refactoring Clojure/ClojureScript code.",
    "summary": "Guide Clojure and ClojureScript development using REPL-driven workflow, coding conventions, and best...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "metabase",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "clojure",
      "clojurescript",
      "repl",
      "functional-programming"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only development guidance for Clojure/ClojureScript. No executable code, scripts, network calls, or filesystem operations beyond reading its own documentation. Static findings are false positives from pattern matching on documentation references.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          },
          {
            "file": "SKILL.md",
            "line_start": 246,
            "line_end": 246
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 11,
            "line_end": 11
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 16
          },
          {
            "file": "SKILL.md",
            "line_start": 27,
            "line_end": 27
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 38
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 44,
            "line_end": 44
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 62,
            "line_end": 62
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 63
          },
          {
            "file": "SKILL.md",
            "line_start": 69,
            "line_end": 69
          },
          {
            "file": "SKILL.md",
            "line_start": 69,
            "line_end": 69
          },
          {
            "file": "SKILL.md",
            "line_start": 75,
            "line_end": 75
          },
          {
            "file": "SKILL.md",
            "line_start": 75,
            "line_end": 75
          },
          {
            "file": "SKILL.md",
            "line_start": 76,
            "line_end": 76
          },
          {
            "file": "SKILL.md",
            "line_start": 82,
            "line_end": 82
          },
          {
            "file": "SKILL.md",
            "line_start": 83,
            "line_end": 83
          },
          {
            "file": "SKILL.md",
            "line_start": 83,
            "line_end": 83
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 87
          },
          {
            "file": "SKILL.md",
            "line_start": 93,
            "line_end": 93
          },
          {
            "file": "SKILL.md",
            "line_start": 94,
            "line_end": 94
          },
          {
            "file": "SKILL.md",
            "line_start": 98,
            "line_end": 98
          },
          {
            "file": "SKILL.md",
            "line_start": 99,
            "line_end": 99
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 104
          },
          {
            "file": "SKILL.md",
            "line_start": 105,
            "line_end": 105
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 107,
            "line_end": 107
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 117,
            "line_end": 117
          },
          {
            "file": "SKILL.md",
            "line_start": 124,
            "line_end": 124
          },
          {
            "file": "SKILL.md",
            "line_start": 125,
            "line_end": 125
          },
          {
            "file": "SKILL.md",
            "line_start": 129,
            "line_end": 129
          },
          {
            "file": "SKILL.md",
            "line_start": 130,
            "line_end": 130
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 136,
            "line_end": 136
          },
          {
            "file": "SKILL.md",
            "line_start": 144,
            "line_end": 144
          },
          {
            "file": "SKILL.md",
            "line_start": 148,
            "line_end": 148
          },
          {
            "file": "SKILL.md",
            "line_start": 155,
            "line_end": 155
          },
          {
            "file": "SKILL.md",
            "line_start": 159,
            "line_end": 159
          },
          {
            "file": "SKILL.md",
            "line_start": 161,
            "line_end": 161
          },
          {
            "file": "SKILL.md",
            "line_start": 172,
            "line_end": 172
          },
          {
            "file": "SKILL.md",
            "line_start": 177,
            "line_end": 177
          },
          {
            "file": "SKILL.md",
            "line_start": 177,
            "line_end": 177
          },
          {
            "file": "SKILL.md",
            "line_start": 180,
            "line_end": 180
          },
          {
            "file": "SKILL.md",
            "line_start": 185,
            "line_end": 185
          },
          {
            "file": "SKILL.md",
            "line_start": 187,
            "line_end": 187
          },
          {
            "file": "SKILL.md",
            "line_start": 188,
            "line_end": 188
          },
          {
            "file": "SKILL.md",
            "line_start": 192,
            "line_end": 192
          },
          {
            "file": "SKILL.md",
            "line_start": 193,
            "line_end": 193
          },
          {
            "file": "SKILL.md",
            "line_start": 194,
            "line_end": 194
          },
          {
            "file": "SKILL.md",
            "line_start": 196,
            "line_end": 196
          },
          {
            "file": "SKILL.md",
            "line_start": 197,
            "line_end": 197
          },
          {
            "file": "SKILL.md",
            "line_start": 199,
            "line_end": 199
          },
          {
            "file": "SKILL.md",
            "line_start": 203,
            "line_end": 203
          },
          {
            "file": "SKILL.md",
            "line_start": 209,
            "line_end": 209
          },
          {
            "file": "SKILL.md",
            "line_start": 209,
            "line_end": 209
          },
          {
            "file": "SKILL.md",
            "line_start": 210,
            "line_end": 210
          },
          {
            "file": "SKILL.md",
            "line_start": 211,
            "line_end": 211
          },
          {
            "file": "SKILL.md",
            "line_start": 214,
            "line_end": 214
          },
          {
            "file": "SKILL.md",
            "line_start": 219,
            "line_end": 219
          },
          {
            "file": "SKILL.md",
            "line_start": 219,
            "line_end": 219
          },
          {
            "file": "SKILL.md",
            "line_start": 220,
            "line_end": 220
          },
          {
            "file": "SKILL.md",
            "line_start": 227,
            "line_end": 227
          },
          {
            "file": "SKILL.md",
            "line_start": 227,
            "line_end": 227
          },
          {
            "file": "SKILL.md",
            "line_start": 227,
            "line_end": 227
          },
          {
            "file": "SKILL.md",
            "line_start": 229,
            "line_end": 231
          },
          {
            "file": "SKILL.md",
            "line_start": 231,
            "line_end": 237
          },
          {
            "file": "SKILL.md",
            "line_start": 237,
            "line_end": 239
          },
          {
            "file": "SKILL.md",
            "line_start": 239,
            "line_end": 240
          },
          {
            "file": "SKILL.md",
            "line_start": 240,
            "line_end": 240
          },
          {
            "file": "SKILL.md",
            "line_start": 240,
            "line_end": 241
          },
          {
            "file": "SKILL.md",
            "line_start": 241,
            "line_end": 245
          },
          {
            "file": "SKILL.md",
            "line_start": 245,
            "line_end": 247
          },
          {
            "file": "SKILL.md",
            "line_start": 247,
            "line_end": 251
          },
          {
            "file": "SKILL.md",
            "line_start": 251,
            "line_end": 257
          },
          {
            "file": "SKILL.md",
            "line_start": 257,
            "line_end": 262
          },
          {
            "file": "SKILL.md",
            "line_start": 262,
            "line_end": 298
          },
          {
            "file": "SKILL.md",
            "line_start": 298,
            "line_end": 300
          },
          {
            "file": "SKILL.md",
            "line_start": 300,
            "line_end": 303
          },
          {
            "file": "SKILL.md",
            "line_start": 303,
            "line_end": 303
          },
          {
            "file": "SKILL.md",
            "line_start": 303,
            "line_end": 309
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 490,
    "audit_model": "claude",
    "audited_at": "2026-01-17T06:25:28.984Z"
  },
  "content": {
    "user_title": "Write Clojure with REPL-driven best practices",
    "value_statement": "Clojure development can feel unfamiliar without REPL-driven workflows and proper conventions. This skill provides step-by-step guidance for bottom-up development, functional programming patterns, and critical editing rules to write correct Clojure code.",
    "seo_keywords": [
      "clojure development",
      "clojurescript",
      "repl-driven development",
      "functional programming",
      "claude code",
      "claude",
      "codex",
      "metabase",
      "lisp development",
      "clojure coding conventions"
    ],
    "actual_capabilities": [
      "Guides REPL-driven development workflow from small functions to complex systems",
      "Provides bottom-up development loop with file evaluation steps",
      "Lists critical editing rules for Clojure syntax correctness",
      "References Clojure style guide and command documentation",
      "Prefers clojure-mcp tools over shell commands for REPL integration"
    ],
    "limitations": [
      "Does not execute Clojure code directly - requires clojure-mcp tools or existing REPL",
      "Does not provide project scaffolding or configuration",
      "Does not include testing frameworks or test generation",
      "References shared documentation files that must exist separately"
    ],
    "use_cases": [
      {
        "target_user": "Clojure beginners",
        "title": "Learn REPL workflow",
        "description": "Start with fundamental functions, test in REPL, then integrate into source code gradually"
      },
      {
        "target_user": "Experienced developers",
        "title": "Apply style conventions",
        "description": "Follow established Metabase coding conventions and functional programming principles"
      },
      {
        "target_user": "Code editors",
        "title": "Prevent syntax errors",
        "description": "Use structural editing rules, verify readability, and maintain proper parentheses balance"
      }
    ],
    "prompt_templates": [
      {
        "title": "New function",
        "scenario": "Creating a small Clojure function",
        "prompt": "Write a Clojure function that [describe functionality]. Start by writing and testing it in the REPL with various inputs."
      },
      {
        "title": "REPL workflow",
        "scenario": "Developing bottom-up",
        "prompt": "Help me develop [feature] using bottom-up REPL workflow. Start with fundamental functions, test each in the REPL, then compose them."
      },
      {
        "title": "Style guide",
        "scenario": "Applying coding conventions",
        "prompt": "Review my Clojure code for style violations. Check against the style guide: proper function design, naming conventions, and formatting."
      },
      {
        "title": "Edit safely",
        "scenario": "Modifying existing code",
        "prompt": "Help me edit [function/file] with proper Clojure syntax. Remember to verify readability after each change and check parentheses balance."
      }
    ],
    "output_examples": [
      {
        "input": "Write a function to validate email addresses",
        "output": [
          "Start with basic validation rules (format, domain)",
          "Test each rule individually in the REPL",
          "Compose rules into a single validate-email function",
          "Test edge cases (empty, invalid format, valid)",
          "Move working function to appropriate namespace",
          "Verify with -check-readable before committing"
        ]
      },
      {
        "input": "Create a REST API endpoint for listing dashboards",
        "output": [
          "Set up endpoint in module.api namespace with proper routing",
          "Add Malli schemas for query parameters",
          "Implement handler using Toucan model query",
          "Include response schema for documentation",
          "Write tests covering success and error cases"
        ]
      },
      {
        "input": "Refactor a 50-line function into smaller parts",
        "identify": "Extract pure functions that can be tested independently",
        "output": [
          "Identify pure logic that can be separated from side effects",
          "Write and test each small function in the REPL",
          "Compose the smaller functions back together",
          "Verify original behavior with comprehensive tests"
        ]
      }
    ],
    "best_practices": [
      "Start with smallest functions and test thoroughly in REPL before composing",
      "Use clojure-mcp tools for REPL integration instead of shell commands when available",
      "Verify readability with -check-readable after every Clojure code change"
    ],
    "anti_patterns": [
      "Writing large functions without REPL testing at each step",
      "Ignoring parentheses balance or skipping readability checks",
      "Falling back to shell commands when clojure-mcp tools are available"
    ],
    "faq": [
      {
        "question": "What tools does this skill require?",
        "answer": "Requires clojure-mcp tools (clojure_eval, clojure_edit) or a running Clojure REPL for code execution."
      },
      {
        "question": "What are the limits of this skill?",
        "answer": "Provides guidance only - does not execute code, generate projects, or configure environments."
      },
      {
        "question": "How do I integrate with existing projects?",
        "answer": "Follow bottom-up workflow: test in REPL, integrate to namespaces, verify with -check-readable."
      },
      {
        "question": "Is my data safe with this skill?",
        "answer": "Yes - this is a prompt-only skill with no network calls or file writes outside of normal editing."
      },
      {
        "question": "Why is my code not working after editing?",
        "answer": "Check parentheses balance and run -check-readable. Common issues include missing brackets and formatting errors."
      },
      {
        "question": "How is this different from other language skills?",
        "answer": "Focuses on REPL-driven workflow, functional programming principles, and Metabase-specific Clojure conventions."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 313
    }
  ]
}
