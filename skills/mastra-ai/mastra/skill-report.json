{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-15T08:42:06.104Z",
    "slug": "mastra-ai-mastra",
    "source_url": "https://github.com/mastra-ai/skills/tree/main/skills/mastra/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "7390b6b33d90bdc645e16c40e320690daabe7b451a0e938afddb9d53b85a08e0",
    "tree_hash": "6d3a281d4eb068760feae46a425a494141c0eec7e2d0f69b16e3c0355be81730"
  },
  "skill": {
    "name": "mastra",
    "description": "Comprehensive Mastra framework guide. Teaches how to find current documentation, verify API signatures, and build agents and workflows. Covers documentation lookup strategies (embedded docs, remote docs), core concepts (agents vs workflows, tools, memory, RAG), TypeScript requirements, and common patterns. Use this skill for all Mastra development to ensure you're using current APIs from the installed version or latest documentation.",
    "summary": "Comprehensive Mastra framework guide for building AI applications with agents, workflows, and tools.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "mastra-ai",
    "license": "Apache-2.0",
    "tags": [
      "mastra",
      "ai-agents",
      "typescript",
      "workflows",
      "llm"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [],
    "category": "coding"
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation/reference skill providing guidance on the Mastra framework. All static findings are false positives: (1) Backtick patterns are markdown code block delimiters in documentation, not shell commands. (2) Hardcoded URLs are legitimate documentation links. (3) Environment variable patterns are code examples showing configuration. (4) Cryptographic references are documentation content. No actual security risks present.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [
      {
        "title": "False Positive: Markdown Code Block Backticks",
        "description": "The static scanner detected 'Ruby/shell backtick execution' patterns. These are false positives - the backticks are markdown code block delimiters (```bash, ```typescript) used in documentation, not actual shell commands being executed.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 157
          },
          {
            "file": "references/common-errors.md",
            "line_start": 11,
            "line_end": 528
          },
          {
            "file": "references/create-mastra.md",
            "line_start": 11,
            "line_end": 211
          },
          {
            "file": "references/embedded-docs.md",
            "line_start": 3,
            "line_end": 115
          },
          {
            "file": "references/migration-guide.md",
            "line_start": 11,
            "line_end": 176
          },
          {
            "file": "references/remote-docs.md",
            "line_start": 39,
            "line_end": 174
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "Direct inspection of files confirms backticks are used exclusively for markdown code formatting in documentation files."
      },
      {
        "title": "False Positive: Documentation URLs",
        "description": "The static scanner detected 'Hardcoded URL' patterns. These are legitimate documentation URLs pointing to mastra.ai, github.com, and npmjs.com - all official Mastra resources.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 8,
            "line_end": 159
          },
          {
            "file": "references/common-errors.md",
            "line_start": 511,
            "line_end": 535
          },
          {
            "file": "references/create-mastra.md",
            "line_start": 5,
            "line_end": 220
          },
          {
            "file": "references/migration-guide.md",
            "line_start": 11,
            "line_end": 176
          },
          {
            "file": "references/remote-docs.md",
            "line_start": 3,
            "line_end": 171
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "All URLs are documentation links to official Mastra resources and npm packages."
      },
      {
        "title": "False Positive: Environment Variable Code Examples",
        "description": "The static scanner detected 'env_access' and 'sensitive' patterns in code examples. These are documentation showing users how to configure Mastra with environment variables - standard practice for configuration documentation.",
        "locations": [
          {
            "file": "references/common-errors.md",
            "line_start": 138,
            "line_end": 448
          },
          {
            "file": "references/create-mastra.md",
            "line_start": 109,
            "line_end": 209
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "Code examples showing process.env.DATABASE_URL usage are legitimate documentation patterns for database configuration."
      },
      {
        "title": "False Positive: Cryptographic References in Documentation",
        "description": "The static scanner detected 'Weak cryptographic algorithm' patterns. These are references to cryptographic terms (MD5, SHA) in documentation context, not actual cryptographic code.",
        "locations": [
          {
            "file": "references/common-errors.md",
            "line_start": 75,
            "line_end": 75
          },
          {
            "file": "references/create-mastra.md",
            "line_start": 3,
            "line_end": 203
          },
          {
            "file": "references/embedded-docs.md",
            "line_start": 12,
            "line_end": 12
          },
          {
            "file": "references/migration-guide.md",
            "line_start": 7,
            "line_end": 142
          },
          {
            "file": "references/remote-docs.md",
            "line_start": 8,
            "line_end": 192
          },
          {
            "file": "SKILL.md",
            "line_start": 3,
            "line_end": 3
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "Cryptographic algorithm mentions are in documentation text explaining hashing or security patterns, not executable code."
      }
    ],
    "files_scanned": 6,
    "total_lines": 1416,
    "audit_model": "claude",
    "audited_at": "2026-02-15T08:42:06.104Z",
    "risk_factors": [],
    "risk_factor_evidence": []
  },
  "content": {
    "user_title": "Build AI Apps with Mastra Framework",
    "value_statement": "Mastra is a TypeScript framework for building AI agents and workflows. This skill provides comprehensive documentation lookup strategies and code patterns to ensure you use current APIs and avoid common errors.",
    "seo_keywords": [
      "Mastra framework",
      "Claude Code",
      "Codex",
      "AI agents",
      "LLM workflows",
      "TypeScript AI",
      "mastra ai",
      "agent framework",
      "AI automation",
      "node.js ai"
    ],
    "actual_capabilities": [
      "Look up current Mastra API documentation from embedded docs or remote sources",
      "Create and configure AI agents with tools, memory, and model providers",
      "Build structured workflows with steps, conditions, and data flow",
      "Debug common Mastra errors including TypeScript configuration issues",
      "Migrate from Mastra v0.x to v1.x with updated APIs",
      "Set up storage backends (Postgres, LibSQL, MongoDB) for persistence"
    ],
    "limitations": [
      "Does not execute actual Mastra code - provides documentation guidance only",
      "Requires users to have Mastra packages installed for embedded docs lookup",
      "Does not provide runtime debugging or execution of Mastra applications",
      "Cannot verify API signatures against live packages without installation"
    ],
    "use_cases": [
      {
        "title": "New Mastra Developer Onboarding",
        "description": "A developer starting with Mastra uses this skill to understand documentation lookup priority (embedded docs first, then remote), set up proper TypeScript configuration, and create their first agent with tools.",
        "target_user": "New Mastra framework users"
      },
      {
        "title": "Debugging Runtime Errors",
        "description": "A developer encountering 'Property X does not exist on type Y' errors uses this skill to identify that their knowledge is outdated and learn how to look up current API in embedded docs.",
        "target_user": "Developers troubleshooting Mastra errors"
      },
      {
        "title": "Building Multi-Step Workflows",
        "description": "An experienced developer uses this skill to understand the difference between agents (autonomous) and workflows (structured), and learn the correct pattern for creating and executing workflows with .commit().",
        "target_user": "Intermediate to advanced Mastra developers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Getting Started with Mastra",
        "prompt": "How do I set up a new Mastra project and create my first agent with a simple tool?",
        "scenario": "Beginner looking to create a new Mastra project from scratch"
      },
      {
        "title": "Understanding Agents vs Workflows",
        "prompt": "What is the difference between an Agent and a Workflow in Mastra, and when should I use each one?",
        "scenario": "Developer trying to choose between agents and workflows for their use case"
      },
      {
        "title": "Debugging Type Errors",
        "prompt": "I'm getting 'Property X does not exist on type Y' errors in my Mastra code. How do I find the correct API?",
        "scenario": "Developer encountering TypeScript errors they believe are due to outdated knowledge"
      },
      {
        "title": "Configuring Memory and Storage",
        "prompt": "How do I set up memory and storage for my agent so it remembers conversation history across sessions?",
        "scenario": "Developer wanting to add persistence to their agent"
      }
    ],
    "output_examples": [
      {
        "input": "How do I set up a new Mastra project?",
        "output": "To set up a new Mastra project: 1) Run `npm create mastra@latest` or create manually with `npm init`. 2) Configure TypeScript with ES2022 modules (target: ES2022, module: ES2022, moduleResolution: bundler). 3) Add 'type: module' to package.json. 4) Install @mastra/core. See references/create-mastra.md for full setup instructions."
      },
      {
        "input": "What is the correct pattern for creating an agent with tools?",
        "output": "The correct pattern: 1) Create a tool with createTool(). 2) Register it in your Mastra instance under the tools config. 3) Pass tools to your Agent constructor. Example: `const agent = new Agent({ id: 'my-agent', tools: { myTool } })`. See references/common-errors.md for complete code examples."
      },
      {
        "input": "How do I look up current Mastra API documentation?",
        "output": "Priority order: 1) Check embedded docs in node_modules/@mastra/*/dist/docs/ if packages are installed. 2) Fetch remote docs from https://mastra.ai/llms.txt if packages not installed. 3) Use the SOURCE_MAP.json to find exact type definitions. Never rely on training data - always verify against current docs."
      }
    ],
    "best_practices": [
      "Always verify API usage against current documentation rather than relying on training data",
      "Use embedded docs (node_modules) as the primary source when packages are installed",
      "Configure proper ES2022 TypeScript settings before writing any Mastra code",
      "Use consistent threadId for agent conversations to maintain memory across sessions"
    ],
    "anti_patterns": [
      "Assuming training data knowledge is current - Mastra APIs change frequently",
      "Using CommonJS module configuration instead of ES2022 modules",
      "Forgetting to call .commit() on workflows, causing execution to fail",
      "Not registering tools in the Mastra instance before assigning to agents"
    ],
    "faq": [
      {
        "question": "Why does this skill emphasize checking documentation?",
        "answer": "Mastra evolves rapidly with frequent API changes. Training data quickly becomes outdated, so always verifying against current docs prevents errors."
      },
      {
        "question": "What is the difference between embedded and remote docs?",
        "answer": "Embedded docs come from your installed node_modules and match your exact version. Remote docs from mastra.ai/llms.txt are the latest published but may be ahead of your installed version."
      },
      {
        "question": "How do I debug 'Property X does not exist' errors?",
        "answer": "This usually means your knowledge is outdated. Check node_modules/@mastra/core/dist/docs/SOURCE_MAP.json for current exports, or fetch remote docs."
      },
      {
        "question": "When should I use an Agent vs a Workflow?",
        "answer": "Use Agents for autonomous tasks requiring decisions (support, research). Use Workflows for structured sequences with defined steps (pipelines, approvals, ETL)."
      },
      {
        "question": "How do I persist agent memory across sessions?",
        "answer": "Configure a storage backend (PostgresStore, LibSQLStore) and pass it to Memory. Use consistent threadId when calling agent.generate()."
      },
      {
        "question": "What TypeScript configuration does Mastra require?",
        "answer": "Mastra requires ES2022 modules. Set target: ES2022, module: ES2022, moduleResolution: bundler in tsconfig.json, and add 'type: module' to package.json."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "common-errors.md",
          "type": "file",
          "path": "references/common-errors.md",
          "lines": 536
        },
        {
          "name": "create-mastra.md",
          "type": "file",
          "path": "references/create-mastra.md",
          "lines": 221
        },
        {
          "name": "embedded-docs.md",
          "type": "file",
          "path": "references/embedded-docs.md",
          "lines": 124
        },
        {
          "name": "migration-guide.md",
          "type": "file",
          "path": "references/migration-guide.md",
          "lines": 181
        },
        {
          "name": "remote-docs.md",
          "type": "file",
          "path": "references/remote-docs.md",
          "lines": 194
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 160
    }
  ]
}
