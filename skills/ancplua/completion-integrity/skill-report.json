{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:47:33.588Z",
    "slug": "ancplua-completion-integrity",
    "source_url": "https://github.com/ANcpLua/ancplua-claude-plugins/tree/main/plugins/completion-integrity/skills/completion-integrity",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c81d742e2f736a1c9ed544e8e2fe1656ab09f6dc3087285d7f75077a461fc065",
    "tree_hash": "a2666f623c83efd0681cca79f67f9ad8237fc9198e1ab7caf8e54bb752ecf658"
  },
  "skill": {
    "name": "completion-integrity",
    "description": "Prevents shortcuts and cheating when completing tasks. Blocks commits with warning suppressions, commented tests, or deleted assertions.",
    "summary": "Prevents shortcuts and cheating when completing tasks. Blocks commits with warning suppressions, com...",
    "icon": "üõ°Ô∏è",
    "version": "1.0.0",
    "author": "ANcpLua",
    "license": "MIT",
    "category": "security",
    "tags": [
      "git",
      "pre-commit",
      "code-quality",
      "integrity",
      "testing"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill containing only documentation and guidelines. No executable code, no file system access, no network calls, no external commands. The skill references external scripts but does not execute them.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 50,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:47:33.588Z"
  },
  "content": {
    "user_title": "Enforce code completion integrity",
    "value_statement": "Developers often take shortcuts by suppressing warnings, commenting out tests, or deleting assertions. This skill provides a Git pre-commit hook that blocks commits with these integrity violations, ensuring all code changes meet quality standards.",
    "seo_keywords": [
      "completion integrity",
      "git pre-commit hook",
      "code quality",
      "test integrity",
      "warning suppression",
      "Claude Code",
      "commit validation",
      "software quality",
      "developer tools",
      "CI/CD"
    ],
    "actual_capabilities": [
      "Blocks commits with warning suppressions (eslint-disable, #pragma warning)",
      "Detects commented-out tests",
      "Identifies deleted assertions (more than 2 per commit)",
      "Flags test file deletion attempts",
      "Catches empty catch blocks",
      "Monitors for excessive fresh TODOs"
    ],
    "limitations": [
      "Does not fix issues automatically - only blocks commits",
      "Requires Git repository to function",
      "May produce false positives for legitimate suppressions",
      "Cannot detect all forms of code manipulation"
    ],
    "use_cases": [
      {
        "target_user": "QA Engineers",
        "title": "Maintain test integrity",
        "description": "Ensure tests are never deleted, commented out, or weakened to make code appear working."
      },
      {
        "target_user": "Tech Leads",
        "title": "Enforce code standards",
        "description": "Block team members from suppressing warnings or skipping tests instead of fixing issues."
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Pre-commit quality gates",
        "description": "Add a Git hook that runs before commit to catch code quality issues early."
      }
    ],
    "prompt_templates": [
      {
        "title": "Check commit integrity",
        "scenario": "Before committing code changes",
        "prompt": "Run the completion integrity check to verify no warning suppressions, commented tests, or deleted assertions are in my changes."
      },
      {
        "title": "Manual integrity scan",
        "scenario": "Reviewing a branch before merge",
        "prompt": "Perform a manual integrity check on the current branch using the integrity-check.sh script."
      },
      {
        "title": "Install git hook",
        "scenario": "Setting up new repository",
        "prompt": "Install the completion integrity git pre-commit hook to this repository."
      },
      {
        "title": "Handle false positive",
        "scenario": "Legitimate warning suppression needed",
        "prompt": "Help me document a legitimate reason for this warning suppression in my commit message."
      }
    ],
    "output_examples": [
      {
        "input": "Run the completion integrity check on my changes",
        "output": [
          "‚úì No warning suppressions detected",
          "‚úì No commented-out tests found",
          "‚úì No deleted assertions detected",
          "‚úì No test files deleted",
          "‚úì No empty catch blocks found",
          "‚úì 1 fresh TODO (within limit)",
          "‚úì Commit is clear to proceed"
        ]
      }
    ],
    "best_practices": [
      "Run the integrity check before every commit to catch issues early.",
      "Fix the underlying issue rather than suppressing warnings.",
      "Document legitimate suppressions with clear explanations in commit messages.",
      "Use TODO comments sparingly and track them in your issue tracker."
    ],
    "anti_patterns": [
      "Suppressing warnings with eslint-disable instead of fixing the code.",
      "Commenting out failing tests instead of debugging the issue.",
      "Deleting assertions to make tests pass artificially.",
      "Deleting test files to avoid running tests."
    ],
    "faq": [
      {
        "question": "Which version control systems are supported?",
        "answer": "Currently only Git is supported. The skill uses Git pre-commit hooks to block commits."
      },
      {
        "question": "What are the limits on fresh TODOs?",
        "answer": "More than 2 fresh TODOs per commit will be blocked. Defer work explicitly instead of using TODO comments."
      },
      {
        "question": "How do I integrate this with my existing workflow?",
        "answer": "Run the install script once to set up the Git pre-commit hook. It runs automatically before each commit."
      },
      {
        "question": "Is my code data safe with this skill?",
        "answer": "Yes. This skill only reads commit diffs to check for patterns. No code is sent anywhere."
      },
      {
        "question": "What should I do if blocked by a false positive?",
        "answer": "Add a clear explanation in your commit message explaining why the suppression or pattern is legitimate."
      },
      {
        "question": "How does this compare to pre-commit CI?",
        "answer": "This runs locally before commit, catching issues earlier. Pre-commit CI runs after commit in CI. Use both for defense in depth."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
