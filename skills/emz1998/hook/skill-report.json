{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T02:09:09.218Z",
    "slug": "emz1998-hook",
    "source_url": "https://github.com/Emz1998/nexly-notes/tree/main/.claude/skills%20copy/hook",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "e14490caabeadefa230f1b21a73819d7530ee3d92fb0b76dabc2ab0fa4b1f1e8",
    "tree_hash": "cb74997ac8bb669786635ea8c2be8edcbad09865e6768b87487952960cb8709d"
  },
  "skill": {
    "name": "hook",
    "description": "Create, update, configure, and validate Claude Code hooks for various events and integrations. This skill helps developers automate workflows by setting up hooks that run before, after, or during Claude Code operations.",
    "summary": "Create and manage Claude Code hooks for workflow automation",
    "icon": "ü™ù",
    "version": "1.0.0",
    "author": "Emz1998",
    "license": "MIT",
    "tags": [
      "claude-code",
      "hooks",
      "automation",
      "workflows",
      "configuration"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill provides official Claude Code hooks documentation and helper workflows. All static findings are FALSE POSITIVES - the detected patterns are documentation examples showing legitimate hook configurations, not actual security threats. The skill includes explicit security constraints prohibiting dangerous operations like hardcoded credentials or system file modifications.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "hooks.md",
            "line_start": 22,
            "line_end": 38
          },
          {
            "file": "hooks.md",
            "line_start": 393,
            "line_end": 424
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 68
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "hooks.md",
            "line_start": 13,
            "line_end": 15
          },
          {
            "file": "hooks.md",
            "line_start": 469,
            "line_end": 589
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "hooks.md",
            "line_start": 393,
            "line_end": 399
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 1203,
    "audit_model": "claude",
    "audited_at": "2026-01-23T02:15:00.000Z"
  },
  "content": {
    "user_title": "Create Claude Code Hooks for Workflow Automation",
    "value_statement": "Claude Code hooks enable developers to automate workflows by running custom scripts before, after, or during Claude operations. This skill helps you set up, configure, and validate hooks for tasks like code formatting, validation, notifications, and context management.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "hooks",
      "automation",
      "workflow",
      "scripts",
      "configuration",
      "events",
      "integration"
    ],
    "actual_capabilities": [
      "Create new hook scripts in the .claude/hooks/ directory",
      "Configure hooks in settings.local.json for various events",
      "Implement prompt-based hooks for intelligent decision making",
      "Add proper error handling and validation to hooks",
      "Test hook execution without creating test files"
    ],
    "limitations": [
      "Cannot modify critical system files",
      "Cannot implement hooks with hardcoded credentials",
      "Cannot bypass security validations or access controls",
      "Cannot create hooks that cause infinite loops"
    ],
    "use_cases": [
      {
        "title": "Code Quality Gates",
        "description": "Set up PostToolUse hooks to automatically run linters, formatters, or tests after file modifications. Ensure code quality standards are met without manual intervention.",
        "target_user": "Development teams enforcing code quality standards"
      },
      {
        "title": "Context Management",
        "description": "Use SessionStart hooks to load project context, recent changes, or issue tracking information at the start of each Claude Code session.",
        "target_user": "Developers working on large codebases requiring context awareness"
      },
      {
        "title": "Approval Workflows",
        "description": "Configure PreToolUse and PermissionRequest hooks to automatically approve or block certain operations based on defined policies, reducing permission dialog fatigue.",
        "target_user": "Teams with security or operational policies to enforce"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Hook Creation",
        "prompt": "Create a hook called $1 that $2",
        "scenario": "When you need to create a simple hook for a specific purpose"
      },
      {
        "title": "Notification Hook Setup",
        "prompt": "Set up a Notification hook that alerts when Claude is idle for more than 60 seconds",
        "scenario": "When you want notifications for idle sessions"
      },
      {
        "title": "Session Start Configuration",
        "prompt": "Create a SessionStart hook that loads environment variables and project context from .env file",
        "scenario": "When you need environment setup at session start"
      },
      {
        "title": "Prompt-Based Decision Hook",
        "prompt": "Create a Stop hook that uses LLM evaluation to decide if Claude should continue working based on task completion",
        "scenario": "When you want intelligent stop decisions"
      }
    ],
    "output_examples": [
      {
        "input": "Create a hook that runs after Write operations to validate file content",
        "output": "Created .claude/hooks/validate-write.sh with content validation logic. Updated .claude/settings.local.json with PostToolUse hook configuration matching Write tool. Hook validates file content against defined patterns and exits with code 2 if validation fails."
      },
      {
        "input": "Set up a SessionStart hook to load NVM environment",
        "output": "Created .claude/hooks/nvm-setup.sh that sources NVM and sets Node version. Configured SessionStart hook with matcher for startup source. Environment variables will persist across the session via CLAUDE_ENV_FILE."
      },
      {
        "input": "Create a prompt-based hook to block sensitive operations",
        "output": "Created .claude/hooks/safety-check.py implementing LLM-based evaluation. Configured PreToolUse hook with matcher for Bash tool. Hook analyzes commands and returns block decision with reason if potentially dangerous patterns detected."
      }
    ],
    "best_practices": [
      "Always quote shell variables in hook scripts using \"$VAR\" syntax",
      "Validate and sanitize all inputs received via stdin before processing",
      "Use absolute paths for scripts and leverage $CLAUDE_PROJECT_DIR for project-relative paths",
      "Implement proper exit codes and error handling for predictable behavior"
    ],
    "anti_patterns": [
      "Hardcoding credentials or secrets in hook scripts",
      "Creating hooks without timeout limits that could hang indefinitely",
      "Modifying files outside the project directory",
      "Skipping input validation when processing hook input data"
    ],
    "faq": [
      {
        "question": "What hook events are available?",
        "answer": "Claude Code supports PreToolUse, PermissionRequest, PostToolUse, Notification, UserPromptSubmit, Stop, SubagentStop, PreCompact, SessionStart, and SessionEnd hooks. Each serves different purposes from pre-execution validation to post-execution cleanup."
      },
      {
        "question": "How do I configure hooks?",
        "answer": "Hooks are configured in .claude/settings.local.json under the hooks key. Each event can have matchers and an array of hooks with type (command or prompt), command/prompt, and optional timeout."
      },
      {
        "question": "Can hooks modify tool inputs?",
        "answer": "Yes, PreToolUse and PermissionRequest hooks can use updatedInput to modify tool parameters before execution. This allows hooks to transform or approve operations automatically."
      },
      {
        "question": "What is the difference between command and prompt hooks?",
        "answer": "Command hooks execute bash scripts for deterministic operations. Prompt hooks use an LLM for context-aware decisions. Prompt hooks currently work best with Stop and SubagentStop events for intelligent continuation decisions."
      },
      {
        "question": "How do hooks handle errors?",
        "answer": "Exit code 0 means success. Exit code 2 is a blocking error. Other non-zero codes are non-blocking errors. Hooks can also return JSON for structured control over Claude's behavior."
      },
      {
        "question": "Are hooks safe to use?",
        "answer": "Hooks execute commands on your system, so review any hook commands before adding them. Claude Code warns about external modifications and requires review for changes. Always test hooks in safe environments first."
      }
    ]
  },
  "file_structure": [
    {
      "name": "hooks.md",
      "type": "file",
      "path": "hooks.md",
      "lines": 1130
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 73
    }
  ]
}
