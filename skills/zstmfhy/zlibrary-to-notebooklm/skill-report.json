{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T05:32:14.925Z",
    "slug": "zstmfhy-zlibrary-to-notebooklm",
    "source_url": "https://github.com/zstmfhy/zlibrary-to-notebooklm/tree/main/",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "4e2284bc82ddeefb6bf8e69156e498b4ff5ece1c02e74eeb64ccf3b8e29d1a84",
    "tree_hash": "ef8662ad2738b87e407d70bebfd27d5d49efb8609b5fdd97a52cefc0d7efef10"
  },
  "skill": {
    "name": "zlibrary-to-notebooklm",
    "description": "Ëá™Âä®‰ªé Z-Library ‰∏ãËΩΩ‰π¶Á±çÂπ∂‰∏ä‰º†Âà∞ Google NotebookLM„ÄÇÊîØÊåÅ PDF/EPUB Ê†ºÂºèÔºåËá™Âä®ËΩ¨Êç¢Ôºå‰∏ÄÈîÆÂàõÂª∫Áü•ËØÜÂ∫ì„ÄÇ",
    "summary": "Ëá™Âä®‰ªé Z-Library ‰∏ãËΩΩ‰π¶Á±çÂπ∂‰∏ä‰º†Âà∞ Google NotebookLM„ÄÇÊîØÊåÅ PDF/EPUB Ê†ºÂºèÔºåËá™Âä®ËΩ¨Êç¢Ôºå‰∏ÄÈîÆÂàõÂª∫Áü•ËØÜÂ∫ì„ÄÇ",
    "icon": "üìö",
    "version": "1.0.0",
    "author": "zstmfhy",
    "license": "MIT",
    "category": "research",
    "tags": [
      "research",
      "automation",
      "books",
      "notebooklm",
      "playwright"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "high",
    "is_blocked": false,
    "safe_to_publish": false,
    "summary": "The skill automates browsing, downloads, local file conversion, and NotebookLM uploads. Documentation backticks and entropy flags are not executable code, but the Python implementation uses multiple `subprocess.run(..., shell=True)` calls with data derived from downloaded filenames and titles, creating a credible command injection risk. The skill also stores and reuses browser session state and may load plaintext Z-Library credentials from a local config file, which increases local credential exposure risk.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/upload.py",
            "line_start": 471,
            "line_end": 612
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "scripts/login.py",
            "line_start": 40,
            "line_end": 53
          },
          {
            "file": "scripts/upload.py",
            "line_start": 149,
            "line_end": 156
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/login.py",
            "line_start": 23,
            "line_end": 28
          },
          {
            "file": "scripts/upload.py",
            "line_start": 24,
            "line_end": 38
          },
          {
            "file": "scripts/convert_epub.py",
            "line_start": 162,
            "line_end": 165
          }
        ]
      }
    ],
    "critical_findings": [
      {
        "title": "Command injection risk from shell=True with interpolated data",
        "evidence": [
          {
            "file": "scripts/upload.py",
            "line_start": 477,
            "line_end": 479
          },
          {
            "file": "scripts/upload.py",
            "line_start": 528,
            "line_end": 531
          },
          {
            "file": "scripts/upload.py",
            "line_start": 610,
            "line_end": 612
          }
        ]
      }
    ],
    "high_findings": [
      {
        "title": "Credential/session exposure via persistent browser state",
        "evidence": [
          {
            "file": "scripts/login.py",
            "line_start": 23,
            "line_end": 28
          },
          {
            "file": "docs/WORKFLOW.md",
            "line_start": 104,
            "line_end": 107
          }
        ]
      },
      {
        "title": "Potential plaintext credential handling via local config file",
        "evidence": [
          {
            "file": "scripts/upload.py",
            "line_start": 27,
            "line_end": 38
          }
        ]
      }
    ],
    "medium_findings": [
      {
        "title": "Use of /tmp for intermediate files on multi-user systems",
        "evidence": [
          {
            "file": "scripts/upload.py",
            "line_start": 24,
            "line_end": 28
          }
        ]
      }
    ],
    "low_findings": [
      {
        "title": "Documentation includes many runnable commands",
        "evidence": [
          {
            "file": "README.md",
            "line_start": 40,
            "line_end": 50
          }
        ]
      }
    ],
    "dangerous_patterns": [
      {
        "pattern": "shell_command_construction",
        "evidence": [
          {
            "file": "scripts/upload.py",
            "line_start": 477,
            "line_end": 479
          },
          {
            "file": "scripts/upload.py",
            "line_start": 528,
            "line_end": 531
          }
        ]
      },
      {
        "pattern": "persistent_browser_profile_and_storage_state",
        "evidence": [
          {
            "file": "scripts/login.py",
            "line_start": 42,
            "line_end": 47
          },
          {
            "file": "scripts/login.py",
            "line_start": 66,
            "line_end": 68
          }
        ]
      }
    ],
    "files_scanned": 16,
    "total_lines": 7619,
    "audit_model": "codex",
    "audited_at": "2026-01-16T05:32:14.925Z"
  },
  "content": {
    "user_title": "Upload Z-Library books to NotebookLM notebooks",
    "value_statement": "You want to read and query a book in NotebookLM but you only have a Z-Library link. This skill downloads it, converts EPUB if needed, and uploads it.",
    "seo_keywords": [
      "Z-Library",
      "NotebookLM",
      "notebooklm-cli",
      "Playwright automation",
      "EPUB to Markdown",
      "PDF upload",
      "Claude",
      "Codex",
      "Claude Code",
      "research assistant"
    ],
    "actual_capabilities": [
      "Open a Z-Library book page in Playwright and trigger a download",
      "Save the downloaded file to the user Downloads folder",
      "Convert EPUB files to Markdown using ebooklib and BeautifulSoup",
      "Split large Markdown files into multiple parts for upload",
      "Create a new NotebookLM notebook using notebooklm-cli JSON output",
      "Upload one or multiple sources to the created notebook and return IDs"
    ],
    "limitations": [
      "Requires manual one-time login using scripts/login.py and a local browser session",
      "Relies on Z-Library page structure, which may change and break automation",
      "Requires notebooklm-cli to be installed and already authenticated",
      "Uses shell=True subprocess calls, so unsafe filenames can create command risks"
    ],
    "use_cases": [
      {
        "target_user": "Students",
        "title": "Study from a book link",
        "description": "Turn a Z-Library book link into a NotebookLM notebook for summaries, explanations, and revision questions."
      },
      {
        "target_user": "Researchers",
        "title": "Build a reading workspace",
        "description": "Upload long PDFs or EPUBs into NotebookLM and ask structured questions while you read."
      },
      {
        "target_user": "Knowledge workers",
        "title": "Create a personal library",
        "description": "Organize books into NotebookLM notebooks and use AI to extract notes and key ideas."
      }
    ],
    "prompt_templates": [
      {
        "title": "Upload one book",
        "scenario": "You have a Z-Library link",
        "prompt": "Use zlibrary-to-notebooklm to download this Z-Library page and upload the book to NotebookLM, then return the notebook ID: <PASTE_LINK>"
      },
      {
        "title": "First-time setup",
        "scenario": "You did not login yet",
        "prompt": "Guide me through first-time setup for zlibrary-to-notebooklm, including running scripts/login.py and verifying storage_state.json exists."
      },
      {
        "title": "Prefer PDF if possible",
        "scenario": "You want best formatting",
        "prompt": "Process this Z-Library link. Prefer PDF. If only EPUB is available, convert it to Markdown and upload to NotebookLM: <PASTE_LINK>"
      },
      {
        "title": "Handle very large books",
        "scenario": "File may exceed limits",
        "prompt": "Download and upload this book. If it is over the NotebookLM CLI limit, split it and upload all parts to the same notebook: <PASTE_LINK>"
      }
    ],
    "output_examples": [
      {
        "input": "Download this Z-Library book and upload it to NotebookLM. Return the notebook ID and a few questions I can ask.",
        "output": [
          "Downloaded file to Downloads folder (format: PDF)",
          "Created a new NotebookLM notebook with a cleaned title",
          "Uploaded the file as a new source",
          "Returned the notebook ID and source ID",
          "Suggested follow-up questions for reading and summarization"
        ]
      },
      {
        "input": "Upload this EPUB book to NotebookLM, even if conversion is needed.",
        "output": [
          "Converted EPUB to Markdown for NotebookLM",
          "Detected large content and split into multiple parts",
          "Uploaded each part as a separate source in the same notebook",
          "Reported how many parts were uploaded successfully"
        ]
      },
      {
        "input": "I get an error saying the session is missing. Help me fix it.",
        "output": [
          "Explained that the login session file is required",
          "Provided the command to run the login script",
          "Explained where storage_state.json is stored",
          "Suggested retry steps after login is completed"
        ]
      }
    ],
    "best_practices": [
      "Login once with scripts/login.py and protect the ~/.zlibrary directory permissions",
      "Use PDF when available for better formatting and fewer conversion issues",
      "Review downloaded filenames for unusual characters before running uploads"
    ],
    "anti_patterns": [
      "Do not run this on shared machines where other users can modify /tmp or your Downloads folder",
      "Do not use it for content you do not have legal rights to access",
      "Do not paste untrusted links or process suspiciously named files without verification"
    ],
    "faq": [
      {
        "question": "What does this skill do?",
        "answer": "It automates downloading a book from a Z-Library link and uploading it into a new NotebookLM notebook."
      },
      {
        "question": "Do I need to login first?",
        "answer": "Yes. Run scripts/login.py once to create ~/.zlibrary/storage_state.json, then the upload script can reuse the session."
      },
      {
        "question": "Does it support PDF and EPUB?",
        "answer": "Yes. It prefers PDF and can convert EPUB to Markdown before uploading."
      },
      {
        "question": "What if the book is too large for NotebookLM CLI?",
        "answer": "It can split large Markdown content into parts and upload multiple sources to the same notebook."
      },
      {
        "question": "Does it store credentials or cookies?",
        "answer": "It stores browser session state in ~/.zlibrary. Treat it as sensitive and keep file permissions restricted."
      },
      {
        "question": "Is it safe to run?",
        "answer": "It uses shell commands for notebooklm-cli. Avoid unsafe filenames and consider reviewing or hardening subprocess usage."
      }
    ]
  },
  "file_structure": [
    {
      "name": "docs",
      "type": "dir",
      "path": "docs",
      "children": [
        {
          "name": "TROUBLESHOOTING.md",
          "type": "file",
          "path": "docs/TROUBLESHOOTING.md",
          "lines": 453
        },
        {
          "name": "WORKFLOW.md",
          "type": "file",
          "path": "docs/WORKFLOW.md",
          "lines": 258
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "convert_epub.py",
          "type": "file",
          "path": "scripts/convert_epub.py",
          "lines": 196
        },
        {
          "name": "login.py",
          "type": "file",
          "path": "scripts/login.py",
          "lines": 91
        },
        {
          "name": "upload.py",
          "type": "file",
          "path": "scripts/upload.py",
          "lines": 689
        }
      ]
    },
    {
      "name": "evaluation_output.json",
      "type": "file",
      "path": "evaluation_output.json",
      "lines": 183
    },
    {
      "name": "evaluation_result.json",
      "type": "file",
      "path": "evaluation_result.json",
      "lines": 242
    },
    {
      "name": "INSTALL.md",
      "type": "file",
      "path": "INSTALL.md",
      "lines": 77
    },
    {
      "name": "LICENSE",
      "type": "file",
      "path": "LICENSE",
      "lines": 22
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md",
      "lines": 303
    },
    {
      "name": "README.zh-CN.md",
      "type": "file",
      "path": "README.zh-CN.md",
      "lines": 304
    },
    {
      "name": "requirements.txt",
      "type": "file",
      "path": "requirements.txt",
      "lines": 11
    },
    {
      "name": "SECURITY_EVALUATION.json",
      "type": "file",
      "path": "SECURITY_EVALUATION.json",
      "lines": 269
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 259
    },
    {
      "name": "skill.yaml",
      "type": "file",
      "path": "skill.yaml",
      "lines": 32
    }
  ]
}
