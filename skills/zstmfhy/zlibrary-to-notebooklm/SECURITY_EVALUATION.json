{
  "skill": {
    "name": "Z-Library to NotebookLM",
    "description": "è‡ªåŠ¨ä»Ž Z-Library ä¸‹è½½ä¹¦ç±å¹¶ä¸Šä¼ åˆ° Google NotebookLMã€‚æ”¯æŒ PDF/EPUB æ ¼å¼ï¼Œè‡ªåŠ¨è½¬æ¢ï¼Œä¸€é”®åˆ›å»ºçŸ¥è¯†åº“ã€‚",
    "summary": "Automatically download books from Z-Library and upload to NotebookLM for AI-powered reading and discussion.",
    "icon": "ðŸ“š",
    "version": "1.0.0",
    "author": "zstmfhy",
    "license": "MIT",
    "category": "productivity",
    "tags": ["books", "notebooklm", "automation", "zlibrary", "download"],
    "supported_tools": ["claude", "claude-code"]
  },
  "security_audit": {
    "risk_level": "medium",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a legitimate file automation skill with subprocess usage for calling external CLI tools. Static findings are mostly false positives from documentation formatting. Subprocess calls use shell=True with hardcoded commands and quoted file paths. The skill requires user credentials and accesses local filesystem which is necessary for its download/upload functionality.",
    "static_findings_evaluation": [
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at README.md:29",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Backticks are Markdown code formatting in documentation. The line contains `notebooklm login` example command. No actual shell execution occurs."
      },
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at docs/TROUBLESHOOTING.md:12",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Backticks are documentation formatting for showing CLI commands. No subprocess calls in documentation files."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:479",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Subprocess calls convert_epub.py script with hardcoded command string. File paths are quoted. Legitimate tool invocation for EPUB to Markdown conversion."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:529",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Subprocess calls notebooklm CLI with hardcoded command: notebooklm create. Hardcoded title argument, properly quoted. Legitimate NotebookLM notebook creation."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:544",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Subprocess calls notebooklm use with hardcoded notebook_id. Legitimate context switching for NotebookLM."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:551",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "Subprocess calls notebooklm source add with file path. Uses shell=True but path is user-controlled filename from local downloads. Quoted path mitigates injection risk. Legitimate file upload operation."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:591",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Same pattern as line 529. Hardcoded notebooklm CLI command for notebook creation."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:606",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Same pattern as line 544. Hardcoded notebooklm use command."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:611",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "Same pattern as line 551. Upload operation with quoted file path. Legitimate file upload to NotebookLM."
      },
      {
        "finding": "[CRITICAL] obfuscation: DANGEROUS COMBINATION: Code execution + Network + Credential access",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "This is the legitimate purpose of the skill. It combines: subprocess calls (for external CLI tools), network access (browser automation to Z-Library), and credential loading (for authentication). This is standard automation behavior, not malicious."
      },
      {
        "finding": "[HIGH] filesystem: Hidden file in home directory at README.md:42",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Reference to ~/.claude/skills in documentation. Standard configuration path for Claude skills, not malicious hidden file access."
      },
      {
        "finding": "[MEDIUM] filesystem: Hidden file access at scripts/login.py:23",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Creates ~/.zlibrary directory for storing session state. Proper permissions (chmod 0o700) applied. Legitimate configuration storage."
      },
      {
        "finding": "[LOW] network: Hardcoded URL at README.md:7",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "License badge URL in README. Standard documentation, not runtime network access."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at skill.yaml:3",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "This is a YAML configuration file, not cryptographic code. The 'version: 1.0.0' is not a crypto algorithm."
      },
      {
        "finding": "[HIGH] obfuscation: High file entropy at SKILL.md:1",
        "verdict": "false_positive",
        "confidence": "low",
        "reasoning": "File entropy analysis may trigger on compressed content. SKILL.md contains standard Markdown frontmatter. No evidence of obfuscation or binary content."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [{"file": "scripts/upload.py", "line_start": 479, "line_end": 611}]
      },
      {
        "factor": "filesystem",
        "evidence": [{"file": "scripts/login.py", "line_start": 23, "line_end": 27}]
      },
      {
        "factor": "network",
        "evidence": [{"file": "scripts/upload.py", "line_start": 52, "line_end": 52}]
      }
    ],
    "critical_findings": [],
    "high_findings": [
      "Python subprocess.run in upload.py - legitimate CLI tool calls with hardcoded commands"
    ],
    "medium_findings": [
      "Documentation backtick patterns - Markdown code formatting, not execution"
    ],
    "low_findings": [
      "Hardcoded URLs in documentation - standard README links"
    ],
    "dangerous_patterns": [],
    "files_scanned": 14,
    "total_lines": 2786
  },
  "content": {
    "user_title": "Download books to NotebookLM",
    "value_statement": "This skill automates downloading books from Z-Library and uploading them to Google NotebookLM. It handles format conversion, large file chunking, and creates notebooks for AI-powered book discussions.",
    "seo_keywords": [
      "zlibrary to notebooklm",
      "download books automation",
      "notebooklm cli tool",
      "ebook conversion",
      "claude skill",
      "claude-code",
      "ai reading assistant",
      "knowledge base creation",
      "book summarization",
      "document chat"
    ],
    "actual_capabilities": [
      "Download books from Z-Library links (PDF preferred, EPUB fallback)",
      "Convert EPUB files to Markdown format automatically",
      "Split large files into chunks (>350k words) for reliable upload",
      "Create NotebookLM notebooks and upload sources programmatically",
      "Preserve browser session for one-time login convenience",
      "Support PDF files directly without conversion"
    ],
    "limitations": [
      "Requires Z-Library account credentials for downloads",
      "Requires notebooklm-cli tool installation",
      "Browser-based download requires manual login step",
      "Only processes PDF and EPUB formats from Z-Library"
    ],
    "use_cases": [
      {
        "target_user": "Researchers",
        "title": "Build research reference library",
        "description": "Quickly download academic papers and books from Z-Library and create NotebookLM notebooks for interactive Q&A with source materials."
      },
      {
        "target_user": "Students",
        "title": "Study smarter with AI",
        "description": "Transform textbooks and course readings into AI-powered study guides that can answer questions and explain complex concepts."
      },
      {
        "target_user": "Lifelong learners",
        "title": "Create personal knowledge base",
        "description": "Build a collection of AI-assistant notebooks from your favorite books for ongoing learning and discussion."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic download",
        "scenario": "User provides a Z-Library link",
        "prompt": "Use zlib-to-notebooklm skill to download and upload this book: {zlibrary_url}"
      },
      {
        "title": "Specific format",
        "scenario": "User wants to convert EPUB",
        "prompt": "Download this EPUB from Z-Library and convert it to Markdown for NotebookLM: {zlibrary_url}"
      },
      {
        "title": "Batch processing",
        "scenario": "User has multiple books",
        "prompt": "Process these Z-Library links and create separate NotebookLM notebooks for each: {url1}, {url2}"
      },
      {
        "title": "With custom title",
        "scenario": "User wants custom notebook name",
        "prompt": "Download this book and create a notebook titled '{custom_title}': {zlibrary_url}"
      }
    ],
    "output_examples": [
      {
        "input": "Use zlib-to-notebooklm to process https://zh.zlib.li/book/12345/example-book",
        "output": [
          "Downloaded 'Example Book' (PDF, 2.3 MB)",
          "Created NotebookLM notebook",
          "Uploaded source successfully",
          "Notebook ID: abc123def456",
          "Try asking: 'What are the main arguments in Chapter 3?'"
        ]
      },
      {
        "input": "Convert this EPUB to NotebookLM: https://zh.zlib.li/book/67890/ebook-title",
        "output": [
          "Downloaded 'Ebook Title' (EPUB, 1.1 MB)",
          "Converting EPUB to Markdown...",
          "Splitting into 3 chunks (420k words total)",
          "Created notebook with 3 sources",
          "Ready for AI-powered discussion!"
        ]
      }
    ],
    "best_practices": [
      "Run login script once and reuse the saved session for all future downloads",
      "Use PDF format when available for better AI analysis results",
      "Split large books (>350k words) automatically to ensure reliable uploads",
      "Ask NotebookLM specific questions about chapters or concepts for best results"
    ],
    "anti_patterns": [
      "Do not share your Z-Library credentials or session files with others",
      "Do not use for copyrighted materials you do not have rights to access",
      "Do not attempt to bypass download limits or access restrictions",
      "Do not modify session files or credential storage manually"
    ],
    "faq": [
      {
        "question": "How do I set up this skill?",
        "answer": "Install notebooklm-cli, clone this repo to ~/.claude/skills, and run python3 scripts/login.py once."
      },
      {
        "question": "Do I need to login every time?",
        "answer": "No. Session is saved to ~/.zlibrary/storage_state.json after first login. Just run the skill with a Z-Library URL."
      },
      {
        "question": "What formats are supported?",
        "answer": "PDF (recommended, no conversion needed) and EPUB (automatically converted to Markdown)."
      },
      {
        "question": "Why are large files split?",
        "answer": "NotebookLM CLI has a ~350k word limit per source. Files exceeding this are split into numbered parts."
      },
      {
        "question": "Can I use this with Claude Code?",
        "answer": "Yes. Simply tell Claude Code the Z-Library URL and it will handle the entire download-to-upload workflow."
      },
      {
        "question": "Is this legal?",
        "answer": "Use only for materials you have legal access to. Respect copyright and local laws."
      }
    ]
  }
}
