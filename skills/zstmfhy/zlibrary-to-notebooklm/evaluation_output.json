{
  "skill": {
    "name": "zlibrary-to-notebooklm",
    "description": "Ëá™Âä®‰ªé Z-Library ‰∏ãËΩΩ‰π¶Á±çÂπ∂‰∏ä‰º†Âà∞ Google NotebookLM„ÄÇÊîØÊåÅ PDF/EPUB Ê†ºÂºèÔºåËá™Âä®ËΩ¨Êç¢Ôºå‰∏ÄÈîÆÂàõÂª∫Áü•ËØÜÂ∫ì„ÄÇ",
    "summary": "Download books from Z-Library and upload to Google NotebookLM automatically",
    "icon": "üìö",
    "version": "1.0.0",
    "author": "zstmfhy",
    "license": "MIT",
    "category": "productivity",
    "tags": ["notebooklm", "zlibrary", "automation", "books", "pdf"],
    "supported_tools": ["claude", "codex", "claude-code"]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill is a legitimate book download and upload automation tool. Static findings are predominantly false positives. The critical heuristic alerts (code execution + network + credential access) represent the skill's core purpose, not malicious behavior. High-severity findings about 'weak cryptographic algorithms' are YAML descriptions misidentified by the static analyzer. The filesystem access patterns (home directory, temp directory) are standard for session-based login automation.",
    "static_findings_evaluation": [
      {
        "finding": "[CRITICAL] obfuscation: [HEURISTIC] DANGEROUS COMBINATION: Code execution + Network + Credential access",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The combination of network access, credential storage, and subprocess execution is the legitimate purpose of this skill. No obfuscation or evasion techniques found. The --disable-blink-features flag is standard browser automation to prevent bot detection, not malicious evasion."
      },
      {
        "finding": "[CRITICAL] obfuscation: [HEURISTIC] DANGEROUS COMBINATION: Network + Credentials + Evasion techniques",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Same as above. The skill intentionally accesses Z-Library network, stores login credentials for re-use, and uses browser automation flags - all for legitimate book downloading functionality."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at skill.yaml:3,8,12,16",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The static analyzer misidentified YAML string values as cryptographic algorithms. Line 3 is a description field, lines 8 and 12 are command descriptions, line 16 is an argument description. No cryptographic operations exist in the codebase."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at SKILL.md:3",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "YAML frontmatter description field. The static analyzer incorrectly flagged descriptive text as cryptographic algorithms."
      },
      {
        "finding": "[HIGH] filesystem: Hidden file in home directory at multiple locations",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Accesses ~/.zlibrary/storage_state.json and ~/.zlibrary/browser_profile/ for storing login sessions. This is standard practice for persistent authentication. ~/Downloads is the standard download directory. All paths are legitimate for this automation tool."
      },
      {
        "finding": "[HIGH] obfuscation: [HEURISTIC] High file entropy at docs/TROUBLESHOOTING.md, README.zh-CN.md, SKILL.md",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "High entropy in documentation files is due to Chinese characters and special symbols, not obfuscation or encrypted content."
      },
      {
        "finding": "[HIGH] sensitive: Browser storage access at docs/WORKFLOW.md:106",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The skill stores login session in browser storage state JSON, similar to how notebooklm-cli stores sessions. This is legitimate credential persistence, not sensitive data exfiltration."
      },
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at docs/WORKFLOW.md, docs/TROUBLESHOOTING.md, INSTALL.md, README.md, README.zh-CN.md, SKILL.md",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "These are documentation examples showing command syntax using backticks. No actual command execution occurs in documentation. The actual subprocess calls in scripts/upload.py use hardcoded command strings with proper quoting."
      },
      {
        "finding": "[MEDIUM] external_commands: Python subprocess.run at scripts/upload.py:479,529,544,551,591,606,611",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "Subprocess calls run notebooklm-cli commands for creating notebooks and uploading sources. While shell=True is used, the commands use hardcoded paths (convert_script) and sanitized inputs (title, chunk_file). No user input is passed to shell without validation."
      },
      {
        "finding": "[MEDIUM] filesystem: Temp directory access at scripts/upload.py:48,116, scripts/login.py:75",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Uses /tmp for temporary markdown file storage during EPUB conversion. Standard practice for file processing tools."
      },
      {
        "finding": "[MEDIUM] filesystem: Python file write/append at scripts/upload.py:445, scripts/convert_epub.py:164",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Writes converted markdown files and split chunks. Standard file I/O for document processing."
      },
      {
        "finding": "[LOW] network: Hardcoded URL at multiple documentation files and scripts/login.py:52",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Hardcoded URLs are for legitimate API endpoints (Z-Library login page) and documentation links. No external C2 or data exfiltration endpoints found."
      },
      {
        "finding": "[LOW] blocker: System reconnaissance at docs/TROUBLESHOOTING.md:395, scripts/upload.py:536,559,598,618,671",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Directory existence checks (Path.home() / '.zlibrary') are for initialization, not reconnaissance. The documentation shows ls commands for checking session file status."
      },
      {
        "finding": "[LOW] obfuscation: Unicode escape sequence at scripts/upload.py:368",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Unicode escape sequences (\\u4e00-\\u9fff) are for counting Chinese characters. Legitimate internationalization support, not obfuscation."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [{"file": "scripts/upload.py", "line_start": 1, "line_end": 689}, {"file": "scripts/login.py", "line_start": 1, "line_end": 91}, {"file": "scripts/convert_epub.py", "line_start": 1, "line_end": 196}]
      },
      {
        "factor": "filesystem",
        "evidence": [{"file": "scripts/upload.py", "line_start": 25, "line_end": 27}, {"file": "scripts/login.py", "line_start": 23, "line_end": 27}]
      },
      {
        "factor": "external_commands",
        "evidence": [{"file": "scripts/upload.py", "line_start": 477, "line_end": 479}, {"file": "scripts/upload.py", "line_start": 525, "line_end": 530}, {"file": "scripts/upload.py", "line_start": 543, "line_end": 551}]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 14,
    "total_lines": 2786
  },
  "content": {
    "user_title": "Download books to NotebookLM from Z-Library",
    "value_statement": "This skill automates downloading books from Z-Library and uploading them to Google NotebookLM. It handles format conversion, smart file chunking, and notebook creation with a single command.",
    "seo_keywords": ["zlibrary to notebooklm", "download books notebooklm", "claude code skill", "notebooklm automation", "ebook converter", "claude ai", "codex", "pdf to notebooklm", "epub to markdown", "ai reading assistant"],
    "actual_capabilities": [
      "Download books from Z-Library URLs automatically",
      "Convert EPUB to Markdown for NotebookLM compatibility",
      "Smart file chunking for books exceeding 350k words",
      "Create NotebookLM notebooks and upload sources",
      "Persist login session for one-time authentication",
      "Support PDF priority with EPUB fallback"
    ],
    "limitations": [
      "Requires pre-installation of Playwright and NotebookLM CLI",
      "Only works with Z-Library links, not other sources",
      "Browser-based download requires user to complete initial login",
      "PDF files are used directly without text extraction"
    ],
    "use_cases": [
      {"target_user": "Researchers", "title": "Research paper workflow", "description": "Download academic papers from Z-Library and create NotebookLM notebooks for AI-assisted analysis and note-taking."},
      {"target_user": "Students", "title": "Study material preparation", "description": "Convert textbooks and educational materials into NotebookLM knowledge bases for exam preparation and concept review."},
      {"target_user": "Book readers", "title": "AI reading companion", "description": "Build personal AI reading assistants by uploading books to NotebookLM for conversational understanding."}
    ],
    "prompt_templates": [
      {"title": "Basic download", "scenario": "Single book upload", "prompt": "Use zlibrary-to-notebooklm to process this book: https://zh.zlib.li/book/25314781/aa05a1/book-title"},
      {"title": "Format check", "scenario": "Check available formats", "prompt": "What formats are available for this book? Use zlibrary-to-notebooklm to download the best format."},
      {"title": "After upload", "scenario": "Continue with analysis", "prompt": "The book is uploaded. What are 5 key questions I can ask NotebookLM about this content?"},
      {"title": "Batch processing", "scenario": "Multiple books", "prompt": "Download these three books to NotebookLM and return the notebook IDs for each one."}
    ],
    "output_examples": [
      {"input": "Upload this book to NotebookLM: https://zh.zlib.li/book/25314781/aa05a1/book-title", "output": ["Download complete: book-title.pdf", "Notebook created: 22916611-c68c-4065-a657-99339e126fb4", "Source uploaded successfully", "Suggested questions: What is the main argument? Who is the intended audience?"]},
      {"input": "Download this EPUB and convert it", "output": ["EPUB detected, converting to Markdown...", "Word count: 450,000 - exceeds limit", "Auto-chunking into 2 parts", "Part 1 uploaded: 125k words", "Part 2 uploaded: 325k words", "Notebook ready for AI chat"]},
      {"input": "Check if I've logged in before", "output": ["Checking session status...", "Found valid session at ~/.zlibrary/storage_state.json", "Session expires in: 30 days", "Ready to download without re-login"]}
    ],
    "best_practices": [
      "Run login.py once before first use to save authentication session",
      "Use PDF format when available for best formatting preservation",
      "Let the skill handle large file chunking automatically",
      "Check SKILL.md for troubleshooting tips when downloads fail"
    ],
    "anti_patterns": [
      "Do not provide Z-Library links for copyrighted commercial books you do not own",
      "Do not attempt to download books that require payment or special access",
      "Do not modify the session files manually - they contain authentication tokens",
      "Do not interrupt the browser automation during download - it may corrupt the session"
    ],
    "faq": [
      {"question": "Do I need to login every time?", "answer": "No. The first login saves a session file to ~/.zlibrary/. Subsequent downloads use this saved session automatically."},
      {"question": "What formats are supported?", "answer": "PDF (recommended, preserves formatting), EPUB (converted to Markdown), and basic text formats. PDF is prioritized."},
      {"question": "How does file chunking work?", "answer": "Files over 350k words are automatically split by chapter boundaries. Each chunk is uploaded as a separate source to the same notebook."},
      {"question": "Can I use this with local files?", "answer": "This skill is designed for Z-Library URLs. For local files, use notebooklm source add directly from the terminal."},
      {"question": "What if download fails?", "answer": "The skill retries up to 3 times automatically. Check docs/TROUBLESHOOTING.md for common issues like session expiry or page structure changes."},
      {"question": "Is this legal?", "answer": "Use only for content you have legal access to: public domain works, open-access papers, or content you personally own. Respect copyright laws."}
    ]
  }
}
