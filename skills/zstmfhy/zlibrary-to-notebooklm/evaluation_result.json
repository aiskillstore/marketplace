{
  "skill": {
    "name": "Z-Library to NotebookLM",
    "description": "Automatically download books from Z-Library and upload them to Google NotebookLM. Supports PDF and EPUB formats with automatic conversion.",
    "summary": "Download books from Z-Library and upload to NotebookLM for AI-powered reading",
    "icon": "ðŸ“š",
    "version": "1.0.0",
    "author": "zstmfhy",
    "license": "MIT",
    "category": "research",
    "tags": ["z-library", "notebooklm", "books", "automation", "research"],
    "supported_tools": ["claude", "claude-code"]
  },
  "security_audit": {
    "risk_level": "medium",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "The skill is a legitimate content automation tool for downloading books and uploading to NotebookLM. Static findings are mostly false positives: subprocess calls use hardcoded arguments (not user input), hidden file access is standard ~/.zlibrary/ config directory, and network access is required for Z-Library and NotebookLM APIs. Includes copyright warnings in documentation.",
    "static_findings_evaluation": [
      {
        "finding": "[CRITICAL] obfuscation: DANGEROUS COMBINATION: Code execution + Network + Credential access",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Network access and credentials are required for legitimate Z-Library login and NotebookLM upload. Credential storage (storage_state.json) is standard cookie-based auth. This is expected behavior for an integration tool, not malicious activity."
      },
      {
        "finding": "[CRITICAL] obfuscation: DANGEROUS COMBINATION: Network + Credentials + Evasion techniques",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The 'evasion techniques' refer to --disable-blink-features=AutomationControlled flag in scripts/upload.py:129 and scripts/login.py:45. This is standard Playwright anti-detection, not malicious evasion. Required for legitimate browser automation to prevent Z-Library from blocking automated sessions."
      },
      {
        "finding": "[HIGH] external_commands: Python subprocess.run at scripts/upload.py:479,529,544,551,591,606,611",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "All subprocess calls invoke hardcoded CLI tools with controlled arguments: notebooklm create, notebooklm use, notebooklm source add, and python for convert_epub.py. Arguments are string literals, not user input. No command injection risk."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at package.json:4, skill.yaml:3,8,12,16",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "Misclassified detection. These are package.json/skill.yaml metadata fields (version strings like '1.0.0', numeric values), not cryptographic algorithm implementations. No actual crypto operations found in the code."
      },
      {
        "finding": "[HIGH] filesystem: Hidden file in home directory at SKILL.md:41,70,102,103,124,173,189",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "References to ~/.zlibrary/storage_state.json and ~/.zlibrary/browser_profile/ are legitimate config directories for storing Z-Library session data. Standard practice for user-specific configuration storage."
      },
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at docs/README.md, docs/TROUBLESHOOTING.md, INSTALL.md",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Backtick patterns in documentation are shell command examples showing notebooklm CLI usage. Documentation examples, not executable code. No actual backtick execution in Python scripts."
      },
      {
        "finding": "[MEDIUM] filesystem: Hidden file access at SKILL.md:41,70,102,103,124,173,189",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Accessing ~/.zlibrary/ directory for session state is standard credential storage pattern. File operations read/write storage_state.json for persistent login sessions."
      },
      {
        "finding": "[MEDIUM] filesystem: Temp directory access at scripts/upload.py:48,116",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Uses /tmp for temporary Markdown file storage during EPUB conversion. Standard practice for file processing workflows."
      },
      {
        "finding": "[LOW] network: Hardcoded URL at scripts/login.py:52, docs/README.md, package.json",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Hardcoded URLs are legitimate endpoint references: https://zh.zlib.li/ for Z-Library login, GitHub repository URLs for package metadata. Not suspicious external communications."
      },
      {
        "finding": "[LOW] blocker: System reconnaissance at scripts/upload.py:536,559,598,618,671",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "File existence checks for ~/.zlibrary/storage_state.json are session validation, not reconnaissance. Standard startup check pattern for integration tools."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {"file": "scripts/upload.py", "line_start": 528, "line_end": 551},
          {"file": "scripts/upload.py", "line_start": 590, "line_end": 611}
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {"file": "scripts/login.py", "line_start": 23, "line_end": 27},
          {"file": "scripts/upload.py", "line_start": 25, "line_end": 27}
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {"file": "scripts/login.py", "line_start": 52, "line_end": 52},
          {"file": "scripts/upload.py", "line_start": 152, "line_end": 152}
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 14,
    "total_lines": 2786
  },
  "content": {
    "user_title": "Download books to NotebookLM",
    "value_statement": "Manually downloading books and uploading them to NotebookLM takes many steps. This skill automates the entire process with a single Z-Library link, handling format detection, conversion, and upload automatically.",
    "seo_keywords": [
      "z-library to notebooklm",
      "claude code skill",
      "book download automation",
      "notebooklm integration",
      "pdf epub conversion",
      "ai reading assistant",
      "claude automation",
      "knowledge base creation",
      "research tool",
      "document automation"
    ],
    "actual_capabilities": [
      "Download books from Z-Library using saved browser sessions",
      "Automatically convert EPUB files to Markdown for NotebookLM",
      "Create NotebookLM notebooks and upload sources via CLI",
      "Split large files (over 350k words) into multiple chunks for reliable upload",
      "Handle PDF files directly without conversion",
      "Provide notebook ID and suggested follow-up questions after upload"
    ],
    "limitations": [
      "Requires prior one-time login setup using scripts/login.py",
      "Only works with Z-Library links, not other book sources",
      "Requires NotebookLM CLI tool to be installed separately",
      "Browser automation runs in non-headless mode for login interaction"
    ],
    "use_cases": [
      {
        "target_user": "Researchers",
        "title": "Build research knowledge base",
        "description": "Download academic papers and books from Z-Library to NotebookLM for AI-powered analysis and citation generation"
      },
      {
        "target_user": "Students",
        "title": "Study with AI companions",
        "description": "Upload textbooks and course materials to NotebookLM for conversational learning and concept explanation"
      },
      {
        "target_user": "Lifelong learners",
        "title": "Create personal library",
        "description": "Build a searchable knowledge base from books and read with AI assistance for deeper understanding"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic download",
        "scenario": "User provides a Z-Library link",
        "prompt": "Use zlibrary-to-notebooklm to download this book and upload to NotebookLM: https://zh.zlib.li/book/12345/abc123/book-title"
      },
      {
        "title": "Check session",
        "scenario": "Verify login status",
        "prompt": "Check if Z-Library session exists. If not, guide me through the login setup."
      },
      {
        "title": "Convert local file",
        "scenario": "Process an EPUB file",
        "prompt": "Convert this local EPUB file to Markdown and upload it to NotebookLM"
      },
      {
        "title": "Handle large book",
        "scenario": "Process oversized content",
        "prompt": "Download this comprehensive book from Z-Library. Handle the automatic chunking for large files."
      }
    ],
    "output_examples": [
      {
        "input": "Download this book to NotebookLM: https://zh.zlib.li/book/25314781/aa05a1/book-title",
        "output": [
          "Downloaded 'book-title' successfully (PDF, 2.5 MB)",
          "Notebook created: 'book-title'",
          "Source uploaded (ID: abc12345)",
          "Notebook ID: 22916611-c68c-4065-a657-99339e126fb4",
          "You can now ask: 'What are the main concepts in this book?'"
        ]
      },
      {
        "input": "Upload a large EPUB file",
        "output": [
          "Converting EPUB to Markdown...",
          "Detected 500,000 words (exceeds 350k limit)",
          "Splitting into 2 chunks...",
          "Chunk 1/2 uploaded (280,000 words)",
          "Chunk 2/2 uploaded (220,000 words)",
          "Notebook ready for AI conversation"
        ]
      }
    ],
    "best_practices": [
      "Run scripts/login.py once before first use to establish persistent browser session",
      "Use PDF format when available for best formatting preservation in NotebookLM",
      "Process books one at a time to avoid session conflicts",
      "Verify your access rights to Z-Library content before downloading"
    ],
    "anti_patterns": [
      "Do not attempt batch downloads without checking session validity first",
      "Do not ignore copyright warnings - only download content you have rights to access",
      "Do not skip the initial login setup expecting fully automated first-time downloads",
      "Do not attempt to modify the subprocess commands for notebooklm CLI"
    ],
    "faq": [
      {
        "question": "How do I set up this skill for first use?",
        "answer": "Run python3 scripts/login.py once to authenticate with Z-Library. Browser will open for manual login. Session saves automatically."
      },
      {
        "question": "What formats does this skill support?",
        "answer": "Prioritizes PDF downloads. Falls back to EPUB with automatic Markdown conversion. MOBI and other formats may require manual conversion."
      },
      {
        "question": "What happens if the book is too large for NotebookLM?",
        "answer": "Files over 350,000 words are automatically split into chunks. Each chunk uploads to the same notebook with preserved chapter structure."
      },
      {
        "question": "Do I need NotebookLM CLI installed separately?",
        "answer": "Yes. The skill requires notebooklm CLI for creating notebooks and uploading sources. Install via: pip install notebooklm-cli"
      },
      {
        "question": "How long does the Z-Library session last?",
        "answer": "Session persists until cookies expire or account credentials change. Re-run login script if download fails due to authentication."
      },
      {
        "question": "What should I do if download fails?",
        "answer": "Check if session exists at ~/.zlibrary/storage_state.json. If missing, re-run login. For timeout issues, retry with the same URL."
      }
    ]
  }
}