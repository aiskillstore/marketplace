{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T00:58:46.886Z",
    "slug": "davila7-plugin-settings",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/development/plugin-settings",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "9c288b412cc63328235235c13cd470a74d78bdfe99229a41d293f8b942561aef",
    "tree_hash": "468c9647b375eb7ac268815e9e18cbb8e15d21f8d12b00cdd0e8ff5ec0d63bec"
  },
  "skill": {
    "name": "plugin-settings",
    "description": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", \"user-configurable plugin\", \".local.md files\", \"plugin state files\", \"read YAML frontmatter\", \"per-project plugin settings\", or wants to make plugin behavior configurable. Documents the .claude/plugin-name.local.md pattern for storing plugin-specific configuration with YAML frontmatter and markdown content.",
    "summary": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", ...",
    "icon": "⚙️",
    "version": "0.1.0",
    "author": "davila7",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "configuration",
      "plugin",
      "settings",
      "yaml",
      "frontmatter"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation skill containing code examples for a plugin settings pattern. All static findings are FALSE POSITIVES - they flag shell command examples in markdown documentation, not actual executable code. The skill has no network access, no credential handling, and contains security mitigations that BLOCK access to sensitive files.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 66,
            "line_end": 68
          },
          {
            "file": "SKILL.md",
            "line_start": 140,
            "line_end": 142
          },
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 17,
            "line_end": 22
          },
          {
            "file": "scripts/parse-frontmatter.sh",
            "line_start": 37,
            "line_end": 51
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 2270,
    "audit_model": "claude",
    "audited_at": "2026-01-17T00:58:46.886Z"
  },
  "content": {
    "user_title": "Configure plugin settings with YAML frontmatter",
    "value_statement": "Store plugin-specific configuration and state in .claude/plugin-name.local.md files using YAML frontmatter and markdown content. Enable per-project plugin customization that users can edit directly.",
    "seo_keywords": [
      "plugin settings",
      "Claude Code configuration",
      "YAML frontmatter",
      "plugin state files",
      "local settings",
      "per-project configuration",
      "Claude",
      "Claude Code",
      "Codex",
      "plugin customization"
    ],
    "actual_capabilities": [
      "Documents .claude/plugin-name.local.md file pattern for plugin settings",
      "Provides YAML frontmatter parsing techniques using sed and grep",
      "Shows hook integration for settings-driven behavior",
      "Includes validation scripts for settings file structure",
      "Demonstrates security best practices for settings files"
    ],
    "limitations": [
      "This is a documentation skill, not executable code",
      "Does not provide runtime settings parsing libraries",
      "Requires manual implementation of parsing in hooks/commands",
      "Settings changes require Claude Code restart to take effect"
    ],
    "use_cases": [
      {
        "target_user": "Plugin Developers",
        "title": "Add configuration to plugins",
        "description": "Document how to make plugins configurable with user-editable settings files"
      },
      {
        "target_user": "Project Maintainers",
        "title": "Override plugin defaults",
        "description": "Create project-specific plugin configurations without modifying plugin code"
      },
      {
        "target_user": "Documentation Writers",
        "title": "Document settings patterns",
        "description": "Include settings documentation in plugin READMEs with templates"
      }
    ],
    "prompt_templates": [
      {
        "title": "Add settings to plugin",
        "scenario": "Making a plugin configurable",
        "prompt": "How do I add user-configurable settings to my Claude Code plugin using .claude/my-plugin.local.md files?"
      },
      {
        "title": "Parse frontmatter",
        "scenario": "Reading settings in hooks",
        "prompt": "Show me how to parse YAML frontmatter from a .local.md file in a bash hook"
      },
      {
        "title": "Validate settings",
        "scenario": "Checking file structure",
        "prompt": "What are the required fields and structure for a valid plugin settings file?"
      },
      {
        "title": "Security best practices",
        "scenario": "Protecting sensitive files",
        "prompt": "How do I prevent my plugin settings from accidentally exposing .env files or secrets?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I enable my plugin only for certain projects?",
        "output": [
          "Create a .claude/my-plugin.local.md file in the project with:",
          "---",
          "enabled: true",
          "---",
          "Your hook should check if the file exists and read the enabled field before running",
          "Add .claude/*.local.md to .gitignore to prevent committing project-specific settings"
        ]
      },
      {
        "input": "How do I parse a numeric setting in my hook?",
        "output": [
          "Use this pattern to extract and validate numeric settings:",
          "MAX_SIZE=$(echo \"$FRONTMATTER\" | grep '^max_size:' | sed 's/max_size: *//')",
          "Validate: if [[ \"$MAX_SIZE\" =~ ^[0-9]+$ ]]; then",
          "Use in comparison: if [[ $MAX_SIZE -gt 1000 ]]; then"
        ]
      }
    ],
    "best_practices": [
      "Always validate settings file structure before reading - check for --- markers and required fields",
      "Provide sensible defaults when settings file doesn't exist to maintain backwards compatibility",
      "Add .claude/*.local.md to .gitignore since these are user-local overrides"
    ],
    "anti_patterns": [
      "Hardcoding settings directly in hooks - makes customization impossible",
      "Committing .local.md files to git - these are per-user, per-project overrides",
      "Not validating user input before writing settings - could lead to malformed files"
    ],
    "faq": [
      {
        "question": "Where should I store plugin settings files?",
        "answer": "Store in .claude/plugin-name.local.md in the project root. The .claude directory is the standard location."
      },
      {
        "question": "Do settings changes take effect immediately?",
        "answer": "No. Hooks are loaded at startup. You must restart Claude Code for settings changes to apply."
      },
      {
        "question": "Can I use this for agent state?",
        "answer": "Yes. The markdown body can contain prompts or task descriptions that agents read and execute."
      },
      {
        "question": "How do I prevent settings from being committed?",
        "answer": "Add .claude/*.local.md and .claude/*.local.json to .gitignore in your plugin documentation."
      },
      {
        "question": "What happens if the settings file is malformed?",
        "answer": "Your hook should validate structure (check for --- markers) and provide graceful fallback to defaults."
      },
      {
        "question": "Should I use JSON or markdown for settings?",
        "answer": "Markdown with YAML frontmatter is recommended for plugins - allows structured config + human-readable body."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "create-settings-command.md",
          "type": "file",
          "path": "examples/create-settings-command.md",
          "lines": 99
        },
        {
          "name": "example-settings.md",
          "type": "file",
          "path": "examples/example-settings.md",
          "lines": 160
        },
        {
          "name": "read-settings-hook.sh",
          "type": "file",
          "path": "examples/read-settings-hook.sh",
          "lines": 66
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "parsing-techniques.md",
          "type": "file",
          "path": "references/parsing-techniques.md",
          "lines": 550
        },
        {
          "name": "real-world-examples.md",
          "type": "file",
          "path": "references/real-world-examples.md",
          "lines": 396
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "parse-frontmatter.sh",
          "type": "file",
          "path": "scripts/parse-frontmatter.sh",
          "lines": 60
        },
        {
          "name": "validate-settings.sh",
          "type": "file",
          "path": "scripts/validate-settings.sh",
          "lines": 102
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 545
    }
  ]
}
