{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T00:41:16.886Z",
    "slug": "davila7-scanpy",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/scientific/scanpy",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "a15467d7eace498bc500a606d0c410f6109d8bf93678cd61b7a42d2fcd6637a8",
    "tree_hash": "b3076ed1b98185e80f7f3a25df1f1e0ad88a1eda916349ba59f9fdbdc80cea00"
  },
  "skill": {
    "name": "scanpy",
    "description": "Single-cell RNA-seq analysis. Load .h5ad/10X data, QC, normalization, PCA/UMAP/t-SNE, Leiden clustering, marker genes, cell type annotation, trajectory, for scRNA-seq analysis.",
    "summary": "Single-cell RNA-seq analysis. Load .h5ad/10X data, QC, normalization, PCA/UMAP/t-SNE, Leiden cluster...",
    "icon": "ðŸ”¬",
    "version": "1.0.0",
    "author": "davila7",
    "license": "MIT",
    "category": "data",
    "tags": [
      "single-cell",
      "rna-seq",
      "bioinformatics",
      "visualization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure data analysis toolkit with no network access, no credential access, and no external command execution. All capabilities are appropriate for single-cell RNA-seq analysis.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/qc_analysis.py",
            "line_start": 1,
            "line_end": 201
          },
          {
            "file": "assets/analysis_template.py",
            "line_start": 1,
            "line_end": 296
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 6,
    "total_lines": 1177,
    "audit_model": "claude",
    "audited_at": "2026-01-07T00:41:16.886Z"
  },
  "content": {
    "user_title": "Analyze single-cell RNA-seq data with scanpy",
    "value_statement": "Single-cell RNA-seq analysis requires complex workflows for quality control, clustering, and visualization. This skill provides complete scanpy workflows including UMAP generation, Leiden clustering, marker gene identification, and cell type annotation.",
    "seo_keywords": [
      "scanpy",
      "single-cell RNA-seq",
      "claude",
      "codex",
      "claude-code",
      "umap",
      "leiden clustering",
      "marker genes",
      "cell annotation",
      "bioinformatics"
    ],
    "actual_capabilities": [
      "Load and process .h5ad, 10X Genomics, and CSV single-cell data formats",
      "Perform quality control filtering by genes, cells, and mitochondrial percentage",
      "Generate UMAP, t-SNE, and PCA dimensionality reduction visualizations",
      "Apply Leiden clustering and identify marker genes for each cluster",
      "Annotate cell types based on gene expression markers",
      "Create publication-quality plots with scanpy visualization tools"
    ],
    "limitations": [
      "Requires installed scanpy and dependencies (anndata, numpy, pandas, matplotlib)",
      "Processes local data files only; no remote data integration",
      "Does not perform differential expression testing beyond marker gene ranking",
      "Trajectory analysis limited to basic PAGA and diffusion pseudotime methods"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatics researchers",
        "title": "Single-cell analysis workflow",
        "description": "Process raw single-cell data through complete pipeline from QC to cell type annotation"
      },
      {
        "target_user": "Data scientists",
        "title": "Exploratory visualization",
        "description": "Generate UMAP embeddings and clustering visualizations for biological datasets"
      },
      {
        "target_user": "Biology students",
        "title": "Marker gene discovery",
        "description": "Identify and validate cell type marker genes using statistical ranking methods"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic data loading",
        "scenario": "Load single-cell data",
        "prompt": "Load my single-cell RNA-seq data from {file_path.h5ad} using scanpy and show me the basic dataset summary including number of cells and genes"
      },
      {
        "title": "Quality control",
        "scenario": "Filter low-quality cells",
        "prompt": "Perform quality control on my dataset: filter cells with fewer than {200} genes, remove cells with more than {5}% mitochondrial genes, and generate QC violin plots"
      },
      {
        "title": "Clustering analysis",
        "scenario": "Find cell populations",
        "prompt": "Run Leiden clustering on my data with resolution {0.5}, generate UMAP visualization, and identify the top 10 marker genes for each cluster using Wilcoxon test"
      },
      {
        "title": "Cell annotation",
        "scenario": "Annotate cell types",
        "prompt": "Help me annotate cell types in my clustered dataset. I have marker genes for T cells (CD3D, CD3E), B cells (MS4A1, CD79A), and monocytes (CD14, LYZ). Show gene expression on UMAP and assign cell type labels to each cluster"
      }
    ],
    "output_examples": [
      {
        "input": "Load my single-cell data and run a complete analysis pipeline",
        "output": [
          "Loaded dataset: 3,500 cells Ã— 20,000 genes",
          "After QC filtering: 3,200 cells Ã— 15,000 genes retained (91% cells, 75% genes)",
          "Identified 8 clusters using Leiden clustering (resolution 0.5)",
          "Top markers for Cluster 0: CD3D, CD3E, CD3G (T cell markers)",
          "Top markers for Cluster 1: MS4A1, CD79A, CD79B (B cell markers)",
          "UMAP visualization saved to figures/umap_leiden.pdf",
          "Cell type annotations: CD4+ T cells, B cells, CD14+ Monocytes, NK cells, Dendritic cells"
        ]
      }
    ],
    "best_practices": [
      "Save raw counts before filtering using adata.raw = adata to preserve original data",
      "Validate cell type annotations with multiple known marker genes before finalizing",
      "Generate QC plots before and after filtering to assess data quality impact"
    ],
    "anti_patterns": [
      "Skipping quality control steps can lead to spurious clusters from low-quality cells",
      "Using a single clustering resolution may miss important cell population structure",
      "Relying only on automated annotation without manual validation of marker genes"
    ],
    "faq": [
      {
        "question": "What file formats does scanpy support?",
        "answer": "Scanpy supports h5ad (AnnData format), 10X Genomics MTX or HDF5, CSV, loom, and text files."
      },
      {
        "question": "How many cells are needed for analysis?",
        "answer": "While technically any number works, most analyses require at least 100-500 cells for meaningful clustering results."
      },
      {
        "question": "Can scanpy integrate multiple datasets?",
        "answer": "Scanpy has basic batch correction via ComBat. For complex integration, use dedicated tools like Harmony or scVI."
      },
      {
        "question": "Is my data safe with this skill?",
        "answer": "Yes. This skill only processes local files and makes no network calls or external data transmissions."
      },
      {
        "question": "Why are my clusters empty after filtering?",
        "answer": "Check your QC thresholds. Aggressive filtering may remove all cells. Use violin plots to visualize distributions before filtering."
      },
      {
        "question": "How does scanpy compare to Seurat?",
        "answer": "Scanpy is the Python equivalent of R's Seurat. Both offer similar functionality; choice depends on your programming language preference."
      }
    ]
  },
  "file_structure": [
    {
      "name": "assets",
      "type": "dir",
      "path": "assets",
      "children": [
        {
          "name": "analysis_template.py",
          "type": "file",
          "path": "assets/analysis_template.py"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "api_reference.md",
          "type": "file",
          "path": "references/api_reference.md"
        },
        {
          "name": "plotting_guide.md",
          "type": "file",
          "path": "references/plotting_guide.md"
        },
        {
          "name": "standard_workflow.md",
          "type": "file",
          "path": "references/standard_workflow.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "qc_analysis.py",
          "type": "file",
          "path": "scripts/qc_analysis.py"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
