{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T07:20:11.525Z",
    "slug": "vercel-labs-vercel-react-best-practices",
    "source_url": "https://github.com/vercel-labs/agent-skills/tree/main/skills/react-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "28786278e9a57aa45e87cd1aff7a26cdb611000d8c99e66e43e27c0de3508e72",
    "tree_hash": "b9cec6ecb41b24870573371bfc534edfc6dc4a13e7bf114662700eb0588e0089"
  },
  "skill": {
    "name": "vercel-react-best-practices",
    "description": "React and Next.js performance optimization guidelines from Vercel Engineering. This skill should be used when writing, reviewing, or refactoring React/Next.js code to ensure optimal performance patterns. Triggers on tasks involving React components, Next.js pages, data fetching, bundle optimization, or performance improvements.",
    "summary": "React and Next.js performance optimization guidelines from Vercel Engineering",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "vercel-labs",
    "license": "MIT",
    "tags": [
      "react",
      "nextjs",
      "performance",
      "optimization",
      "vercel"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is pure documentation containing no executable code. All static scanner findings are false positives: backticks in markdown code fences are not shell execution, 'crypto' references are React APIs (React.cache), bracket patterns are markdown link syntax, and storage mentions are documentation about caching patterns. The skill provides 45 React/Next.js performance optimization rules for AI-assisted code generation and refactoring.",
    "files_scanned": 58,
    "total_lines": 5894,
    "audit_model": "claude",
    "audited_at": "2026-01-23T07:20:11.525Z",
    "risk_factors": [],
    "risk_factor_evidence": [],
    "critical_findings": [
      {
        "title": "Multiple bracket chains (JSFuck/obfuscation pattern)",
        "description": "Static scanner detected multiple bracket chains at AGENTS.md:1 and flagged as potential JSFuck obfuscation. This is a false positive caused by markdown link syntax ([]()) used in documentation headers and table of contents.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 1,
            "line_end": 1
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "Line 1 is '# React Best Practices' - a markdown heading. Bracket chains are standard markdown link syntax used throughout documentation for reference links."
      },
      {
        "title": "Dangerous combination: Code execution + Network + Credential access",
        "description": "Heuristic alert flagged combination of code patterns. This is a false positive - the skill contains only documentation with code examples in markdown fences. No actual code execution, network requests, or credential access exists.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 1,
            "line_end": 2720
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "AGENTS.md is a 2720-line documentation file containing code examples for React performance optimization. The 'code execution' is markdown code blocks, 'network' is documentation URLs, 'credential' references are about localStorage patterns."
      }
    ],
    "high_findings": [
      {
        "title": "Weak cryptographic algorithm detection",
        "description": "Scanner detected 'crypto' keyword in multiple files, flagging as weak cryptographic algorithm. This is a false positive - references are to React.cache() API and JavaScript documentation patterns, not actual cryptography.",
        "locations": [
          {
            "file": "metadata.json",
            "line_start": 5,
            "line_end": 5
          },
          {
            "file": "AGENTS.md",
            "line_start": 17,
            "line_end": 17
          },
          {
            "file": "AGENTS.md",
            "line_start": 679,
            "line_end": 679
          },
          {
            "file": "AGENTS.md",
            "line_start": 737,
            "line_end": 737
          },
          {
            "file": "README.md",
            "line_start": 8,
            "line_end": 8
          },
          {
            "file": "rules/server-cache-react.md",
            "line_start": 4,
            "line_end": 4
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "References are to React.cache() - a React caching API for per-request deduplication, not cryptographic functions."
      },
      {
        "title": "Certificate/key files access",
        "description": "Scanner flagged 'key' and 'certificate' keywords. This is a false positive - these are references to JavaScript concepts like 'key' props in React maps and 'useLatest' pattern documentation.",
        "locations": [
          {
            "file": "rules/client-event-listeners.md",
            "line_start": 18,
            "line_end": 18
          },
          {
            "file": "rules/client-event-listeners.md",
            "line_start": 59,
            "line_end": 60
          },
          {
            "file": "rules/js-cache-storage.md",
            "line_start": 62,
            "line_end": 62
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "These are documentation references to React key props, API keys in code examples, and key derivation patterns - not actual certificate files."
      },
      {
        "title": "Browser storage access",
        "description": "Scanner flagged localStorage/sessionStorage mentions as sensitive storage access. This is a false positive - these are documentation about caching patterns and storage optimization strategies.",
        "locations": [
          {
            "file": "rules/client-localstorage-schema.md",
            "line_start": 2,
            "line_end": 2
          },
          {
            "file": "rules/rendering-hydration-no-flicker.md",
            "line_start": 5,
            "line_end": 5
          },
          {
            "file": "rules/rerender-defer-reads.md",
            "line_start": 5,
            "line_end": 5
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "This is legitimate documentation about browser storage caching patterns for performance optimization, not malicious storage access."
      }
    ],
    "medium_findings": [
      {
        "title": "Dynamic import() expression detection",
        "description": "Scanner detected import() in code examples. These are legitimate Next.js dynamic import patterns documented for bundle optimization.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 448,
            "line_end": 448
          },
          {
            "file": "AGENTS.md",
            "line_start": 490,
            "line_end": 490
          },
          {
            "file": "rules/bundle-conditional.md",
            "line_start": 20,
            "line_end": 20
          },
          {
            "file": "rules/bundle-dynamic-imports.md",
            "line_start": 28,
            "line_end": 28
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "These are code examples demonstrating Next.js dynamic imports for code splitting - a standard performance optimization pattern."
      },
      {
        "title": "Ruby/shell backtick execution detection",
        "description": "Scanner flagged backticks as shell execution. This is a false positive - backticks in markdown indicate fenced code blocks, not shell commands.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 96,
            "line_end": 96
          },
          {
            "file": "AGENTS.md",
            "line_start": 100,
            "line_end": 112
          },
          {
            "file": "README.md",
            "line_start": 7,
            "line_end": 7
          },
          {
            "file": "SKILL.md",
            "line_start": 27,
            "line_end": 27
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "Backticks in markdown denote fenced code blocks for code examples, not shell command execution. This is standard markdown syntax."
      },
      {
        "title": "With statement (deprecated) detection",
        "description": "Scanner detected 'with' statement. This appears in code examples showing legacy patterns to avoid.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 2628,
            "line_end": 2628
          },
          {
            "file": "rules/js-tosorted-immutable.md",
            "line_start": 57,
            "line_end": 57
          }
        ],
        "confidence": 0.85,
        "confidence_reasoning": "These are likely in code examples showing what NOT to do, or legacy code patterns discussed in documentation."
      }
    ],
    "low_findings": [
      {
        "title": "Hardcoded URLs in documentation",
        "description": "Documentation contains URLs to external references like MDN, Next.js docs, and React docs.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 213,
            "line_end": 213
          },
          {
            "file": "AGENTS.md",
            "line_start": 432,
            "line_end": 432
          },
          {
            "file": "metadata.json",
            "line_start": 7,
            "line_end": 13
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "These are legitimate documentation URLs linking to reference materials like React docs, MDN, and Next.js documentation."
      },
      {
        "title": "Fetch API references in documentation",
        "description": "Documentation references fetch API for data fetching patterns.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 1166,
            "line_end": 1166
          },
          {
            "file": "rules/client-swr-dedup.md",
            "line_start": 18,
            "line_end": 18
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "These are code examples demonstrating proper data fetching patterns with fetch API, not actual network requests."
      },
      {
        "title": "System reconnaissance patterns",
        "description": "Scanner flagged certain keywords as system reconnaissance. These are standard programming terms in documentation.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "AGENTS.md",
            "line_start": 37,
            "line_end": 37
          },
          {
            "file": "AGENTS.md",
            "line_start": 96,
            "line_end": 96
          }
        ],
        "confidence": 0.85,
        "confidence_reasoning": "Keywords like 'exec', 'spawn', 'system' appear in code examples for pattern demonstrations, not actual system commands."
      }
    ],
    "dangerous_patterns": []
  },
  "content": {
    "user_title": "Optimize React and Next.js Performance",
    "value_statement": "React applications often suffer from performance issues like unnecessary re-renders, large bundle sizes, and sequential data fetching waterfalls. This skill provides 45 prioritized rules from Vercel Engineering to eliminate these bottlenecks and build high-performance web applications.",
    "seo_keywords": [
      "React performance optimization",
      "Next.js best practices",
      "React best practices",
      "Claude",
      "Codex",
      "Claude Code",
      "React re-render optimization",
      "Bundle size optimization",
      "React data fetching",
      "Next.js performance"
    ],
    "actual_capabilities": [
      "Guides AI agents in writing React/Next.js code following Vercel engineering standards",
      "Provides 45 prioritized performance rules across 8 categories from critical to advanced",
      "Delivers code examples comparing incorrect vs. correct implementations",
      "Covers bundle size optimization, data fetching waterfalls, server-side performance, and re-render optimization",
      "References specific impact metrics to guide automated refactoring decisions"
    ],
    "limitations": [
      "Contains only documentation and code examples - does not execute code or modify projects directly",
      "Focused on React and Next.js - does not cover other frameworks or vanilla JavaScript",
      "Rules are guidelines - actual implementation depends on specific project context",
      "Does not provide runtime performance profiling or measurements"
    ],
    "use_cases": [
      {
        "title": "Writing New React Components",
        "description": "When generating new React components or pages, this skill ensures proper patterns from the start including data fetching, state management, and bundle optimization.",
        "target_user": "Developers building new React/Next.js features"
      },
      {
        "title": "Code Review and Refactoring",
        "description": "When reviewing or refactoring existing React code, identify and fix performance anti-patterns like waterfalls, unnecessary re-renders, and large bundle sizes.",
        "target_user": "Engineering teams maintaining React applications"
      },
      {
        "title": "AI-Assisted Code Generation",
        "description": "Provides AI agents with Vercel's internal standards for generating production-ready React code that meets performance expectations out of the box.",
        "target_user": "AI development tools and Claude users"
      }
    ],
    "prompt_templates": [
      {
        "title": "Generate Optimized Component",
        "prompt": "Generate a Next.js page that fetches user data and posts in parallel. Apply the vercel-react-best-practices skill rules for async-parallel and server-parallel-fetching. Include proper loading states and error handling.",
        "scenario": "Creating a new page with data fetching"
      },
      {
        "title": "Review Component Performance",
        "prompt": "Review the following React component for performance issues using the vercel-react-best-practices skill. Check for: waterfalls in async operations, unnecessary re-renders, missing memoization, and bundle optimization opportunities.",
        "scenario": "Analyzing existing component for optimization opportunities"
      },
      {
        "title": "Optimize Bundle Size",
        "prompt": "Analyze the following code for bundle size issues using bundle-* rules from vercel-react-best-practices. Identify barrel file imports, heavy components that should use dynamic imports, and conditional loading opportunities.",
        "scenario": "Reducing application bundle size"
      },
      {
        "title": "Fix Re-render Issues",
        "prompt": "The following React component is re-rendering too frequently. Apply rerender-* rules from vercel-react-best-practices to identify missing memoization, improper dependencies, derived state issues, and unnecessary subscriptions.",
        "scenario": "Improving component rendering performance"
      }
    ],
    "output_examples": [
      {
        "input": "Generate a component that fetches user profile and their posts sequentially",
        "output": "Instead of sequential fetching:\n\n```typescript\nconst user = await fetchUser()\nconst posts = await fetchPosts(user.id)\n```\n\nApply async-parallel rule - use Promise.all():\n\n```typescript\nconst [user, posts] = await Promise.all([\n  fetchUser(),\n  fetchPosts(userId)\n])\n```\n\nThis reduces 2 sequential round trips to 1 parallel request, improving load time by 2-10Ã—."
      },
      {
        "input": "useEffect(() => {\n  const data = expensiveComputation(props.data)\n  setState(data)\n}, [props.data])\n\nuseEffect(() => {\n  anotherComputation(props.data)\n}, [props.data])",
        "output": "Performance issues identified:\n\n1. **Two separate useEffects with same dependency** - causes duplicate expensive computations\n2. **Missing rerender-memo** - expensive computation should be memoized\n\nApply rerender-memo and rerender-dependencies rules:\n\n```typescript\n// Combine and memoize\nexport const MemoizedComponent = memo(() => {\n  const data = useMemo(() => expensiveComputation(props.data), [props.data])\n  useEffect(() => anotherComputation(data), [data])\n  return <Display data={data} />\n})\n```"
      }
    ],
    "best_practices": [
      "Eliminate waterfalls first - parallelize independent async operations using Promise.all() before optimizing other areas, as this provides the largest performance gains",
      "Use dynamic imports (next/dynamic) for heavy components and libraries that are not needed on initial page load to reduce Time to Interactive",
      "Apply memoization at the right level - extract expensive computations to memoized child components rather than wrapping simple expressions in useMemo"
    ],
    "anti_patterns": [
      "Sequential await statements that create waterfalls - each sequential await blocks the next, doubling or tripling page load time",
      "Importing entire barrel files (index.ts) which bundle all exports - import directly from the specific module to enable tree-shaking",
      "Subscribing components to more state than needed - only subscribe to the specific values used in render, not parent state that triggers unnecessary re-renders"
    ],
    "faq": [
      {
        "question": "What priority order should I follow when applying these rules?",
        "answer": "Start with CRITICAL rules (eliminating waterfalls, bundle optimization) as they provide the largest gains. Then move to HIGH priority (server-side performance), followed by MEDIUM (re-renders, rendering), and finally LOW (advanced patterns)."
      },
      {
        "question": "Does this skill modify my code directly?",
        "answer": "No, this skill provides documentation and guidance for AI agents. It does not execute code or modify files directly. It serves as a knowledge base for writing and reviewing React/Next.js code."
      },
      {
        "question": "Which Next.js and React versions do these rules apply to?",
        "answer": "These rules target modern Next.js (App Router) and React 18+ features including Suspense, Transitions, useOptimistic, and React.cache(). Some rules may not apply to older versions."
      },
      {
        "question": "How do I apply these rules to existing codebases?",
        "answer": "Use the skill during code review or refactoring sessions. The rules include specific code examples showing incorrect patterns and their corrected versions, making it easy to identify and fix issues."
      },
      {
        "question": "Can I use these rules for non-Next.js React apps?",
        "answer": "Most rules apply to any React application using React 18+. Server-side rules (server-cache-react, server-parallel-fetching) are specific to Next.js App Router."
      },
      {
        "question": "How are these rules different from official React docs?",
        "answer": "These rules capture Vercel's internal engineering standards and real-world performance optimizations learned from deploying millions of Next.js applications. They prioritize rules by actual performance impact."
      }
    ]
  },
  "file_structure": [
    {
      "name": "rules",
      "type": "dir",
      "path": "rules",
      "children": [
        {
          "name": "_sections.md",
          "type": "file",
          "path": "rules/_sections.md",
          "lines": 47
        },
        {
          "name": "_template.md",
          "type": "file",
          "path": "rules/_template.md",
          "lines": 29
        },
        {
          "name": "advanced-event-handler-refs.md",
          "type": "file",
          "path": "rules/advanced-event-handler-refs.md",
          "lines": 56
        },
        {
          "name": "advanced-use-latest.md",
          "type": "file",
          "path": "rules/advanced-use-latest.md",
          "lines": 40
        },
        {
          "name": "async-api-routes.md",
          "type": "file",
          "path": "rules/async-api-routes.md",
          "lines": 39
        },
        {
          "name": "async-defer-await.md",
          "type": "file",
          "path": "rules/async-defer-await.md",
          "lines": 81
        },
        {
          "name": "async-dependencies.md",
          "type": "file",
          "path": "rules/async-dependencies.md",
          "lines": 52
        },
        {
          "name": "async-parallel.md",
          "type": "file",
          "path": "rules/async-parallel.md",
          "lines": 29
        },
        {
          "name": "async-suspense-boundaries.md",
          "type": "file",
          "path": "rules/async-suspense-boundaries.md",
          "lines": 100
        },
        {
          "name": "bundle-barrel-imports.md",
          "type": "file",
          "path": "rules/bundle-barrel-imports.md",
          "lines": 60
        },
        {
          "name": "bundle-conditional.md",
          "type": "file",
          "path": "rules/bundle-conditional.md",
          "lines": 32
        },
        {
          "name": "bundle-defer-third-party.md",
          "type": "file",
          "path": "rules/bundle-defer-third-party.md",
          "lines": 50
        },
        {
          "name": "bundle-dynamic-imports.md",
          "type": "file",
          "path": "rules/bundle-dynamic-imports.md",
          "lines": 36
        },
        {
          "name": "bundle-preload.md",
          "type": "file",
          "path": "rules/bundle-preload.md",
          "lines": 51
        },
        {
          "name": "client-event-listeners.md",
          "type": "file",
          "path": "rules/client-event-listeners.md",
          "lines": 75
        },
        {
          "name": "client-localstorage-schema.md",
          "type": "file",
          "path": "rules/client-localstorage-schema.md",
          "lines": 72
        },
        {
          "name": "client-passive-event-listeners.md",
          "type": "file",
          "path": "rules/client-passive-event-listeners.md",
          "lines": 49
        },
        {
          "name": "client-swr-dedup.md",
          "type": "file",
          "path": "rules/client-swr-dedup.md",
          "lines": 57
        },
        {
          "name": "js-batch-dom-css.md",
          "type": "file",
          "path": "rules/js-batch-dom-css.md",
          "lines": 108
        },
        {
          "name": "js-cache-function-results.md",
          "type": "file",
          "path": "rules/js-cache-function-results.md",
          "lines": 81
        },
        {
          "name": "js-cache-property-access.md",
          "type": "file",
          "path": "rules/js-cache-property-access.md",
          "lines": 29
        },
        {
          "name": "js-cache-storage.md",
          "type": "file",
          "path": "rules/js-cache-storage.md",
          "lines": 71
        },
        {
          "name": "js-combine-iterations.md",
          "type": "file",
          "path": "rules/js-combine-iterations.md",
          "lines": 33
        },
        {
          "name": "js-early-exit.md",
          "type": "file",
          "path": "rules/js-early-exit.md",
          "lines": 51
        },
        {
          "name": "js-hoist-regexp.md",
          "type": "file",
          "path": "rules/js-hoist-regexp.md",
          "lines": 46
        },
        {
          "name": "js-index-maps.md",
          "type": "file",
          "path": "rules/js-index-maps.md",
          "lines": 38
        },
        {
          "name": "js-length-check-first.md",
          "type": "file",
          "path": "rules/js-length-check-first.md",
          "lines": 50
        },
        {
          "name": "js-min-max-loop.md",
          "type": "file",
          "path": "rules/js-min-max-loop.md",
          "lines": 83
        },
        {
          "name": "js-set-map-lookups.md",
          "type": "file",
          "path": "rules/js-set-map-lookups.md",
          "lines": 25
        },
        {
          "name": "js-tosorted-immutable.md",
          "type": "file",
          "path": "rules/js-tosorted-immutable.md",
          "lines": 58
        },
        {
          "name": "rendering-activity.md",
          "type": "file",
          "path": "rules/rendering-activity.md",
          "lines": 27
        },
        {
          "name": "rendering-animate-svg-wrapper.md",
          "type": "file",
          "path": "rules/rendering-animate-svg-wrapper.md",
          "lines": 48
        },
        {
          "name": "rendering-conditional-render.md",
          "type": "file",
          "path": "rules/rendering-conditional-render.md",
          "lines": 41
        },
        {
          "name": "rendering-content-visibility.md",
          "type": "file",
          "path": "rules/rendering-content-visibility.md",
          "lines": 39
        },
        {
          "name": "rendering-hoist-jsx.md",
          "type": "file",
          "path": "rules/rendering-hoist-jsx.md",
          "lines": 47
        },
        {
          "name": "rendering-hydration-no-flicker.md",
          "type": "file",
          "path": "rules/rendering-hydration-no-flicker.md",
          "lines": 83
        },
        {
          "name": "rendering-svg-precision.md",
          "type": "file",
          "path": "rules/rendering-svg-precision.md",
          "lines": 29
        },
        {
          "name": "rendering-usetransition-loading.md",
          "type": "file",
          "path": "rules/rendering-usetransition-loading.md",
          "lines": 76
        },
        {
          "name": "rerender-defer-reads.md",
          "type": "file",
          "path": "rules/rerender-defer-reads.md",
          "lines": 40
        },
        {
          "name": "rerender-dependencies.md",
          "type": "file",
          "path": "rules/rerender-dependencies.md",
          "lines": 46
        },
        {
          "name": "rerender-derived-state.md",
          "type": "file",
          "path": "rules/rerender-derived-state.md",
          "lines": 30
        },
        {
          "name": "rerender-functional-setstate.md",
          "type": "file",
          "path": "rules/rerender-functional-setstate.md",
          "lines": 75
        },
        {
          "name": "rerender-lazy-state-init.md",
          "type": "file",
          "path": "rules/rerender-lazy-state-init.md",
          "lines": 59
        },
        {
          "name": "rerender-memo-with-default-value.md",
          "type": "file",
          "path": "rules/rerender-memo-with-default-value.md",
          "lines": 39
        },
        {
          "name": "rerender-memo.md",
          "type": "file",
          "path": "rules/rerender-memo.md",
          "lines": 45
        },
        {
          "name": "rerender-simple-expression-in-memo.md",
          "type": "file",
          "path": "rules/rerender-simple-expression-in-memo.md",
          "lines": 36
        },
        {
          "name": "rerender-transitions.md",
          "type": "file",
          "path": "rules/rerender-transitions.md",
          "lines": 41
        },
        {
          "name": "server-after-nonblocking.md",
          "type": "file",
          "path": "rules/server-after-nonblocking.md",
          "lines": 74
        },
        {
          "name": "server-auth-actions.md",
          "type": "file",
          "path": "rules/server-auth-actions.md",
          "lines": 97
        },
        {
          "name": "server-cache-lru.md",
          "type": "file",
          "path": "rules/server-cache-lru.md",
          "lines": 42
        },
        {
          "name": "server-cache-react.md",
          "type": "file",
          "path": "rules/server-cache-react.md",
          "lines": 77
        },
        {
          "name": "server-dedup-props.md",
          "type": "file",
          "path": "rules/server-dedup-props.md",
          "lines": 66
        },
        {
          "name": "server-parallel-fetching.md",
          "type": "file",
          "path": "rules/server-parallel-fetching.md",
          "lines": 84
        },
        {
          "name": "server-serialization.md",
          "type": "file",
          "path": "rules/server-serialization.md",
          "lines": 39
        }
      ]
    },
    {
      "name": "AGENTS.md",
      "type": "file",
      "path": "AGENTS.md",
      "lines": 2720
    },
    {
      "name": "metadata.json",
      "type": "file",
      "path": "metadata.json",
      "lines": 16
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md",
      "lines": 124
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 126
    }
  ]
}
