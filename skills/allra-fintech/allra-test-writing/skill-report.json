{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T15:22:43.092Z",
    "slug": "allra-fintech-allra-test-writing",
    "source_url": "https://github.com/Allra-Fintech/allra-ai-skills/tree/main/backend-plugin/skills/test-writing",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "accede4c25f4399996c2cb810574dcc68632d15dedc899a6f14ac579c98df23e",
    "tree_hash": "1464b14e325a1bc926ff95f1957409e2c40f42ea01b2befa823699b52f40c648"
  },
  "skill": {
    "name": "allra-test-writing",
    "description": "Allra ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ìž‘ì„± í‘œì¤€. Use when writing test code, choosing test helpers, generating test data with Fixture Monkey, or verifying test coverage.",
    "summary": "Allra ë°±ì—”ë“œ í…ŒìŠ¤íŠ¸ ìž‘ì„± í‘œì¤€. Use when writing test code, choosing test helpers, generating test data with Fi...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "Allra-Fintech",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "testing",
      "java",
      "spring-boot",
      "junit",
      "tdd"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure documentation skill containing only markdown guidelines for Java/Spring Boot testing standards. The static analyzer flagged 105 'issues' but ALL findings are FALSE POSITIVES. The 'backtick execution' detections are markdown code block delimiters, not Ruby/shell commands. 'C2 keywords' and 'weak crypto' flags are triggered by metadata field names (content_hash, tree_hash) and Java variable names in test examples (execute, trigger, command). No executable code, scripts, or network calls exist. This skill only provides documentation for test writing patterns and is safe for publishing.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 26
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 26
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 26
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 46
          },
          {
            "file": "SKILL.md",
            "line_start": 46,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 96
          },
          {
            "file": "SKILL.md",
            "line_start": 96,
            "line_end": 104
          },
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 127
          },
          {
            "file": "SKILL.md",
            "line_start": 127,
            "line_end": 133
          },
          {
            "file": "SKILL.md",
            "line_start": 133,
            "line_end": 150
          },
          {
            "file": "SKILL.md",
            "line_start": 150,
            "line_end": 152
          },
          {
            "file": "SKILL.md",
            "line_start": 152,
            "line_end": 158
          },
          {
            "file": "SKILL.md",
            "line_start": 158,
            "line_end": 171
          },
          {
            "file": "SKILL.md",
            "line_start": 171,
            "line_end": 177
          },
          {
            "file": "SKILL.md",
            "line_start": 177,
            "line_end": 190
          },
          {
            "file": "SKILL.md",
            "line_start": 190,
            "line_end": 196
          },
          {
            "file": "SKILL.md",
            "line_start": 196,
            "line_end": 217
          },
          {
            "file": "SKILL.md",
            "line_start": 217,
            "line_end": 223
          },
          {
            "file": "SKILL.md",
            "line_start": 223,
            "line_end": 237
          },
          {
            "file": "SKILL.md",
            "line_start": 237,
            "line_end": 243
          },
          {
            "file": "SKILL.md",
            "line_start": 243,
            "line_end": 262
          },
          {
            "file": "SKILL.md",
            "line_start": 262,
            "line_end": 274
          },
          {
            "file": "SKILL.md",
            "line_start": 274,
            "line_end": 299
          },
          {
            "file": "SKILL.md",
            "line_start": 299,
            "line_end": 303
          },
          {
            "file": "SKILL.md",
            "line_start": 303,
            "line_end": 305
          },
          {
            "file": "SKILL.md",
            "line_start": 305,
            "line_end": 334
          },
          {
            "file": "SKILL.md",
            "line_start": 334,
            "line_end": 350
          },
          {
            "file": "SKILL.md",
            "line_start": 350,
            "line_end": 373
          },
          {
            "file": "SKILL.md",
            "line_start": 373,
            "line_end": 381
          },
          {
            "file": "SKILL.md",
            "line_start": 381,
            "line_end": 387
          },
          {
            "file": "SKILL.md",
            "line_start": 387,
            "line_end": 390
          },
          {
            "file": "SKILL.md",
            "line_start": 390,
            "line_end": 394
          },
          {
            "file": "SKILL.md",
            "line_start": 394,
            "line_end": 398
          },
          {
            "file": "SKILL.md",
            "line_start": 398,
            "line_end": 404
          },
          {
            "file": "SKILL.md",
            "line_start": 404,
            "line_end": 411
          },
          {
            "file": "SKILL.md",
            "line_start": 411,
            "line_end": 414
          },
          {
            "file": "SKILL.md",
            "line_start": 414,
            "line_end": 418
          },
          {
            "file": "SKILL.md",
            "line_start": 418,
            "line_end": 422
          },
          {
            "file": "SKILL.md",
            "line_start": 422,
            "line_end": 428
          },
          {
            "file": "SKILL.md",
            "line_start": 428,
            "line_end": 437
          },
          {
            "file": "SKILL.md",
            "line_start": 437,
            "line_end": 440
          },
          {
            "file": "SKILL.md",
            "line_start": 440,
            "line_end": 444
          },
          {
            "file": "SKILL.md",
            "line_start": 444,
            "line_end": 451
          },
          {
            "file": "SKILL.md",
            "line_start": 451,
            "line_end": 461
          },
          {
            "file": "SKILL.md",
            "line_start": 461,
            "line_end": 464
          },
          {
            "file": "SKILL.md",
            "line_start": 464,
            "line_end": 466
          },
          {
            "file": "SKILL.md",
            "line_start": 466,
            "line_end": 474
          },
          {
            "file": "SKILL.md",
            "line_start": 474,
            "line_end": 478
          },
          {
            "file": "SKILL.md",
            "line_start": 478,
            "line_end": 492
          },
          {
            "file": "SKILL.md",
            "line_start": 492,
            "line_end": 500
          },
          {
            "file": "SKILL.md",
            "line_start": 500,
            "line_end": 516
          },
          {
            "file": "SKILL.md",
            "line_start": 516,
            "line_end": 522
          },
          {
            "file": "SKILL.md",
            "line_start": 522,
            "line_end": 543
          },
          {
            "file": "SKILL.md",
            "line_start": 543,
            "line_end": 551
          },
          {
            "file": "SKILL.md",
            "line_start": 551,
            "line_end": 561
          },
          {
            "file": "SKILL.md",
            "line_start": 561,
            "line_end": 565
          },
          {
            "file": "SKILL.md",
            "line_start": 565,
            "line_end": 574
          },
          {
            "file": "SKILL.md",
            "line_start": 574,
            "line_end": 582
          },
          {
            "file": "SKILL.md",
            "line_start": 582,
            "line_end": 588
          },
          {
            "file": "SKILL.md",
            "line_start": 588,
            "line_end": 592
          },
          {
            "file": "SKILL.md",
            "line_start": 592,
            "line_end": 601
          },
          {
            "file": "SKILL.md",
            "line_start": 601,
            "line_end": 609
          },
          {
            "file": "SKILL.md",
            "line_start": 609,
            "line_end": 631
          },
          {
            "file": "SKILL.md",
            "line_start": 631,
            "line_end": 635
          },
          {
            "file": "SKILL.md",
            "line_start": 635,
            "line_end": 665
          },
          {
            "file": "SKILL.md",
            "line_start": 665,
            "line_end": 669
          },
          {
            "file": "SKILL.md",
            "line_start": 669,
            "line_end": 694
          },
          {
            "file": "SKILL.md",
            "line_start": 694,
            "line_end": 721
          },
          {
            "file": "SKILL.md",
            "line_start": 721,
            "line_end": 758
          },
          {
            "file": "SKILL.md",
            "line_start": 758,
            "line_end": 762
          },
          {
            "file": "SKILL.md",
            "line_start": 762,
            "line_end": 766
          },
          {
            "file": "SKILL.md",
            "line_start": 766,
            "line_end": 770
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 960,
    "audit_model": "claude",
    "audited_at": "2026-01-16T15:22:43.092Z"
  },
  "content": {
    "user_title": "Write Java tests with Allra standards",
    "value_statement": "Writing backend tests without standards leads to inconsistent coverage and slow execution. This skill provides test helper selection guides, Fixture Monkey patterns, and proven JUnit 5, AssertJ, and Mockito templates for fast, reliable tests.",
    "seo_keywords": [
      "Java testing standards",
      "Spring Boot test writing",
      "JUnit 5 best practices",
      "Fixture Monkey test data",
      "AssertJ assertions",
      "Mockito mocking patterns",
      "integration test vs unit test",
      "test coverage guidelines",
      "Claude Code testing",
      "AI code generation testing"
    ],
    "actual_capabilities": [
      "Select appropriate test helper (IntegrationTest, MockingUnitTest, RdbTest, ControllerTest, RedisTest, PojoUnitTest)",
      "Apply Given-When-Then pattern for readable test structure",
      "Generate test data using Fixture Monkey with custom field configurations",
      "Write AssertJ assertions for values, collections, exceptions, and Optional results",
      "Configure Mockito mocks with return values, void methods, and exception scenarios",
      "Verify when to use integration tests vs unit tests with decision flowcharts"
    ],
    "limitations": [
      "Does not provide executable test code or scripts",
      "Does not generate test reports or coverage metrics",
      "Does not execute tests or interact with build tools",
      "Targets Java 17+ and Spring Boot 3.2+ projects only"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Write consistent unit tests",
        "description": "Apply Allra test helper selection and naming conventions for new Java service tests"
      },
      {
        "target_user": "QA Engineers",
        "title": "Create test data with Fixture Monkey",
        "description": "Generate complex test fixtures with custom field values for integration test scenarios"
      },
      {
        "target_user": "Tech Leads",
        "title": "Establish team testing standards",
        "description": "Define test helper usage policies and coverage expectations across backend projects"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Service Test",
        "scenario": "Write unit test for service",
        "prompt": "Write a JUnit 5 unit test for {ServiceName}. Use MockingUnitTest pattern with @ExtendWith(MockitoExtension.class). Include @Mock for dependencies and @InjectMocks for the service. Apply Given-When-Then structure with DisplayName in Korean."
      },
      {
        "title": "Fixture Data Generation",
        "scenario": "Create test fixtures",
        "prompt": "Create a test that generates 5 User entities using Fixture Monkey with specific field values for email and status. Use AssertJ to verify all generated users have valid email format and active status."
      },
      {
        "title": "Integration Test Selection",
        "scenario": "Determine test type",
        "prompt": "Should I use IntegrationTest or MockingUnitTest for testing {feature}? The feature involves {money_transactions/transaction_rollback/multi_table_validation/complex_state_machine}. Explain why with reference to Allra standards."
      },
      {
        "title": "API Controller Test",
        "scenario": "Test REST endpoint",
        "prompt": "Write a ControllerTest for {ControllerName} using @WebMvcTest. Mock the underlying service with @MockBean. Verify HTTP status 200 and response JSON structure using mockMvc.perform and assertThat with jsonPath."
      }
    ],
    "output_examples": [
      {
        "input": "Write a unit test for UserService that verifies findById returns user when user exists",
        "output": [
          "â€¢ Create test class with @ExtendWith(MockitoExtension.class)",
          "â€¢ Set up @Mock for UserRepository with findById returning a fixture user",
          "â€¢ Use @InjectMocks for UserService",
          "â€¢ Structure test with Given-When-Then comments",
          "â€¢ Verify result with assertThat and assertNotNull",
          "â€¢ Add verify(repository, times(1)) to confirm single call"
        ]
      },
      {
        "input": "Should I use IntegrationTest for testing payment processing that involves money transactions?",
        "output": [
          "â€¢ Yes, IntegrationTest is appropriate for money transactions",
          "â€¢ This involves real DB transaction verification which requires IntegrationTest",
          "â€¢ Use @MockBean for external payment gateway",
          "â€¢ Verify actual DB state after payment processing",
          "â€¢ Target keeping IntegrationTest ratio below 5%"
        ]
      }
    ],
    "best_practices": [
      "Use Given-When-Then pattern with @DisplayName in Korean for test clarity",
      "Default to MockingUnitTest; reserve IntegrationTest for money transactions, rollback verification, or multi-service workflows",
      "Apply AssertJ fluent assertions with isEqualTo, isTrue, isPresent, and hasMessageContaining"
    ],
    "anti_patterns": [
      "Avoid IntegrationTest for simple CRUD operations that mock dependencies can verify",
      "Do not skip @DisplayName or use vague test method names without scenario and expected result",
      "Avoid testing multiple concerns in a single test method"
    ],
    "faq": [
      {
        "question": "Which Java and Spring Boot versions does this skill support?",
        "answer": "This skill targets Java 17+ and Spring Boot 3.2+ with JUnit 5, AssertJ, Mockito, and optional Fixture Monkey."
      },
      {
        "question": "What is the recommended test coverage target?",
        "answer": "Allra standards recommend 70% coverage for core business logic. Target ratio is 80% unit tests (PojoUnit + MockingUnit) and 20% integration tests."
      },
      {
        "question": "Is Fixture Monkey safe to use for production test data?",
        "answer": "Yes. Fixture Monkey generates test data in memory without database side effects. It is designed specifically for safe test fixture creation."
      },
      {
        "question": "How do I choose between MockingUnitTest and IntegrationTest?",
        "answer": "Default to MockingUnitTest. Use IntegrationTest only for money processing, rollback validation, multi-table integrity, or 3+ service collaborations."
      },
      {
        "question": "What is the expected execution time for tests?",
        "answer": "Unit tests should complete in 1 second or less. Integration tests should complete in 5 seconds or less to maintain CI pipeline efficiency."
      },
      {
        "question": "How does this skill compare to other testing frameworks?",
        "answer": "This skill provides Allra-specific conventions on top of standard tools. It emphasizes test helper selection, naming patterns, and team-wide consistency."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 781
    }
  ]
}
