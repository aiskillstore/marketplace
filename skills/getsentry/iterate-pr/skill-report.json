{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-17T05:54:23.489Z",
    "slug": "getsentry-iterate-pr",
    "source_url": "https://github.com/getsentry/skills/tree/main/plugins/sentry-skills/skills/iterate-pr",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "52f40a58c6026c380b6db9148b41197c38724de43e83f4f2f219391536f1dd5a",
    "tree_hash": "12e59b71743ead25d7f08bed40d84ded31ff9981e397c3d6b2ae9d33604f8014"
  },
  "skill": {
    "name": "iterate-pr",
    "description": "Iterate on a PR until CI passes. Use when you need to fix CI failures, address review feedback, or continuously push fixes until all checks are green. Automates the feedback-fix-push-wait cycle.",
    "summary": "Iterate on a PR until CI passes. Use when you need to fix CI failures, address review feedback, or c...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "getsentry",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "pull-requests",
      "ci-cd",
      "automation",
      "github",
      "code-review"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill containing only markdown documentation for AI agents. All 55 static findings are false positives: network/hardcoded URL flags source URL metadata; C2/weak crypto flags are hash values in metadata; system reconnaissance flags are GitHub CLI commands in documentation examples; external_commands flags are legitimate gh CLI examples for PR/CI operations. No executable code, scripts, or actual network calls exist in this skill.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 16,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 18,
            "line_end": 26
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 33
          },
          {
            "file": "SKILL.md",
            "line_start": 33,
            "line_end": 34
          },
          {
            "file": "SKILL.md",
            "line_start": 34,
            "line_end": 35
          },
          {
            "file": "SKILL.md",
            "line_start": 35,
            "line_end": 35
          },
          {
            "file": "SKILL.md",
            "line_start": 35,
            "line_end": 35
          },
          {
            "file": "SKILL.md",
            "line_start": 35,
            "line_end": 45
          },
          {
            "file": "SKILL.md",
            "line_start": 45,
            "line_end": 47
          },
          {
            "file": "SKILL.md",
            "line_start": 47,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 55
          },
          {
            "file": "SKILL.md",
            "line_start": 55,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 65
          },
          {
            "file": "SKILL.md",
            "line_start": 65,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 90
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 94
          },
          {
            "file": "SKILL.md",
            "line_start": 94,
            "line_end": 100
          },
          {
            "file": "SKILL.md",
            "line_start": 100,
            "line_end": 102
          },
          {
            "file": "SKILL.md",
            "line_start": 102,
            "line_end": 108
          },
          {
            "file": "SKILL.md",
            "line_start": 108,
            "line_end": 110
          },
          {
            "file": "SKILL.md",
            "line_start": 110,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 137
          },
          {
            "file": "SKILL.md",
            "line_start": 137,
            "line_end": 138
          },
          {
            "file": "SKILL.md",
            "line_start": 138,
            "line_end": 139
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 93,
            "line_end": 93
          },
          {
            "file": "SKILL.md",
            "line_start": 65,
            "line_end": 71
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 94
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 323,
    "audit_model": "claude",
    "audited_at": "2026-01-17T05:54:23.489Z"
  },
  "content": {
    "user_title": "Iterate on Pull Requests Until CI Passes",
    "value_statement": "Manually checking CI status, gathering review feedback, and pushing fixes is repetitive and time-consuming. This skill automates the entire feedback-fix-push-wait cycle so you can focus on writing code while the skill handles PR maintenance.",
    "seo_keywords": [
      "claude code iterate pr",
      "pull request automation",
      "ci cd automation",
      "github pr bot",
      "claude pr reviewer",
      "codex pr automation",
      "continuous integration",
      "github actions automation",
      "pr feedback automation",
      "ci pipeline monitoring"
    ],
    "actual_capabilities": [
      "Check CI/GitHub Actions status and wait for pending checks to complete",
      "Gather review feedback from human reviewers and automated bots (Sentry, Codecov, Cursor, Bugbot, Seer)",
      "Investigate CI failures by reading actual run logs instead of assuming based on check names",
      "Validate feedback to skip invalid or already-addressed issues before fixing",
      "Commit and push targeted fixes to the current branch",
      "Repeat the cycle until all checks pass and no unaddressed feedback remains"
    ],
    "limitations": [
      "Requires GitHub CLI (gh) to be installed and authenticated",
      "Cannot access private repositories or organizations without proper gh authentication",
      "Does not resolve merge conflicts or rebase branches automatically",
      "Cannot make decisions on unclear feedback - escalates to user after 3 failed attempts"
    ],
    "use_cases": [
      {
        "target_user": "Developers",
        "title": "Fix CI Failures Automatically",
        "description": "Run the skill to automatically identify CI failures, read logs, make fixes, and push until all checks pass."
      },
      {
        "target_user": "Code Reviewers",
        "title": "Track PR Progress End-to-End",
        "description": "Monitor PR status without manual polling. Skill handles the wait-and-push cycle while you focus on other tasks."
      },
      {
        "target_user": "Open Source Contributors",
        "title": "Address Review Feedback Efficiently",
        "description": "Gather all bot and human comments in one place, validate each piece of feedback, and push fixes without switching contexts."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start CI Iteration",
        "scenario": "PR needs attention",
        "prompt": "Use the iterate-pr skill to check CI status and address any failures or review feedback on the current PR."
      },
      {
        "title": "Fix Specific Failure",
        "scenario": "Known CI failure",
        "prompt": "The CI failed on test_search.py::test_query. Use iterate-pr to investigate the failure logs, fix the issue, and push the fix."
      },
      {
        "title": "Address All Feedback",
        "scenario": "Review comments pending",
        "prompt": "Run iterate-pr to gather all review comments from the PR, validate which are still valid, and push fixes for each one."
      },
      {
        "title": "Wait for Green CI",
        "scenario": "Pushing multiple fixes",
        "prompt": "Iterate through CI failures and review comments until all checks pass. Stop and ask for help if the same failure persists after 3 attempts."
      }
    ],
    "output_examples": [
      {
        "input": "Use iterate-pr to fix the failing CI on my current PR",
        "output": [
          "Found PR #1234: 'Add user authentication'",
          "CI Status: 1 failed, 3 passed, 2 pending",
          "Failure: test_auth.py::test_login_redirect - AssertionError: expected '/dashboard' got '/home'",
          "Checking review comments... No new comments",
          "Investigating failure in test_auth.py line 45...",
          "Fix: Updated redirect URL from '/home' to '/dashboard'",
          "Committed: fix: correct login redirect URL",
          "Pushed to branch feature/auth",
          "Waiting for CI... All checks passed!",
          "No pending review feedback. PR is ready for merge."
        ]
      },
      {
        "input": "Run iterate-pr to gather all review comments and address them",
        "output": [
          "Identified PR #567: 'Update API endpoints'",
          "CI Status: All checks passed",
          "Review comments found: 3 from human, 2 from Codecov bot",
          "Comment 1 (human): Consider using const instead of let - Addressed",
          "Comment 2 (human): Add error handling for null case - Addressed",
          "Comment 3 (human): Update docstring - Addressed",
          "Codecov: Coverage increased by 0.5% - No action needed",
          "Codecov: Missing test for validateEmail function - Added test",
          "All feedback addressed. CI still passing. Ready for merge."
        ]
      },
      {
        "input": "Use iterate-pr but stop after 3 attempts on flaky test",
        "output": [
          "Found PR #890: 'Database migration'",
          "CI Status: 1 failed",
          "Failure: test_db_connection.py::test_timeout - Flaky test detected",
          "Attempt 1: Ran test locally - passed",
          "Attempt 2: Re-ran CI - failed again",
          "Attempt 3: Checked test history - fails intermittently",
          "Stopping as per guidelines. This appears to be a flaky test unrelated to your changes.",
          "Recommendation: Merge anyway or consult with team about the flaky test."
        ]
      }
    ],
    "best_practices": [
      "Always run from a feature branch with an associated PR to ensure the skill can access PR context",
      "Let the skill wait for pending bot checks (codecov, sentry, cursor) to avoid duplicate work",
      "Trust the skill to validate feedback and skip invalid comments rather than manually reviewing each one"
    ],
    "anti_patterns": [
      "Running on a branch without a PR - the skill will stop immediately",
      "Pushing fixes without waiting for all checks to complete",
      "Ignoring the 3-attempt limit - deeper issues require human investigation"
    ],
    "faq": [
      {
        "question": "What tools does this skill require?",
        "answer": "Requires GitHub CLI (gh) installed and authenticated. No other dependencies needed."
      },
      {
        "question": "How long does the skill wait for CI?",
        "answer": "Uses gh pr checks --watch with 30-second intervals until all checks complete or fail."
      },
      {
        "question": "Can I integrate this with other GitHub tools?",
        "answer": "Works with any GitHub setup using gh CLI. Uses standard gh commands for PR and Actions APIs."
      },
      {
        "question": "Is my code and data safe?",
        "answer": "Yes. The skill only reads PR metadata and pushes commits you approve. No external network calls outside gh CLI."
      },
      {
        "question": "Why did the skill stop and ask for help?",
        "answer": "Three common reasons: same failure after 3 attempts (likely flaky test), unclear feedback requiring judgment, or CI issue unrelated to your branch."
      },
      {
        "question": "How is this different from GitHub Actions?",
        "answer": "GitHub Actions runs CI checks. This skill orchestrates the developer workflow between CI runs - gathering feedback, making fixes, and pushing until green."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 140
    }
  ]
}
