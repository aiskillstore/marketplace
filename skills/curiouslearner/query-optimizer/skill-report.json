{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T23:15:41.530Z",
    "slug": "curiouslearner-query-optimizer",
    "source_url": "https://github.com/CuriousLearner/devkit/tree/main/skills/query-optimizer",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "2126e7d0a541787239f09fc50c0b58de8e8c774635463c651a9ce71e994e4bb3",
    "tree_hash": "57cd9ae27ae1009105d3f02e0adef7b33731063a89aaa374127d83e641889d98"
  },
  "skill": {
    "name": "query-optimizer",
    "description": "Analyze and optimize SQL queries for better performance and efficiency.",
    "summary": "Analyze and optimize SQL queries for better performance and efficiency.",
    "icon": "âš¡",
    "version": "1.0.0",
    "author": "CuriousLearner",
    "license": "MIT",
    "category": "data",
    "tags": [
      "sql",
      "database",
      "performance",
      "optimization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only SQL optimization guidance. No executable code, no file system access, no network calls. Static findings are false positives: scanner misidentified markdown code blocks as Ruby/shell commands and flagged standard SQL keywords as security threats.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 46,
            "line_end": 52
          },
          {
            "file": "SKILL.md",
            "line_start": 52,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 82
          },
          {
            "file": "SKILL.md",
            "line_start": 82,
            "line_end": 90
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 92
          },
          {
            "file": "SKILL.md",
            "line_start": 92,
            "line_end": 99
          },
          {
            "file": "SKILL.md",
            "line_start": 99,
            "line_end": 102
          },
          {
            "file": "SKILL.md",
            "line_start": 102,
            "line_end": 120
          },
          {
            "file": "SKILL.md",
            "line_start": 120,
            "line_end": 123
          },
          {
            "file": "SKILL.md",
            "line_start": 123,
            "line_end": 141
          },
          {
            "file": "SKILL.md",
            "line_start": 141,
            "line_end": 148
          },
          {
            "file": "SKILL.md",
            "line_start": 148,
            "line_end": 155
          },
          {
            "file": "SKILL.md",
            "line_start": 155,
            "line_end": 158
          },
          {
            "file": "SKILL.md",
            "line_start": 158,
            "line_end": 167
          },
          {
            "file": "SKILL.md",
            "line_start": 167,
            "line_end": 172
          },
          {
            "file": "SKILL.md",
            "line_start": 172,
            "line_end": 180
          },
          {
            "file": "SKILL.md",
            "line_start": 180,
            "line_end": 185
          },
          {
            "file": "SKILL.md",
            "line_start": 185,
            "line_end": 188
          },
          {
            "file": "SKILL.md",
            "line_start": 188,
            "line_end": 198
          },
          {
            "file": "SKILL.md",
            "line_start": 198,
            "line_end": 202
          },
          {
            "file": "SKILL.md",
            "line_start": 202,
            "line_end": 205
          },
          {
            "file": "SKILL.md",
            "line_start": 205,
            "line_end": 220
          },
          {
            "file": "SKILL.md",
            "line_start": 220,
            "line_end": 225
          },
          {
            "file": "SKILL.md",
            "line_start": 225,
            "line_end": 232
          },
          {
            "file": "SKILL.md",
            "line_start": 232,
            "line_end": 235
          },
          {
            "file": "SKILL.md",
            "line_start": 235,
            "line_end": 246
          },
          {
            "file": "SKILL.md",
            "line_start": 246,
            "line_end": 251
          },
          {
            "file": "SKILL.md",
            "line_start": 251,
            "line_end": 262
          },
          {
            "file": "SKILL.md",
            "line_start": 262,
            "line_end": 265
          },
          {
            "file": "SKILL.md",
            "line_start": 265,
            "line_end": 283
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 288
          },
          {
            "file": "SKILL.md",
            "line_start": 288,
            "line_end": 294
          },
          {
            "file": "SKILL.md",
            "line_start": 294,
            "line_end": 297
          },
          {
            "file": "SKILL.md",
            "line_start": 297,
            "line_end": 307
          },
          {
            "file": "SKILL.md",
            "line_start": 307,
            "line_end": 310
          },
          {
            "file": "SKILL.md",
            "line_start": 310,
            "line_end": 317
          },
          {
            "file": "SKILL.md",
            "line_start": 317,
            "line_end": 320
          },
          {
            "file": "SKILL.md",
            "line_start": 320,
            "line_end": 327
          },
          {
            "file": "SKILL.md",
            "line_start": 327,
            "line_end": 332
          },
          {
            "file": "SKILL.md",
            "line_start": 332,
            "line_end": 349
          },
          {
            "file": "SKILL.md",
            "line_start": 349,
            "line_end": 352
          },
          {
            "file": "SKILL.md",
            "line_start": 352,
            "line_end": 361
          },
          {
            "file": "SKILL.md",
            "line_start": 361,
            "line_end": 366
          },
          {
            "file": "SKILL.md",
            "line_start": 366,
            "line_end": 372
          },
          {
            "file": "SKILL.md",
            "line_start": 372,
            "line_end": 375
          },
          {
            "file": "SKILL.md",
            "line_start": 375,
            "line_end": 383
          },
          {
            "file": "SKILL.md",
            "line_start": 383,
            "line_end": 388
          },
          {
            "file": "SKILL.md",
            "line_start": 388,
            "line_end": 396
          },
          {
            "file": "SKILL.md",
            "line_start": 396,
            "line_end": 399
          },
          {
            "file": "SKILL.md",
            "line_start": 399,
            "line_end": 413
          },
          {
            "file": "SKILL.md",
            "line_start": 413,
            "line_end": 431
          },
          {
            "file": "SKILL.md",
            "line_start": 431,
            "line_end": 438
          },
          {
            "file": "SKILL.md",
            "line_start": 438,
            "line_end": 441
          },
          {
            "file": "SKILL.md",
            "line_start": 441,
            "line_end": 455
          },
          {
            "file": "SKILL.md",
            "line_start": 455,
            "line_end": 458
          },
          {
            "file": "SKILL.md",
            "line_start": 458,
            "line_end": 465
          },
          {
            "file": "SKILL.md",
            "line_start": 465,
            "line_end": 468
          },
          {
            "file": "SKILL.md",
            "line_start": 468,
            "line_end": 481
          },
          {
            "file": "SKILL.md",
            "line_start": 481,
            "line_end": 484
          },
          {
            "file": "SKILL.md",
            "line_start": 484,
            "line_end": 493
          },
          {
            "file": "SKILL.md",
            "line_start": 493,
            "line_end": 498
          },
          {
            "file": "SKILL.md",
            "line_start": 498,
            "line_end": 507
          },
          {
            "file": "SKILL.md",
            "line_start": 507,
            "line_end": 510
          },
          {
            "file": "SKILL.md",
            "line_start": 510,
            "line_end": 519
          },
          {
            "file": "SKILL.md",
            "line_start": 519,
            "line_end": 524
          },
          {
            "file": "SKILL.md",
            "line_start": 524,
            "line_end": 537
          },
          {
            "file": "SKILL.md",
            "line_start": 537,
            "line_end": 540
          },
          {
            "file": "SKILL.md",
            "line_start": 540,
            "line_end": 548
          },
          {
            "file": "SKILL.md",
            "line_start": 548,
            "line_end": 551
          },
          {
            "file": "SKILL.md",
            "line_start": 551,
            "line_end": 558
          },
          {
            "file": "SKILL.md",
            "line_start": 558,
            "line_end": 565
          },
          {
            "file": "SKILL.md",
            "line_start": 565,
            "line_end": 575
          },
          {
            "file": "SKILL.md",
            "line_start": 575,
            "line_end": 578
          },
          {
            "file": "SKILL.md",
            "line_start": 578,
            "line_end": 591
          },
          {
            "file": "SKILL.md",
            "line_start": 591,
            "line_end": 596
          },
          {
            "file": "SKILL.md",
            "line_start": 596,
            "line_end": 604
          },
          {
            "file": "SKILL.md",
            "line_start": 604,
            "line_end": 607
          },
          {
            "file": "SKILL.md",
            "line_start": 607,
            "line_end": 616
          },
          {
            "file": "SKILL.md",
            "line_start": 616,
            "line_end": 621
          },
          {
            "file": "SKILL.md",
            "line_start": 621,
            "line_end": 630
          },
          {
            "file": "SKILL.md",
            "line_start": 630,
            "line_end": 633
          },
          {
            "file": "SKILL.md",
            "line_start": 633,
            "line_end": 641
          },
          {
            "file": "SKILL.md",
            "line_start": 641,
            "line_end": 646
          },
          {
            "file": "SKILL.md",
            "line_start": 646,
            "line_end": 652
          },
          {
            "file": "SKILL.md",
            "line_start": 652,
            "line_end": 655
          },
          {
            "file": "SKILL.md",
            "line_start": 655,
            "line_end": 667
          },
          {
            "file": "SKILL.md",
            "line_start": 667,
            "line_end": 673
          },
          {
            "file": "SKILL.md",
            "line_start": 673,
            "line_end": 699
          },
          {
            "file": "SKILL.md",
            "line_start": 699,
            "line_end": 703
          },
          {
            "file": "SKILL.md",
            "line_start": 703,
            "line_end": 715
          },
          {
            "file": "SKILL.md",
            "line_start": 715,
            "line_end": 719
          },
          {
            "file": "SKILL.md",
            "line_start": 719,
            "line_end": 732
          },
          {
            "file": "SKILL.md",
            "line_start": 732,
            "line_end": 762
          },
          {
            "file": "SKILL.md",
            "line_start": 762,
            "line_end": 780
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 968,
    "audit_model": "claude",
    "audited_at": "2026-01-16T23:15:41.530Z"
  },
  "content": {
    "user_title": "Optimize SQL queries for better performance",
    "value_statement": "Slow database queries impact application performance and user experience. This skill provides expert guidance on analyzing query execution plans, identifying performance bottlenecks, and implementing optimizations like proper indexing and query restructuring.",
    "seo_keywords": [
      "SQL optimization",
      "query performance",
      "PostgreSQL",
      "MySQL",
      "database indexing",
      "EXPLAIN ANALYZE",
      "slow query",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Analyze SQL queries using EXPLAIN and EXPLAIN ANALYZE output",
      "Identify missing indexes and performance bottlenecks in queries",
      "Suggest query rewrites to improve execution efficiency",
      "Recommend proper indexing strategies for different databases",
      "Detect N+1 query problems and suggest eager loading fixes",
      "Optimize pagination and JOIN operations for better performance"
    ],
    "limitations": [
      "Cannot directly execute queries or modify database schema",
      "Cannot access user databases or query live systems",
      "Cannot install or configure database software",
      "Provides recommendations only; requires user to implement changes"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Improve application queries",
        "description": "Analyze and optimize database queries in web applications to reduce response times and improve scalability."
      },
      {
        "target_user": "Database administrators",
        "title": "Audit database performance",
        "description": "Review execution plans and identify slow queries that need indexing or rewriting to maintain database health."
      },
      {
        "target_user": "Data engineers",
        "title": "Optimize data pipelines",
        "description": "Improve the performance of ETL queries and data transformation operations for faster processing."
      }
    ],
    "prompt_templates": [
      {
        "title": "Explain query plan",
        "scenario": "Understanding execution",
        "prompt": "Analyze this EXPLAIN output and tell me what the query is doing: [paste EXPLAIN output]"
      },
      {
        "title": "Find missing indexes",
        "scenario": "Performance investigation",
        "prompt": "This query is slow. Check if there are missing indexes: SELECT * FROM [table] WHERE [condition]"
      },
      {
        "title": "Fix N+1 queries",
        "scenario": "ORM optimization",
        "prompt": "Help me rewrite this code to avoid N+1 queries: [paste code with loop-based queries]"
      },
      {
        "title": "Design indexing strategy",
        "scenario": "Schema optimization",
        "prompt": "Suggest indexes for these tables and queries: [paste CREATE TABLE and SELECT statements]"
      }
    ],
    "output_examples": [
      {
        "input": "Analyze this query for performance: SELECT * FROM orders WHERE status = 'pending' ORDER BY created_at DESC LIMIT 20",
        "output": [
          "This query may cause full table scan without an index on status column",
          "Consider adding a composite index on (status, created_at DESC) for optimal performance",
          "Current query fetches all columns; select only needed columns to reduce I/O",
          "For large tables, use cursor-based pagination instead of OFFSET LIMIT"
        ]
      },
      {
        "input": "Why is my JOIN query slow? SELECT u.*, o.* FROM users u JOIN orders o ON u.id = o.user_id WHERE u.active = true",
        "output": [
          "Missing index on users.id (primary key) or orders.user_id (foreign key) causes slow JOINs",
          "Add index on orders(user_id) to speed up the join condition",
          "Consider adding covering index on users(active) if filtering is the bottleneck",
          "Avoid SELECT * and specify only needed columns to reduce data transfer"
        ]
      }
    ],
    "best_practices": [
      "Always run EXPLAIN before and after optimization to measure improvements",
      "Add indexes on foreign keys, WHERE clauses, JOIN conditions, and ORDER BY columns",
      "Avoid SELECT * and use only columns needed for the application"
    ],
    "anti_patterns": [
      "Using SELECT * on large tables increases memory usage and network transfer",
      "Applying functions to indexed columns prevents index usage",
      "Using OFFSET for pagination on deep pages causes performance degradation"
    ],
    "faq": [
      {
        "question": "Which databases are supported?",
        "answer": "Supports PostgreSQL, MySQL, MariaDB, SQL Server, and SQLite with database-specific optimization advice."
      },
      {
        "question": "What is the maximum query size?",
        "answer": "The skill can analyze queries of any size but works best with queries under 500 lines."
      },
      {
        "question": "How to integrate with existing tools?",
        "answer": "Use @query-optimizer prefix in any prompt. Combine with other skills like schema-analyzer for complete database help."
      },
      {
        "question": "Is data safe when using this skill?",
        "answer": "Yes. This skill only provides text-based recommendations. It never accesses or stores your database data."
      },
      {
        "question": "Why is my query still slow after adding indexes?",
        "answer": "Index effectiveness depends on data distribution, query patterns, and table size. The skill can suggest alternative approaches."
      },
      {
        "question": "How does this compare to database monitoring tools?",
        "answer": "This skill provides optimization guidance based on query structure. Use pg_stat_statements or slow query logs for real-time monitoring."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 792
    }
  ]
}
