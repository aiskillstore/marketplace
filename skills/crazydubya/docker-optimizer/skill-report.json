{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-16T23:35:54.885Z",
    "slug": "crazydubya-docker-optimizer",
    "source_url": "https://github.com/CrazyDubya/claude-skills/tree/main/docker-optimizer",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "91e122d5cb5f029f55f8ef0d0271eb27a36814091d8749886a847b682f5d5156",
    "tree_hash": "f2290736df990d36ed7abead69cf5dff00ff7b3054a9387425e3f42a037b77b8"
  },
  "skill": {
    "name": "docker-optimizer",
    "description": "Reviews Dockerfiles for best practices, security issues, and image size optimizations including multi-stage builds and layer caching. Use when working with Docker, containers, or deployment.",
    "summary": "Reviews Dockerfiles for best practices, security issues, and image size optimizations including mult...",
    "icon": "üê≥",
    "version": "1.0.0",
    "author": "CrazyDubya",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "docker",
      "containers",
      "optimization",
      "security",
      "devops"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "external_commands",
      "filesystem",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a legitimate Docker optimization documentation skill. All 52 static findings are false positives caused by misidentification: Dockerfile instructions (FROM, ENV, ARG) were flagged as cryptographic algorithms, Markdown backticks were flagged as shell execution, and standard Docker best practices were flagged as security vulnerabilities. The skill only reads and analyzes Dockerfiles using Read, Grep, Glob, Write, Edit tools with no network access or code execution capability.",
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "skill-report.json",
            "line_start": 6,
            "line_end": 6
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 26,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 35
          },
          {
            "file": "SKILL.md",
            "line_start": 35,
            "line_end": 45
          },
          {
            "file": "SKILL.md",
            "line_start": 45,
            "line_end": 48
          },
          {
            "file": "SKILL.md",
            "line_start": 48,
            "line_end": 53
          },
          {
            "file": "SKILL.md",
            "line_start": 53,
            "line_end": 56
          },
          {
            "file": "SKILL.md",
            "line_start": 56,
            "line_end": 61
          },
          {
            "file": "SKILL.md",
            "line_start": 61,
            "line_end": 67
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 82
          },
          {
            "file": "SKILL.md",
            "line_start": 82,
            "line_end": 87
          },
          {
            "file": "SKILL.md",
            "line_start": 87,
            "line_end": 90
          },
          {
            "file": "SKILL.md",
            "line_start": 90,
            "line_end": 93
          },
          {
            "file": "SKILL.md",
            "line_start": 93,
            "line_end": 100
          },
          {
            "file": "SKILL.md",
            "line_start": 100,
            "line_end": 103
          },
          {
            "file": "SKILL.md",
            "line_start": 103,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 111
          },
          {
            "file": "SKILL.md",
            "line_start": 111,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 112
          },
          {
            "file": "SKILL.md",
            "line_start": 112,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 118
          },
          {
            "file": "SKILL.md",
            "line_start": 118,
            "line_end": 121
          },
          {
            "file": "SKILL.md",
            "line_start": 121,
            "line_end": 128
          },
          {
            "file": "SKILL.md",
            "line_start": 128,
            "line_end": 134
          },
          {
            "file": "SKILL.md",
            "line_start": 134,
            "line_end": 142
          },
          {
            "file": "SKILL.md",
            "line_start": 142,
            "line_end": 146
          },
          {
            "file": "SKILL.md",
            "line_start": 146,
            "line_end": 149
          },
          {
            "file": "SKILL.md",
            "line_start": 149,
            "line_end": 164
          },
          {
            "file": "SKILL.md",
            "line_start": 164,
            "line_end": 170
          },
          {
            "file": "SKILL.md",
            "line_start": 170,
            "line_end": 174
          },
          {
            "file": "SKILL.md",
            "line_start": 174,
            "line_end": 195
          },
          {
            "file": "SKILL.md",
            "line_start": 195,
            "line_end": 196
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 196,
            "line_end": 196
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 95,
            "line_end": 95
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 438,
    "audit_model": "claude",
    "audited_at": "2026-01-16T23:35:54.885Z"
  },
  "content": {
    "user_title": "Optimize Dockerfiles for Security and Performance",
    "value_statement": "Docker images are often bloated and insecure. This skill analyzes your Dockerfiles and provides optimized versions with multi-stage builds, security hardening, and size reduction techniques.",
    "seo_keywords": [
      "docker optimization",
      "dockerfile best practices",
      "container security",
      "multi-stage builds",
      "docker image size",
      "claude docker",
      "codex containers",
      "claude-code devops",
      "docker layer caching",
      "container optimization"
    ],
    "actual_capabilities": [
      "Analyzes Dockerfiles for security vulnerabilities and best practice violations",
      "Recommends specific base image versions and multi-stage build patterns",
      "Provides optimized .dockerignore templates to prevent sensitive data exposure",
      "Suggests layer caching strategies to speed up builds",
      "Generates production-ready Dockerfile examples with non-root users"
    ],
    "limitations": [
      "Only analyzes Dockerfile syntax and structure, not runtime behavior",
      "Requires manual implementation of recommended changes",
      "Cannot scan existing Docker images for vulnerabilities",
      "Limited to Node.js examples in provided templates"
    ],
    "use_cases": [
      {
        "target_user": "DevOps Engineers",
        "title": "Production Deployment Optimization",
        "description": "Reduce Docker image sizes by 80% and improve security posture for production deployments with hardened configurations."
      },
      {
        "target_user": "Developers",
        "title": "Development Workflow Enhancement",
        "description": "Speed up local development with optimized layer caching and multi-stage builds that separate build dependencies from runtime."
      },
      {
        "target_user": "Security Teams",
        "title": "Container Security Auditing",
        "description": "Identify security anti-patterns in Dockerfiles like running as root, exposing secrets, or using vulnerable base images."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Dockerfile Review",
        "scenario": "First-time Docker user needs guidance",
        "prompt": "Review this Dockerfile and tell me what is wrong. I am new to Docker and want to follow best practices."
      },
      {
        "title": "Image Size Optimization",
        "scenario": "Large image slowing down deployments",
        "prompt": "My Docker image is 2GB and takes forever to build. How can I make it smaller and faster?"
      },
      {
        "title": "Security Hardening",
        "scenario": "Production security requirements",
        "prompt": "I need to secure this Dockerfile for production use. Please check for security issues and provide a hardened version."
      },
      {
        "title": "Multi-Stage Build Conversion",
        "scenario": "Complex application with build dependencies",
        "prompt": "Convert this single-stage Dockerfile to use multi-stage builds to separate build dependencies from the runtime image."
      }
    ],
    "output_examples": [
      {
        "input": "Review my Node.js Dockerfile for best practices",
        "output": [
          "Found 3 optimization opportunities:",
          "Use specific base image version (node:18-alpine instead of node:latest)",
          "Add multi-stage build to reduce final image size by 70%",
          "Create non-root user for security (currently running as root)",
          "Move dependencies copy before source code for better caching",
          "Add .dockerignore to exclude 15 unnecessary files",
          "Include HEALTHCHECK instruction for container health monitoring"
        ]
      },
      {
        "input": "My Python Docker image is 900MB, how do I reduce it",
        "output": [
          "Recommended approach for Python image reduction:",
          "Switch from python:3.11 to python:3.11-alpine (900MB to 50MB)",
          "Use multi-stage build to separate build dependencies",
          "Install only production dependencies with pip --no-cache-dir",
          "Remove apt cache in same RUN layer to avoid extra layers",
          "Combine related RUN commands to minimize layers"
        ]
      }
    ],
    "best_practices": [
      "Always use specific base image tags instead of latest for reproducible builds",
      "Implement multi-stage builds to keep production images minimal and secure",
      "Create and use non-root users to limit container privileges"
    ],
    "anti_patterns": [
      "Never hardcode secrets or API keys directly in Dockerfiles using ENV instructions",
      "Avoid copying entire source directories when only specific files are needed",
      "Do not run package managers without cleaning caches in the same layer"
    ],
    "faq": [
      {
        "question": "Which base images should I use?",
        "answer": "Use Alpine variants for smaller sizes or distroless images for maximum security. Examples include node:18-alpine and python:3.11-alpine."
      },
      {
        "question": "How much can this reduce my image size?",
        "answer": "Typical reduction is 60-80% through multi-stage builds and Alpine base images. A 2GB Node.js image can become 200-400MB."
      },
      {
        "question": "Does this work with all programming languages?",
        "answer": "Yes, the optimization principles apply to all languages. Examples cover Node.js, Python, Go, Java, and Ruby Dockerfiles."
      },
      {
        "question": "Is my code safe when using this skill?",
        "answer": "Yes, this skill only reads and analyzes your Dockerfile. It does not execute code or make network calls."
      },
      {
        "question": "What if my build breaks after optimization?",
        "answer": "The skill provides gradual optimization steps. Test each change separately and keep your original Dockerfile as backup."
      },
      {
        "question": "How does this compare to Docker best practices documentation?",
        "answer": "This skill provides actionable recommendations based on your actual Dockerfile rather than generic guidelines."
      }
    ]
  },
  "file_structure": [
    {
      "name": "templates",
      "type": "dir",
      "path": "templates",
      "children": [
        {
          "name": "Dockerfile.optimized",
          "type": "file",
          "path": "templates/Dockerfile.optimized",
          "lines": 50
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 197
    }
  ]
}
