{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:20:41.323Z",
    "slug": "7nohe-figjam-plugin",
    "source_url": "https://github.com/7nohe/figram/tree/main/.claude/skills/figjam-plugin",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "1e4d9fe6669a11e614b85ac3a3e60146aec593158e86e93e4641b04c182f2ca0",
    "tree_hash": "2d022ac86bd3a7a04c2af42c50e9f2dae8425333094df37f96b28ba01a1243b2"
  },
  "skill": {
    "name": "figjam-plugin",
    "description": "FigJam plugin development workflow. Use when working on plugin code (code.ts, ui.ts), debugging WebSocket communication, or building the plugin.",
    "summary": "FigJam plugin development workflow. Use when working on plugin code (code.ts, ui.ts), debugging WebS...",
    "icon": "ðŸŽ¨",
    "version": "1.0.0",
    "author": "7nohe",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "figjam",
      "figma",
      "plugin-development",
      "webSocket",
      "aws"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill containing only markdown prompts. No executable code, scripts, network calls, file system access, or external command execution. Pure prompt-based skill providing development guidance.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 61,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:20:41.323Z"
  },
  "content": {
    "user_title": "Develop FigJam plugins with two-thread architecture",
    "value_statement": "FigJam plugin development requires understanding of Figma API constraints and WebSocket communication. This skill provides guidance on building, debugging, and deploying plugins that render AWS architecture diagrams in FigJam.",
    "seo_keywords": [
      "FigJam plugin development",
      "Figma plugin",
      "two-thread plugin architecture",
      "WebSocket communication",
      "AWS diagram tool",
      "Claude Code plugin",
      "Figma API",
      "plugin debugging",
      "code.ts",
      "ui.ts"
    ],
    "actual_capabilities": [
      "Guide two-thread plugin development (main thread and UI thread)",
      "Explain Figma API constraints for main thread code",
      "Debug WebSocket communication between CLI and plugin",
      "Build plugin with bun and import to Figma Desktop",
      "Handle JSON import validation and normalization",
      "Debug plugin using browser DevTools and Figma console"
    ],
    "limitations": [
      "Requires Figma Desktop app, not available in browser",
      "Main thread cannot use browser APIs (window, document, fetch)",
      "WebSocket server must be running separately via CLI",
      "Limited to Figma plugin API capabilities"
    ],
    "use_cases": [
      {
        "target_user": "AWS Solutions Architects",
        "title": "Create AWS architecture diagrams",
        "description": "Build YAML-driven AWS diagrams that sync live to FigJam for team collaboration"
      },
      {
        "target_user": "Plugin Developers",
        "title": "Set up FigJam plugin projects",
        "description": "Initialize and configure two-thread FigJam plugin with proper architecture"
      },
      {
        "target_user": "DevOps Engineers",
        "title": "Debug plugin communication",
        "description": "Diagnose WebSocket issues and connection problems between CLI and plugin UI"
      }
    ],
    "prompt_templates": [
      {
        "title": "Initialize plugin project",
        "scenario": "Starting new FigJam plugin",
        "prompt": "How do I set up a FigJam plugin with the two-thread architecture? Explain code.ts and ui.ts responsibilities."
      },
      {
        "title": "Debug WebSocket connection",
        "scenario": "Plugin not connecting to CLI",
        "prompt": "My FigJam plugin is not connecting to the WebSocket server. What steps do I take to debug the connection?"
      },
      {
        "title": "Build and import plugin",
        "scenario": "Preparing plugin for Figma",
        "prompt": "How do I build the FigJam plugin and import it into Figma Desktop? What is the manifest.json configuration?"
      },
      {
        "title": "Handle main thread errors",
        "scenario": "Debugging canvas rendering",
        "prompt": "How do I debug errors in code.ts (main thread) that affect canvas rendering? What tools do I use?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I set up a FigJam plugin with the two-thread architecture?",
        "output": [
          "â€¢ Main thread (code.ts): Handles Figma API and canvas rendering, NO browser APIs",
          "â€¢ UI thread (ui.ts): Manages WebSocket connection and browser APIs",
          "â€¢ Communication: WebSocket between CLI and UI, postMessage between UI and main",
          "â€¢ Build with 'bun run build' in packages/plugin directory",
          "â€¢ Import via Figma Desktop â†’ Plugins â†’ Development â†’ Import from manifest"
        ]
      }
    ],
    "best_practices": [
      "Keep main thread code minimal and focused on canvas rendering",
      "Validate and normalize data in UI thread before sending to main thread",
      "Use browser DevTools for UI errors and Figma console for main thread errors",
      "Run WebSocket server locally during development for live sync"
    ],
    "anti_patterns": [
      "Using browser APIs in code.ts (window, document, fetch) - will fail",
      "Skipping validation of JSON input before processing",
      "Ignoring WebSocket connection errors in the UI",
      "Building without testing in Figma Desktop environment"
    ],
    "faq": [
      {
        "question": "What is the difference between code.ts and ui.ts in FigJam plugins?",
        "answer": "code.ts runs on main thread with Figma API access only. ui.ts runs in iframe with browser APIs and WebSocket support."
      },
      {
        "question": "Can I use this plugin in Figma browser editor?",
        "answer": "No. FigJam plugins require Figma Desktop app. Browser editor does not support custom plugin development."
      },
      {
        "question": "How do I debug WebSocket connection issues?",
        "answer": "Open browser DevTools on plugin UI (right-click â†’ Inspect) to see connection status and error messages in console."
      },
      {
        "question": "Is my data safe when using this plugin?",
        "answer": "Yes. Plugin runs locally with WebSocket server on localhost. No data is sent to external servers."
      },
      {
        "question": "Why is my code.ts failing with undefined errors?",
        "answer": "Main thread cannot use browser APIs. Ensure no window, document, or fetch calls in code.ts. Use figma.* API only."
      },
      {
        "question": "How does this compare to other diagram tools?",
        "answer": "This tool uses YAML for architecture definitions and syncs live to FigJam. Unlike draw.io, it offers version-controlled diagrams."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
