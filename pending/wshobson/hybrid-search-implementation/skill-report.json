{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-02T00:31:42.251Z",
    "slug": "wshobson-hybrid-search-implementation",
    "source_url": "https://github.com/wshobson/agents/tree/main/plugins/llm-application-dev/skills/hybrid-search-implementation",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "hybrid-search-implementation",
    "description": "Combine vector and keyword search for improved retrieval. Use when implementing RAG systems, building search engines, or when neither approach alone provides sufficient recall.",
    "summary": "Combine vector and keyword search for improved retrieval. Use when implementing RAG systems, buildin...",
    "icon": "ðŸ”Ž",
    "version": "1.0.0",
    "license": "NOASSERTION",
    "category": "data",
    "tags": [
      "search",
      "rag",
      "retrieval",
      "ranking",
      "elasticsearch"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "No credential access, environment harvesting, or network exfiltration patterns found. Code examples focus on search logic and database queries only.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 568,
    "audit_model": "codex",
    "audited_at": "2026-01-02T00:31:42.250Z"
  },
  "content": {
    "user_title": "Build hybrid search for better recall",
    "value_statement": "Pure vector or keyword search can miss important results. This skill shows how to combine both methods with proven fusion patterns.",
    "seo_keywords": [
      "hybrid search",
      "vector search",
      "keyword search",
      "RRF",
      "RAG",
      "PostgreSQL pgvector",
      "Elasticsearch",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Explain hybrid search architecture and fusion options",
      "Provide Reciprocal Rank Fusion and linear fusion templates",
      "Show PostgreSQL pgvector plus full text hybrid queries",
      "Show Elasticsearch hybrid query and RRF configuration",
      "Outline a hybrid RAG pipeline with reranking"
    ],
    "limitations": [
      "Does not include turnkey deployment scripts",
      "Requires existing vector and keyword stores",
      "Reranking example needs external model access"
    ],
    "use_cases": [
      {
        "target_user": "RAG engineer",
        "title": "Improve retrieval recall",
        "description": "Combine semantic and keyword search to reduce misses on specific terms."
      },
      {
        "target_user": "Search developer",
        "title": "Add hybrid ranking",
        "description": "Integrate RRF or linear fusion into an existing search stack."
      },
      {
        "target_user": "Data platform team",
        "title": "Prototype hybrid search",
        "description": "Evaluate PostgreSQL or Elasticsearch hybrid retrieval quickly."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start with RRF",
        "scenario": "Beginner hybrid fusion",
        "prompt": "Explain Reciprocal Rank Fusion and give a small Python function that fuses two ranked lists."
      },
      {
        "title": "Postgres hybrid query",
        "scenario": "Intermediate database setup",
        "prompt": "Draft a pgvector plus full text hybrid query with RRF scoring and metadata filters."
      },
      {
        "title": "Elasticsearch hybrid",
        "scenario": "Intermediate search stack",
        "prompt": "Show a hybrid Elasticsearch query combining dense vector and BM25, with adjustable boosts."
      },
      {
        "title": "RAG pipeline design",
        "scenario": "Advanced end to end",
        "prompt": "Design a hybrid RAG pipeline with parallel searches, fusion, and optional cross encoder rerank."
      }
    ],
    "output_examples": [
      {
        "input": "Create a hybrid search plan for my product catalog",
        "output": [
          "Run vector and keyword searches in parallel",
          "Fuse results with RRF and tune weights",
          "Rerank top candidates with a cross encoder",
          "Log scores and evaluate recall on test queries"
        ]
      }
    ],
    "best_practices": [
      "Tune fusion weights on real query logs",
      "Use RRF when you need simple, stable fusion",
      "Rerank only a limited candidate window"
    ],
    "anti_patterns": [
      "Skipping keyword search for exact terms",
      "Over fetching large candidate sets",
      "Ignoring empty or single term query behavior"
    ],
    "faq": [
      {
        "question": "Is this compatible with Claude, Codex, and Claude Code?",
        "answer": "Yes. It is a guidance skill with Python examples that work across those platforms."
      },
      {
        "question": "What are the limits of the templates?",
        "answer": "They are reference implementations and need adaptation to your data schema and ranking needs."
      },
      {
        "question": "How do I integrate with my vector store?",
        "answer": "Replace the search calls in the pipeline with your store client and return the same fields."
      },
      {
        "question": "Does it access or send my data?",
        "answer": "No. The content is static and does not execute or transmit data."
      },
      {
        "question": "What if hybrid search returns empty results?",
        "answer": "Check tokenization, filters, and index health, then lower thresholds or expand candidate size."
      },
      {
        "question": "How does this compare to pure vector search?",
        "answer": "Hybrid search improves recall for exact terms while keeping semantic relevance."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}