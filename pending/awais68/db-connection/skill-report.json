{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T11:02:35.249Z",
    "slug": "awais68-db-connection",
    "source_url": "https://github.com/Awais68/hackathon-2-phase-ii-full-stack-web-app/tree/main/.claude/skills/db-connection",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "61d7060c20a20a334d9aea0cd0907892fa99d6aa857f4c96f13b3a63be1acc5e",
    "tree_hash": "52a160774f52272e2a6243d8072e51fe621ba8e493ddf7e08a37916458a8d866"
  },
  "skill": {
    "name": "db-connection",
    "description": "Use when setting up database connections, especially for Neon PostgreSQL.\nTriggers for: Neon Postgres connection, connection pooling configuration,\nconnection string management, SSL configuration, or SQLAlchemy engine setup.\nNOT for: CRUD operations (use @sqlmodel-crud) or migration scripts (use @db-migration).\n",
    "summary": "Use when setting up database connections, especially for Neon PostgreSQL.\nTriggers for: Neon Postgre...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "Awais68",
    "license": "MIT",
    "category": "data",
    "tags": [
      "postgresql",
      "database",
      "fastapi",
      "sqlalchemy",
      "neon"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem",
      "scripts"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is primarily documentation-based with a lightweight validation script. The verify.py script only reads and validates the skill's own SKILL.md file. No network calls, no external command execution, no sensitive data access patterns detected.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/verify.py",
            "line_start": 1,
            "line_end": 62
          }
        ]
      },
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/verify.py",
            "line_start": 1,
            "line_end": 62
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 612,
    "audit_model": "claude",
    "audited_at": "2026-01-10T11:02:35.249Z"
  },
  "content": {
    "user_title": "Set up database connections",
    "value_statement": "This skill provides expert guidance for configuring database connections in Python and FastAPI applications. It covers Neon PostgreSQL setup, connection pooling, SSL configuration, and SQLAlchemy engine creation with best practices for production deployments.",
    "seo_keywords": [
      "database connection",
      "PostgreSQL",
      "Neon",
      "SQLAlchemy",
      "FastAPI",
      "Python",
      "connection pooling",
      "SSL configuration",
      "Claude Code",
      "MCP"
    ],
    "actual_capabilities": [
      "Configure SQLAlchemy engine with connection pooling for PostgreSQL",
      "Set up Neon PostgreSQL connection strings with SSL",
      "Implement FastAPI database dependency injection",
      "Create database health check endpoints",
      "Configure Alembic migrations with existing database setup",
      "Monitor and tune connection pool settings"
    ],
    "limitations": [
      "Does not provide CRUD operation helpers (use @sqlmodel-crud skill)",
      "Does not generate migration scripts (use @db-migration skill)",
      "Does not include ORM model definitions",
      "Does not handle database schema design"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Connect FastAPI to Neon",
        "description": "Configure SQLAlchemy engine and session management for FastAPI applications with Neon PostgreSQL"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Tune connection pools",
        "description": "Optimize pool size, timeout, and recycle settings for serverless and production environments"
      },
      {
        "target_user": "Full-stack developers",
        "title": "Add health checks",
        "description": "Implement database health check endpoints for monitoring and deployment verification"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic connection setup",
        "scenario": "Setting up a new database connection",
        "prompt": "Set up a database connection for my FastAPI app using Neon PostgreSQL. I need SQLAlchemy engine configuration with connection pooling."
      },
      {
        "title": "Configure pooling",
        "scenario": "Tuning connection pool settings",
        "prompt": "Configure connection pool settings for my production FastAPI application. Current issues: slow responses under load, connection timeouts."
      },
      {
        "title": "Add health checks",
        "scenario": "Implementing database health monitoring",
        "prompt": "Add a database health check endpoint to my FastAPI app. It should return status, latency, and pool statistics."
      },
      {
        "title": "Serverless optimization",
        "scenario": "Optimizing for serverless deployment",
        "prompt": "Optimize database connection settings for Vercel serverless functions. I need to avoid connection limit errors."
      }
    ],
    "output_examples": [
      {
        "input": "Set up a database connection for my FastAPI app using Neon PostgreSQL",
        "output": [
          "Engine created successfully with pool_size=5",
          "Connection string validated with SSL mode: require",
          "Session factory configured for dependency injection",
          "Health check endpoint available at /health/db"
        ]
      }
    ],
    "best_practices": [
      "Use pool_pre_ping to verify connections before use and avoid stale connections",
      "Always close database sessions in finally blocks or use context managers",
      "Configure appropriate timeouts and pool recycling to prevent connection leaks"
    ],
    "anti_patterns": [
      "Creating new database connections for each request instead of using connection pooling",
      "Leaving connections open without proper cleanup, causing pool exhaustion",
      "Hardcoding connection URLs instead of using environment variables with SecretStr"
    ],
    "faq": [
      {
        "question": "Which Python versions are supported?",
        "answer": "This skill supports Python 3.8+ with SQLAlchemy 2.0 and Pydantic v2 for settings management."
      },
      {
        "question": "What database platforms are supported?",
        "answer": "Primary support for PostgreSQL (especially Neon). SQLAlchemy supports MySQL, SQLite, and other databases with similar patterns."
      },
      {
        "question": "How do I integrate with existing FastAPI apps?",
        "answer:": "Use the get_db() dependency in your route handlers. Import from app.db.session and add db: Session = Depends(get_db) to routes."
      },
      {
        "question": "Is my connection data secure?",
        "answer": "Connection strings use Pydantic SecretStr to prevent logging of sensitive credentials. SSL is enforced for Neon connections."
      },
      {
        "question": "Why am I getting connection timeout errors?",
        "answer": "Check pool_size and max_overflow settings. For serverless, use smaller pools (2-3) with no overflow. Increase pool_timeout if needed."
      },
      {
        "question": "How does this differ from @sqlmodel-crud?",
        "answer": "This skill handles connection infrastructure. @sqlmodel-crud provides ORM model operations. Use both together for complete database integration."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "verify.py",
          "type": "file",
          "path": "scripts/verify.py"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
