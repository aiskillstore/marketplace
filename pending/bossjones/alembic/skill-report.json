{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-11T03:04:36.430Z",
    "slug": "bossjones-alembic",
    "source_url": "https://github.com/bossjones/logging-lab/tree/main/.claude/skills/alembic",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "a29b8d3b2fed7b081b5a146fc4c699796254854721d38c40bba7d5683d4ea0f5",
    "tree_hash": "010d477245472ac68429f0a23807a18e9c2c485cf67355aeab68d49280a0dbff"
  },
  "skill": {
    "name": "alembic",
    "description": "Database migration management for SQLAlchemy projects using Alembic",
    "summary": "Database migration management for SQLAlchemy projects using Alembic",
    "icon": "üóÉÔ∏è",
    "version": "1.0.0",
    "author": "bossjones",
    "license": "MIT",
    "category": "data",
    "tags": [
      "database",
      "sqlalchemy",
      "migration",
      "postgres",
      "mysql"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is pure documentation (SKILL.md) for Alembic database migrations. All 41 static findings are FALSE POSITIVES. The analyzer misidentified bash documentation examples as executable shell commands, and database URL configurations as security risks. No malicious patterns, no credential exfiltration, no command injection vectors exist in this documentation-only skill.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 15,
            "line_end": 21
          },
          {
            "file": "SKILL.md",
            "line_start": 21,
            "line_end": 25
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 37
          },
          {
            "file": "SKILL.md",
            "line_start": 37,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 50
          },
          {
            "file": "SKILL.md",
            "line_start": 50,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 109
          },
          {
            "file": "SKILL.md",
            "line_start": 109,
            "line_end": 115
          },
          {
            "file": "SKILL.md",
            "line_start": 115,
            "line_end": 138
          },
          {
            "file": "SKILL.md",
            "line_start": 138,
            "line_end": 144
          },
          {
            "file": "SKILL.md",
            "line_start": 144,
            "line_end": 150
          },
          {
            "file": "SKILL.md",
            "line_start": 150,
            "line_end": 154
          },
          {
            "file": "SKILL.md",
            "line_start": 154,
            "line_end": 159
          },
          {
            "file": "SKILL.md",
            "line_start": 159,
            "line_end": 165
          },
          {
            "file": "SKILL.md",
            "line_start": 165,
            "line_end": 183
          },
          {
            "file": "SKILL.md",
            "line_start": 183,
            "line_end": 187
          },
          {
            "file": "SKILL.md",
            "line_start": 187,
            "line_end": 201
          },
          {
            "file": "SKILL.md",
            "line_start": 201,
            "line_end": 207
          },
          {
            "file": "SKILL.md",
            "line_start": 207,
            "line_end": 224
          },
          {
            "file": "SKILL.md",
            "line_start": 224,
            "line_end": 230
          },
          {
            "file": "SKILL.md",
            "line_start": 230,
            "line_end": 246
          },
          {
            "file": "SKILL.md",
            "line_start": 246,
            "line_end": 252
          },
          {
            "file": "SKILL.md",
            "line_start": 252,
            "line_end": 261
          },
          {
            "file": "SKILL.md",
            "line_start": 261,
            "line_end": 267
          },
          {
            "file": "SKILL.md",
            "line_start": 267,
            "line_end": 283
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 287
          },
          {
            "file": "SKILL.md",
            "line_start": 287,
            "line_end": 300
          },
          {
            "file": "SKILL.md",
            "line_start": 300,
            "line_end": 304
          },
          {
            "file": "SKILL.md",
            "line_start": 304,
            "line_end": 333
          },
          {
            "file": "SKILL.md",
            "line_start": 333,
            "line_end": 344
          },
          {
            "file": "SKILL.md",
            "line_start": 344,
            "line_end": 356
          },
          {
            "file": "SKILL.md",
            "line_start": 356,
            "line_end": 360
          },
          {
            "file": "SKILL.md",
            "line_start": 360,
            "line_end": 370
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 80,
            "line_end": 80
          },
          {
            "file": "SKILL.md",
            "line_start": 73,
            "line_end": 73
          },
          {
            "file": "SKILL.md",
            "line_start": 73,
            "line_end": 73
          },
          {
            "file": "SKILL.md",
            "line_start": 74,
            "line_end": 74
          },
          {
            "file": "SKILL.md",
            "line_start": 272,
            "line_end": 272
          },
          {
            "file": "SKILL.md",
            "line_start": 277,
            "line_end": 277
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 371,
    "audit_model": "claude",
    "audited_at": "2026-01-11T03:04:36.430Z"
  },
  "content": {
    "user_title": "Manage SQLAlchemy database migrations with Alembic",
    "value_statement": "Database schema changes require careful management to avoid downtime and data loss. This skill provides comprehensive Alembic migration patterns for SQLAlchemy projects including async support, batch migrations for SQLite, and programmatic migration control.",
    "seo_keywords": [
      "alembic",
      "database migration",
      "sqlalchemy",
      "postgres migration",
      "mysql migration",
      "sqlite migration",
      "schema management",
      "database version control",
      "claude code",
      "claude"
    ],
    "actual_capabilities": [
      "Generate and apply database migrations with autogenerate",
      "Configure async SQLAlchemy connections for migrations",
      "Handle SQLite migrations with batch mode",
      "Filter objects during autogenerate for selective migrations",
      "Create branch migrations for feature development",
      "Programmatically run and check migration status"
    ],
    "limitations": [
      "Does not handle complex schema migrations requiring custom SQL",
      "Requires existing SQLAlchemy models to autogenerate migrations",
      "Does not provide rollback automation for data consistency"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Schema evolution",
        "description": "Manage database schema changes across development, staging, and production environments"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Deployment automation",
        "description": "Programmatically apply migrations during application deployment pipelines"
      },
      {
        "target_user": "Data engineers",
        "title": "Multi-database projects",
        "description": "Handle migrations across PostgreSQL, MySQL, and SQLite with async patterns"
      }
    ],
    "prompt_templates": [
      {
        "title": "Generate migration",
        "scenario": "Need to create a new migration",
        "prompt": "Generate an Alembic migration to add a users table with id, email, name, and created_at columns"
      },
      {
        "title": "Apply migrations",
        "scenario": "Deploying to production",
        "prompt": "Write Python code to programmatically run all pending Alembic migrations in a FastAPI application"
      },
      {
        "title": "Configure async",
        "scenario": "Using async SQLAlchemy",
        "prompt": "Show me how to configure Alembic env.py for async SQLAlchemy 2.0 with PostgreSQL"
      },
      {
        "title": "Branch migrations",
        "scenario": "Feature branch development",
        "prompt": "Create a branch migration workflow for developing a new feature that requires schema changes"
      }
    ],
    "output_examples": [
      {
        "input": "Generate an Alembic migration to add a users table with email and name columns",
        "output": [
          "Migration generated: bb3c8f7_add_users_table.py",
          "Operations:",
          "  ‚úì create_table 'users'",
          "  ‚úì add_column 'id' (Integer, primary_key=True)",
          "  ‚úì add_column 'email' (String(255), nullable=False)",
          "  ‚úì add_column 'name' (String(255), nullable=True)",
          "  ‚úì add_column 'created_at' (DateTime, nullable=False)"
        ]
      }
    ],
    "best_practices": [
      "Always review autogenerated migrations before applying them to catch unintended changes",
      "Use meaningful migration messages that describe the business purpose of schema changes",
      "Test migrations on a copy of production data before deploying to production"
    ],
    "anti_patterns": [
      "Running migrations without checking what changes will be applied first",
      "Modifying existing migrations instead of creating new ones for changes",
      "Skipping the downgrade path when writing custom migration operations"
    ],
    "faq": [
      {
        "question": "What databases does Alembic support?",
        "answer": "Alembic supports PostgreSQL, MySQL, SQLite, Oracle, and any database with a SQLAlchemy driver."
      },
      {
        "question": "How do I create my first migration?",
        "answer": "Initialize Alembic with 'alembic init', configure env.py with your models, then run 'alembic revision --autogenerate'."
      },
      {
        "question": "Can I use Alembic with async SQLAlchemy?",
        "answer": "Yes, configure async_engine_from_config in env.py and use asyncio.run() for migrations."
      },
      {
        "question": "How do I revert a migration?",
        "answer": "Run 'alembic downgrade -1' to go back one revision, or 'alembic downgrade <revision_id>' to a specific point."
      },
      {
        "question": "What is batch mode in Alembic?",
        "answer": "Batch mode is required for SQLite because it cannot run DDL statements in transactions. Enable with render_as_batch=True."
      },
      {
        "question": "How do I check if migrations are applied?",
        "answer": "Run 'alembic current' to see the current revision, or 'alembic history' to see the full revision history."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
