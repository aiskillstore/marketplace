{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T11:46:49.658Z",
    "slug": "c0ntr0lledcha0s-building-agents",
    "source_url": "https://github.com/C0ntr0lledCha0s/claude-code-plugin-automations/tree/main/agent-builder/skills/building-agents",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "8fb547fbe6c624fac4be0cc2d4c35fedd7f401aa5d3dd33d0283afb6be1854e6",
    "tree_hash": "63297551d1a2488c9dd90e8966817c6924ca838de7e6c93a700dba5816a9b432"
  },
  "skill": {
    "name": "building-agents",
    "description": "Expert at creating and modifying Claude Code agents (subagents). Auto-invokes when the user wants to create, update, modify, enhance, validate, or standardize agents, or when modifying agent YAML frontmatter fields (especially 'model', 'tools', 'description'), needs help designing agent architecture, or wants to understand agent capabilities. Also auto-invokes proactively when Claude is about to write agent files (*/agents/*.md), create modular agent architectures, or implement tasks that involve creating agent components.",
    "summary": "Expert at creating and modifying Claude Code agents (subagents). Auto-invokes when the user wants to...",
    "icon": "ðŸ¤–",
    "version": "2.0.0",
    "author": "C0ntr0lledCha0s",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "agent-builder",
      "claude-code",
      "automation",
      "subagent",
      "code-generation"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill with a Python validation script. No network access, no credential handling, no file system overreach. The script only reads user-specified agent files for validation. All capabilities align with the stated purpose of agent creation and validation.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/validate-agent.py",
            "line_start": 1,
            "line_end": 188
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 5,
            "line_end": 5
          },
          {
            "file": "scripts/validate-agent.py",
            "line_start": 27,
            "line_end": 27
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 5,
            "line_end": 5
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Bash tool in allowed-tools",
        "description": "The skill declares Bash in allowed-tools (SKILL.md:5). This is appropriate for running validation scripts, but grants the skill capability to execute arbitrary shell commands. An attacker controlling this skill could execute commands. However, this is documented, expected behavior for an agent-builder skill, and the skill runs within Claude Code's sandbox.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 5,
            "line_end": 5
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 8,
    "total_lines": 3267,
    "audit_model": "claude",
    "audited_at": "2026-01-10T11:46:49.657Z"
  },
  "content": {
    "user_title": "Create Claude Code agents",
    "value_statement": "Building Claude Code agents requires understanding schema standards, security best practices, and proper tool configuration. This skill provides expert guidance for creating robust, secure agents following established patterns and includes validation to ensure quality before deployment.",
    "seo_keywords": [
      "claude-code agent builder",
      "create claude agents",
      "agent development",
      "subagent creation",
      "claude code automation",
      "agent schema",
      "claude agent templates",
      "agent validation"
    ],
    "actual_capabilities": [
      "Design agent architecture with proper YAML frontmatter and markdown body structure",
      "Apply naming conventions, tool permissions, and model selection best practices",
      "Create agents using comprehensive templates with examples and error handling",
      "Validate agents using the included Python validation script for schema compliance",
      "Migrate existing agents to current schema standards with update patterns"
    ],
    "limitations": [
      "Cannot invoke the Task tool from within agents (subagent architectural limitation)",
      "Does not generate agent code beyond providing templates and patterns",
      "Validation script only checks schema, not runtime behavior or output quality"
    ],
    "use_cases": [
      {
        "target_user": "Plugin Developers",
        "title": "Build plugin agents",
        "description": "Create specialized agents for your plugin following established patterns, colors, and schema conventions"
      },
      {
        "target_user": "Team Leads",
        "title": "Standardize agent quality",
        "description": "Ensure all team agents meet schema compliance, security standards, and documentation requirements"
      },
      {
        "target_user": "Power Users",
        "title": "Extend Claude capabilities",
        "description": "Create custom subagents for specific domains like code review, security analysis, or documentation"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create new agent",
        "scenario": "Need a specialized subagent",
        "prompt": "Create a new agent named code-reviewer with blue color theme. It should review code for bugs and security issues. Use Read, Grep, Glob tools and sonnet model."
      },
      {
        "title": "Review existing agent",
        "scenario": "Check agent quality",
        "prompt": "Review the security-auditor agent using the agent checklist. Check schema compliance, security, and content quality. Provide a score and recommendations."
      },
      {
        "title": "Migrate old agent",
        "scenario": "Update legacy agent",
        "prompt": "Migrate my-agent.md from old schema to current standards. Check validation status and apply update patterns for tool permissions and description clarity."
      },
      {
        "title": "Generate from template",
        "scenario": "Quick agent scaffold",
        "prompt": "Generate a new agent file using the agent template. Name it test-runner with red color. It should execute tests and report results. Include Bash tool for running test commands."
      }
    ],
    "output_examples": [
      {
        "input": "Create a new agent for code review",
        "output": [
          "Agent created: code-reviewer",
          "Color: #3498DB (Blue - analysis domain)",
          "Tools: Read, Grep, Glob (minimal, read-only)",
          "Model: sonnet (balanced performance)",
          "Next steps: Run validation with python3 scripts/validate-agent.py"
        ]
      }
    ],
    "best_practices": [
      "Start with minimal tool permissions and add only when necessary",
      "Use the validation script before committing agents to catch schema issues",
      "Follow domain color conventions for visual consistency across related agents"
    ],
    "anti_patterns": [
      "Including Task tool in agents (subagents cannot spawn other subagents)",
      "Over-permissioning tools like granting Bash without input validation",
      "Creating agents with vague descriptions that do not specify when to invoke"
    ],
    "faq": [
      {
        "question": "What tools should I grant to my agent?",
        "answer": "Start minimal with Read, Grep, Glob. Add Write/Edit only for file modification. Include Bash only for test execution or system operations. Always validate inputs when Bash is enabled."
      },
      {
        "question": "Can agents spawn other agents?",
        "answer": "No. Subagents cannot use the Task tool. For orchestration, create a skill instead (skills run in the main thread and can use Task)."
      },
      {
        "question": "How do I validate an agent?",
        "answer": "Run the validation script: python3 agent-builder/skills/building-agents/scripts/validate-agent.py path/to/agent.md. It checks YAML syntax, naming conventions, required fields, and tool permissions."
      },
      {
        "question": "Is my data safe with this skill?",
        "answer": "Yes. The skill only accesses files you specify. The validation script uses safe YAML parsing and does not make network requests or collect sensitive data."
      },
      {
        "question": "How is this different from skills or commands?",
        "answer": "Agents are specialized subagents with independent context, invoked explicitly via Task. Skills auto-invoke based on context. Commands are user-triggered workflows with parameters."
      },
      {
        "question": "What model should I choose?",
        "answer": "Use haiku for simple tasks (search, summaries), sonnet for most tasks (balanced), opus for complex reasoning. Match model complexity to the task requirements."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "agent-examples.md",
          "type": "file",
          "path": "references/agent-examples.md"
        },
        {
          "name": "agent-update-patterns.md",
          "type": "file",
          "path": "references/agent-update-patterns.md"
        },
        {
          "name": "color-palette.md",
          "type": "file",
          "path": "references/color-palette.md"
        },
        {
          "name": "migration-guide.md",
          "type": "file",
          "path": "references/migration-guide.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "validate-agent.py",
          "type": "file",
          "path": "scripts/validate-agent.py"
        }
      ]
    },
    {
      "name": "templates",
      "type": "dir",
      "path": "templates",
      "children": [
        {
          "name": "agent-checklist.md",
          "type": "file",
          "path": "templates/agent-checklist.md"
        },
        {
          "name": "agent-template.md",
          "type": "file",
          "path": "templates/agent-template.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
