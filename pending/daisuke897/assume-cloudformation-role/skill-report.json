{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T13:40:07.990Z",
    "slug": "daisuke897-assume-cloudformation-role",
    "source_url": "https://github.com/Daisuke897/dotfiles/tree/main/.github/skills/assume-cloudformation-role",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "1faeb738f363c216e095ee18c51b35333156b5df524563e88d586194538cc347",
    "tree_hash": "4c4fad5ab84d20d1abd68650b25b5753b5309914d9cafaa5f22e4e4eda7e7595"
  },
  "skill": {
    "name": "assume-cloudformation-role",
    "description": "Assume AWS IAM role for CloudFormation operations and set temporary credentials as environment variables. Use when working with CloudFormation stacks or when authentication setup is needed before AWS CloudFormation operations.",
    "summary": "Assume AWS IAM role for CloudFormation operations and set temporary credentials as environment varia...",
    "icon": "☁️",
    "version": "1.0.0",
    "author": "Daisuke897",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "aws",
      "cloudformation",
      "iam",
      "credentials"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network",
      "filesystem",
      "env_access",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Prompt-only documentation skill describing AWS STS assume-role operations. The behavior matches the stated purpose of obtaining temporary credentials for CloudFormation operations. Uses standard AWS CLI and jq commands with proper temporary file cleanup.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 29,
            "line_end": 44
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 33
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 35,
            "line_end": 43
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 38,
            "line_end": 40
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 29,
            "line_end": 44
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 80,
    "audit_model": "claude",
    "audited_at": "2026-01-10T13:40:07.989Z"
  },
  "content": {
    "user_title": "Assume AWS IAM role for CloudFormation",
    "value_statement": "Need temporary AWS credentials for CloudFormation operations. This skill guides you through assuming an IAM role using AWS STS and configuring environment variables for CLI access.",
    "seo_keywords": [
      "AWS CloudFormation",
      "IAM role",
      "AWS STS",
      "temporary credentials",
      "AWS CLI",
      "assume role",
      "Claude Code",
      "Claude",
      "Codex",
      "cloud automation"
    ],
    "actual_capabilities": [
      "Assume AWS IAM role using AWS STS",
      "Retrieve temporary access key, secret key, and session token",
      "Set credentials as environment variables",
      "Handle temporary file cleanup securely"
    ],
    "limitations": [
      "Requires AWS CLI and jq to be installed",
      "Uses hardcoded default profile and role ARN (customizable)",
      "Credentials expire after 1 hour by default",
      "Does not handle role assumption chaining"
    ],
    "use_cases": [
      {
        "target_user": "DevOps Engineers",
        "title": "Deploy CloudFormation stacks",
        "description": "Obtain credentials to create, update, or delete CloudFormation infrastructure stacks"
      },
      {
        "target_user": "Platform Engineers",
        "title": "Automate infrastructure",
        "description": "Set up temporary credentials for automated infrastructure management workflows"
      },
      {
        "target_user": "Cloud Architects",
        "title": "Test stack operations",
        "description": "Safely assume a write role to test CloudFormation templates before production deployment"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic role assumption",
        "scenario": "Get CloudFormation credentials",
        "prompt": "Use the assume-cloudformation-role skill to obtain credentials for CloudFormation operations."
      },
      {
        "title": "Custom role ARN",
        "scenario": "Use specific IAM role",
        "prompt": "Use the assume-cloudformation-role skill with role_arn set to my-custom-iam-role-arn and role_session_name set to my-session."
      },
      {
        "title": "Different profile",
        "scenario": "Use alternate AWS profile",
        "prompt": "Use the assume-cloudformation-role skill with profile set to my-aws-profile instead of the default."
      },
      {
        "title": "Full operation workflow",
        "scenario": "Full CloudFormation workflow",
        "prompt": "Assume the CloudFormation write role, then create a stack using my template.yaml file."
      }
    ],
    "output_examples": [
      {
        "input": "Assume the CloudFormation write role for my infrastructure deployment",
        "output": [
          "✓ Assumed IAM role: arn:aws:iam::692859919890:role/CloudFormationWriteRole",
          "✓ Set AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY, AWS_SESSION_TOKEN",
          "✓ Temporary credentials ready for CloudFormation operations",
          "⚠ Credentials expire after 1 hour - re-run when needed"
        ]
      }
    ],
    "best_practices": [
      "Re-run the skill when credentials expire to maintain session continuity",
      "Use separate AWS profiles for different roles to limit permission scope",
      "Verify the role ARN before assuming roles in production environments"
    ],
    "anti_patterns": [
      "Hardcoding credentials in scripts instead of using temporary role assumption",
      "Assuming roles with excessive permissions beyond CloudFormation operations",
      "Leaving temporary credential files in /tmp after processing"
    ],
    "faq": [
      {
        "question": "What AWS permissions are required to use this skill?",
        "answer": "You need sts:AssumeRole permission for the target role and the source profile must have permission to assume the role."
      },
      {
        "question": "How long are the temporary credentials valid?",
        "answer": "AWS session tokens expire after 1 hour by default. Re-run the skill to obtain new credentials."
      },
      {
        "question": "Can I use this with roles in a different AWS account?",
        "answer": "Yes, specify the cross-account role ARN and ensure the trust policy allows your source account to assume the role."
      },
      {
        "question": "Are my credentials stored or logged anywhere?",
        "answer": "Credentials are set as environment variables temporarily and the temp file is deleted after processing."
      },
      {
        "question": "What if the role assumption fails?",
        "answer": "Verify your AWS profile has sts:AssumeRole permission, the role exists, and the trust policy allows assumption."
      },
      {
        "question": "How is this different from using aws configure?",
        "answer": "Role assumption provides temporary, time-limited credentials without storing long-term secrets in credentials files."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
