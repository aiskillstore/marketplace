{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T08:09:17.785Z",
    "slug": "jimliu-baoyu-danger-x-to-markdown",
    "source_url": "https://github.com/jimliu/baoyu-skills/tree/main/skills/baoyu-danger-x-to-markdown/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "9f035905691c1f3caadb261cfbddae81d8ed386d31457b74b1552650539c6924",
    "tree_hash": "b48b78392da37044f5e9123ad04fdb8e287b3ca676884f56d01d017ff881a687"
  },
  "skill": {
    "name": "baoyu-danger-x-to-markdown",
    "description": "Convert X (Twitter) tweet or article URL to markdown. Uses reverse-engineered X API (private). Requires user consent before use.",
    "summary": "Convert X (Twitter) content to markdown format with full thread extraction and article parsing.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "jimliu",
    "license": "MIT",
    "tags": [
      "twitter",
      "x",
      "markdown",
      "content-conversion",
      "social-media"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "medium",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill is a legitimate X/Twitter content conversion utility. The heuristic flagged a 'dangerous combination' of code execution, network access, and credential handling. After evaluation, these patterns are FALSE POSITIVES - they represent standard browser automation for X authentication via Chrome DevTools Protocol. The skill uses child_process.spawn to launch Chrome, reads local browser cookies, and makes API calls to X - all required for its documented functionality. The reverse-engineered API usage is transparently disclosed with a consent flow requiring user acceptance before use.",
    "critical_findings": [],
    "high_findings": [
      {
        "title": "Child Process Spawn for Browser Automation",
        "description": "The skill spawns Chrome browser processes for authentication. This is required for X login via Chrome DevTools Protocol.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 204,
            "line_end": 204
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.92,
        "confidence_reasoning": "spawn() launches Chrome with hardcoded arguments for X login. No command injection vector exists as all args are hardcoded or derived from local paths."
      }
    ],
    "medium_findings": [
      {
        "title": "Local TCP Server Creation",
        "description": "Creates temporary TCP server for Chrome DevTools Protocol port allocation.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 121,
            "line_end": 121
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Port allocation uses localhost (127.0.0.1) only. Server closes immediately after port assignment. Standard pattern for browser automation."
      },
      {
        "title": "Hardcoded Localhost IP Address",
        "description": "Uses 127.0.0.1 for CDP connections.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 124,
            "line_end": 124
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.98,
        "confidence_reasoning": "Localhost binding ensures network isolation. CDP connections never leave the local machine."
      }
    ],
    "low_findings": [
      {
        "title": "Browser Cookie File Access",
        "description": "Reads cookies from Chrome profile directories for X authentication.",
        "locations": [
          {
            "file": "scripts/tweet-to-markdown.ts",
            "line_start": 5,
            "line_end": 5
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Cookie reading is required for X API authentication. No exfiltration detected - cookies stay local and are only used for X API calls."
      },
      {
        "title": "Environment Variable Access for Configuration",
        "description": "Reads X_CHROME_PATH and other env vars for configuration.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 137,
            "line_end": 137
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.98,
        "confidence_reasoning": "Environment variables used for configuration only. No secrets accessed - only Chrome path override."
      },
      {
        "title": "Hardcoded X.com URLs",
        "description": "Hardcoded URLs for X API endpoints.",
        "locations": [
          {
            "file": "scripts/constants.ts",
            "line_start": 7,
            "line_end": 7
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.98,
        "confidence_reasoning": "X.com URLs are the target service endpoints. Expected for a content conversion tool."
      },
      {
        "title": "System Path Detection for Chrome",
        "description": "Checks standard paths for Chrome executable.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 143,
            "line_end": 166
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Standard cross-platform Chrome detection. Paths are well-known system locations, not sensitive reconnaissance."
      }
    ],
    "dangerous_patterns": [
      {
        "title": "Code Execution + Network + Credential Access Pattern",
        "description": "The heuristic flagged a combination of child_process, network calls, and credential handling. This is standard browser automation behavior, not malicious activity.",
        "locations": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 1,
            "line_end": 204
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.88,
        "confidence_reasoning": "This pattern is the normal operation of a browser-based authentication tool. No data exfiltration, no malicious intent, no unauthorized access."
      }
    ],
    "files_scanned": 14,
    "total_lines": 3085,
    "audit_model": "claude",
    "audited_at": "2026-01-23T08:09:17.785Z",
    "risk_factors": [
      "network",
      "filesystem",
      "external_commands",
      "env_access"
    ],
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 23,
            "line_end": 23
          },
          {
            "file": "scripts/cookies.ts",
            "line_start": 181,
            "line_end": 181
          },
          {
            "file": "scripts/main.ts",
            "line_start": 45,
            "line_end": 48
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 138,
            "line_end": 138
          },
          {
            "file": "scripts/main.ts",
            "line_start": 184,
            "line_end": 185
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 204,
            "line_end": 204
          },
          {
            "file": "scripts/cookies.ts",
            "line_start": 1,
            "line_end": 1
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "scripts/cookies.ts",
            "line_start": 137,
            "line_end": 137
          }
        ]
      }
    ]
  },
  "content": {
    "user_title": "Convert X/Twitter URLs to Markdown",
    "value_statement": "Converting X (Twitter) content to markdown is time-consuming when done manually. This skill automates the extraction of tweets, threads, and articles into clean markdown with YAML front matter, preserving content structure and metadata.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "X to markdown",
      "Twitter to markdown",
      "tweet converter",
      "content extraction",
      "social media conversion"
    ],
    "actual_capabilities": [
      "Convert single tweets to markdown with YAML front matter",
      "Extract full thread conversations with all replies",
      "Parse X Articles into structured markdown format",
      "Authenticate via environment variables or Chrome browser login",
      "Output as JSON or markdown file with configurable paths"
    ],
    "limitations": [
      "Uses reverse-engineered X API - may break without notice if X changes",
      "Requires X authentication (auth_token and ct0 cookies)",
      "No official support or guarantees from X",
      "Account restrictions possible if API usage detected by X"
    ],
    "use_cases": [
      {
        "title": "Archive Important Tweets",
        "description": "Save tweets and threads from thought leaders, journalists, or public figures to offline markdown files for research and reference.",
        "target_user": "Researchers, journalists, content curators"
      },
      {
        "title": "Blog Content Preparation",
        "description": "Convert X Articles to markdown for republishing or quoting in blog posts with proper attribution metadata.",
        "target_user": "Bloggers, content marketers, writers"
      },
      {
        "title": "Knowledge Base Building",
        "description": "Systematically collect and organize Twitter threads on specific topics into a searchable markdown knowledge base.",
        "target_user": "Knowledge managers, educators, analysts"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Tweet Conversion",
        "prompt": "Convert this X URL to markdown: https://x.com/username/status/1234567890\n\nSave the output to ./output/tweet-1234567890.md",
        "scenario": "Converting a single tweet to markdown"
      },
      {
        "title": "Thread Extraction",
        "prompt": "Extract the full thread from this tweet URL. The URL is: https://x.com/tech_expert/status/9876543210\n\nOutput directory: ./threads/tech-insights/"
      },
      {
        "title": "Article to Markdown",
        "prompt": "Convert this X Article to markdown format:\nhttps://x.com/i/article/5555555555\n\nOutput path: ./articles/topic-name.md",
        "scenario": "Converting X Articles to markdown"
      },
      {
        "title": "JSON Output for Processing",
        "prompt": "Convert this tweet URL to JSON format for programmatic processing:\nhttps://x.com/developer/status/1112223333\n\nUse: npx -y bun skills/baoyu-danger-x-to-markdown/scripts/main.ts <url> --json"
      }
    ],
    "output_examples": [
      {
        "input": "https://x.com/elonmusk/status/1234567890",
        "output": [
          "---",
          "url: https://x.com/elonmusk/status/1234567890",
          "author: \"Elon Musk (@elonmusk)\"",
          "tweet_count: 5",
          "---",
          "",
          "Tweet content here...",
          "",
          "---",
          "Thread continuation with replies..."
        ]
      },
      {
        "input": "https://x.com/i/article/9999999999",
        "output": [
          "---",
          "url: https://x.com/i/article/9999999999",
          "author: \"Tech Article (@author)\"",
          "---",
          "",
          "# Article Title",
          "",
          "## Introduction",
          "",
          "Article content paragraphs...",
          "---"
        ]
      }
    ],
    "best_practices": [
      "Set X_AUTH_TOKEN and X_CT0 environment variables for automation without browser login",
      "Use --json flag when integrating with scripts for parseable output",
      "Accept the disclaimer when prompted - the tool uses reverse-engineered X API"
    ],
    "anti_patterns": [
      "Do not use for bulk scraping - this may trigger X rate limits or account restrictions",
      "Do not share authentication cookies - they grant access to your X account",
      "Do not assume indefinite functionality - reverse-engineered APIs can break without notice"
    ],
    "faq": [
      {
        "question": "How does authentication work?",
        "answer": "The skill authenticates via X cookies. Set X_AUTH_TOKEN and X_CT0 environment variables, or the tool will launch Chrome for interactive login on first run."
      },
      {
        "question": "What X content can be converted?",
        "answer": "Single tweets, threads (all replies in conversation), and X Articles are supported. Public and authenticated content works."
      },
      {
        "question": "Is this an official X API?",
        "answer": "No, this uses a reverse-engineered X API. X may change their API without notice, potentially breaking this tool."
      },
      {
        "question": "Where are cookies stored?",
        "answer": "Cookies are cached locally in the skill data directory (~/.local/share/baoyu-skills/x-to-markdown/ on Linux)."
      },
      {
        "question": "Can I use this programmatically?",
        "answer": "Yes, use --json flag for parseable output. The tool can be called from scripts with URL and output path arguments."
      },
      {
        "question": "What happens if X blocks the API?",
        "answer": "The tool may stop working without notice. The disclaimer explains this risk. Always archive important content locally."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "constants.ts",
          "type": "file",
          "path": "scripts/constants.ts",
          "lines": 144
        },
        {
          "name": "cookie-file.ts",
          "type": "file",
          "path": "scripts/cookie-file.ts",
          "lines": 86
        },
        {
          "name": "cookies.ts",
          "type": "file",
          "path": "scripts/cookies.ts",
          "lines": 424
        },
        {
          "name": "graphql.ts",
          "type": "file",
          "path": "scripts/graphql.ts",
          "lines": 390
        },
        {
          "name": "http.ts",
          "type": "file",
          "path": "scripts/http.ts",
          "lines": 118
        },
        {
          "name": "main.ts",
          "type": "file",
          "path": "scripts/main.ts",
          "lines": 420
        },
        {
          "name": "markdown.ts",
          "type": "file",
          "path": "scripts/markdown.ts",
          "lines": 307
        },
        {
          "name": "paths.ts",
          "type": "file",
          "path": "scripts/paths.ts",
          "lines": 42
        },
        {
          "name": "thread-markdown.ts",
          "type": "file",
          "path": "scripts/thread-markdown.ts",
          "lines": 296
        },
        {
          "name": "thread.ts",
          "type": "file",
          "path": "scripts/thread.ts",
          "lines": 312
        },
        {
          "name": "tweet-article.ts",
          "type": "file",
          "path": "scripts/tweet-article.ts",
          "lines": 97
        },
        {
          "name": "tweet-to-markdown.ts",
          "type": "file",
          "path": "scripts/tweet-to-markdown.ts",
          "lines": 191
        },
        {
          "name": "types.ts",
          "type": "file",
          "path": "scripts/types.ts",
          "lines": 80
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 178
    }
  ]
}
