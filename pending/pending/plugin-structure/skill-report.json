{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T08:34:46.265Z",
    "slug": "plugin-structure",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/plugin-structure",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "Plugin Structure",
    "description": "This skill should be used when the user asks to \"create a plugin\", \"scaffold a plugin\", \"understand plugin structure\", \"organize plugin components\", \"set up plugin.json\", \"use ${CLAUDE_PLUGIN_ROOT}\", \"add commands/agents/skills/hooks\", \"configure auto-discovery\", or needs guidance on plugin directory layout, manifest configuration, component organization, file naming conventions, or Claude Code plugin architecture best practices.",
    "summary": "This skill should be used when the user asks to \"create a plugin\", \"scaffold a plugin\", \"understand ...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "Anthropic",
    "license": "Not specified",
    "category": "development",
    "tags": [
      "plugin-development",
      "architecture",
      "claude-code",
      "project-structure",
      "configuration",
      "best-practices"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is an official Anthropic skill providing documentation and examples for plugin development. No executable code, security vulnerabilities, or malicious patterns detected.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 3146,
    "audit_model": "claude",
    "audited_at": "2025-12-30T08:34:46.264Z"
  },
  "content": {
    "user_title": "Claude Code Plugin Structure Guide",
    "value_statement": "Learn how to create well-organized, maintainable Claude Code plugins with proper directory structure, manifest configuration, and component organization following official best practices.",
    "seo_keywords": [
      "claude-code-plugin",
      "plugin-development",
      "plugin-architecture",
      "plugin-manifest",
      "component-organization",
      "plugin-json",
      "auto-discovery",
      "CLAUDE_PLUGIN_ROOT",
      "plugin-best-practices",
      "plugin-structure"
    ],
    "actual_capabilities": [
      "Explains complete plugin directory structure and organization patterns",
      "Provides detailed plugin.json manifest configuration reference",
      "Documents component types: commands, agents, skills, hooks, MCP servers",
      "Teaches portable path references using ${CLAUDE_PLUGIN_ROOT}",
      "Describes auto-discovery mechanisms for components",
      "Offers three complete plugin examples (minimal, standard, advanced)",
      "Covers file naming conventions and best practices",
      "Includes validation rules and troubleshooting guidance"
    ],
    "limitations": [
      "Documentation-only skill, does not scaffold or generate plugin code",
      "Focused on structure and organization, not implementation details",
      "Does not cover MCP server implementation specifics",
      "Does not include plugin publishing or marketplace distribution details"
    ],
    "use_cases": [
      {
        "title": "Creating Your First Plugin",
        "description": "Learn the minimal requirements to create a working Claude Code plugin with proper structure and manifest configuration.",
        "target_user": "Developers new to Claude Code plugin development"
      },
      {
        "title": "Organizing Complex Enterprise Plugins",
        "description": "Understand advanced organization patterns for large-scale plugins with multiple components, MCP integrations, and shared libraries.",
        "target_user": "Teams building enterprise-grade automation tools"
      },
      {
        "title": "Migrating Existing Tools to Plugins",
        "description": "Learn how to structure existing scripts and automation as Claude Code plugins with proper component organization.",
        "target_user": "Developers with existing automation wanting plugin integration"
      },
      {
        "title": "Understanding Plugin Auto-Discovery",
        "description": "Master how Claude Code discovers and loads commands, agents, skills, and hooks automatically from conventional directory structures.",
        "target_user": "Plugin developers optimizing component organization"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create Minimal Plugin Structure",
        "prompt": "Help me create a minimal plugin called 'hello-world' with a single command that prints a greeting",
        "scenario": "Quick prototype or learning plugin development basics"
      },
      {
        "title": "Organize Multi-Component Plugin",
        "prompt": "I need to organize a plugin with commands for testing, agents for code review, and skills for code standards. What directory structure should I use?",
        "scenario": "Building a comprehensive code quality plugin"
      },
      {
        "title": "Configure Plugin Manifest",
        "prompt": "What fields should I include in plugin.json for a production plugin that I want to distribute?",
        "scenario": "Preparing plugin for marketplace publication"
      },
      {
        "title": "Fix Path Resolution Issues",
        "prompt": "My hook scripts can't find files in my plugin directory. How do I use ${CLAUDE_PLUGIN_ROOT} correctly?",
        "scenario": "Troubleshooting portable path references"
      }
    ],
    "output_examples": [
      {
        "input": "Show me the minimal plugin.json structure",
        "output": "{\n  \"name\": \"plugin-name\"\n}\n\nThis is the absolute minimum required. The 'name' field must use kebab-case and be unique across installed plugins."
      },
      {
        "input": "What's the recommended directory structure for a skill?",
        "output": "skills/\nâ””â”€â”€ skill-name/\n    â”œâ”€â”€ SKILL.md         # Required: Core skill content\n    â”œâ”€â”€ references/      # Optional: Detailed documentation\n    â”‚   â””â”€â”€ guide.md\n    â”œâ”€â”€ examples/        # Optional: Code samples\n    â”‚   â””â”€â”€ example.js\n    â””â”€â”€ scripts/         # Optional: Helper scripts\n        â””â”€â”€ tool.sh"
      }
    ],
    "best_practices": [
      "Use kebab-case naming for all directories, files, and plugin names",
      "Always use ${CLAUDE_PLUGIN_ROOT} for intra-plugin path references",
      "Rely on auto-discovery by using conventional directory names (commands/, agents/, skills/)",
      "Keep plugin.json minimal - only specify custom paths when necessary",
      "Follow semantic versioning (MAJOR.MINOR.PATCH) for plugin versions",
      "Include comprehensive metadata (description, author, license, keywords) for distributed plugins",
      "Organize related components together logically",
      "Test plugins on multiple systems to verify portability",
      "Document plugin structure and component organization in README",
      "Use relative paths starting with './' in manifest configuration"
    ],
    "anti_patterns": [
      "Hardcoding absolute paths instead of using ${CLAUDE_PLUGIN_ROOT}",
      "Placing component directories inside .claude-plugin/ directory",
      "Using spaces or special characters in plugin names",
      "Creating deeply nested directory structures that complicate discovery",
      "Mixing component types in the same directory",
      "Using absolute paths or parent directory navigation (../) in manifest",
      "Omitting version numbers and metadata for production plugins",
      "Inconsistent naming conventions across components",
      "Creating plugin.json outside the .claude-plugin/ directory"
    ],
    "faq": [
      {
        "question": "Where must the plugin.json manifest be located?",
        "answer": "The manifest MUST be at .claude-plugin/plugin.json in your plugin root directory. Claude Code will not recognize plugins without this file in the correct location."
      },
      {
        "question": "What's the difference between default directories and custom paths in plugin.json?",
        "answer": "Default directories (commands/, agents/, skills/) are automatically scanned. Custom paths specified in plugin.json supplement (not replace) these defaults. Components from both locations will load."
      },
      {
        "question": "When should I use ${CLAUDE_PLUGIN_ROOT}?",
        "answer": "Use ${CLAUDE_PLUGIN_ROOT} for all references to files within your plugin: hook commands, MCP server paths, script execution, and resource files. This ensures portability across different installation locations and operating systems."
      },
      {
        "question": "How does auto-discovery work for skills?",
        "answer": "Claude Code scans the skills/ directory for subdirectories containing a SKILL.md file. Each subdirectory with SKILL.md becomes a skill. The file must be named exactly 'SKILL.md' (not README.md or other variations)."
      },
      {
        "question": "What's the minimal plugin.json needed?",
        "answer": "Only the 'name' field is required: {\"name\": \"plugin-name\"}. However, production plugins should include version, description, author, license, and keywords for better discoverability."
      },
      {
        "question": "Can I organize commands in subdirectories?",
        "answer": "Yes, but you need to explicitly list each subdirectory in the 'commands' array in plugin.json. Claude Code doesn't recursively scan nested directories by default."
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Claude Code installation",
        "Understanding of JSON format for configuration files",
        "Familiarity with markdown for component definitions",
        "Basic shell scripting knowledge for hooks and scripts"
      ],
      "permissions": [
        "File system read access for plugin directory",
        "File system write access to create plugin structure"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "advanced-plugin.md",
          "type": "file",
          "path": "examples/advanced-plugin.md"
        },
        {
          "name": "minimal-plugin.md",
          "type": "file",
          "path": "examples/minimal-plugin.md"
        },
        {
          "name": "standard-plugin.md",
          "type": "file",
          "path": "examples/standard-plugin.md"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "component-patterns.md",
          "type": "file",
          "path": "references/component-patterns.md"
        },
        {
          "name": "manifest-reference.md",
          "type": "file",
          "path": "references/manifest-reference.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}