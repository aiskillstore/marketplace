{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T08:28:38.901Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "migration",
      "api",
      "claude",
      "opus",
      "prompt-engineering",
      "model-upgrade",
      "automation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill with no executable code. Contains only documentation and migration guidelines for Claude API model strings and prompt adjustments. No security concerns identified.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T08:28:38.900Z"
  },
  "content": {
    "user_title": "Migrate to Claude Opus 4.5",
    "value_statement": "Automatically update your codebase from older Claude models to Opus 4.5, handling model string replacements, beta header updates, and prompt optimizations for improved performance.",
    "seo_keywords": [
      "claude opus 4.5",
      "api migration",
      "model upgrade",
      "prompt optimization",
      "anthropic api",
      "claude migration tool",
      "opus 4.5 migration",
      "claude api update"
    ],
    "actual_capabilities": [
      "Search codebase for Claude model strings across multiple platforms (Anthropic API, AWS Bedrock, Google Vertex AI, Azure AI Foundry)",
      "Replace Sonnet 4.0, Sonnet 4.5, and Opus 4.1 model strings with Opus 4.5 equivalents",
      "Add effort parameter configuration set to 'high' for optimal performance",
      "Remove unsupported beta headers (context-1m-2025-08-07)",
      "Apply conditional prompt adjustments for tool overtriggering issues",
      "Add over-engineering prevention guidelines when needed",
      "Insert code exploration best practices when requested",
      "Enhance frontend design quality with aesthetic guidelines",
      "Fix thinking sensitivity issues by replacing 'think' variants"
    ],
    "limitations": [
      "Does not migrate Haiku models",
      "Only migrates from Sonnet 4.0, Sonnet 4.5, and Opus 4.1",
      "Prompt adjustments only applied when user explicitly requests or reports specific issues",
      "1M context beta header not yet supported with Opus 4.5",
      "Requires manual testing after migration to verify behavior",
      "Cannot automatically detect which prompt adjustments are needed without user feedback"
    ],
    "use_cases": [
      {
        "title": "Upgrading Production API Integration",
        "description": "A team running Claude Sonnet 4.5 in production wants to upgrade to Opus 4.5 across their Python backend. The skill searches for all model strings, updates them to the Opus 4.5 format, adds the effort parameter, and removes unsupported beta headers.",
        "target_user": "Backend developers and DevOps engineers managing Claude API integrations"
      },
      {
        "title": "Multi-Platform Codebase Migration",
        "description": "An enterprise using Claude across AWS Bedrock, Google Vertex AI, and Anthropic API needs to migrate all instances. The skill identifies platform-specific model strings and applies correct replacements for each platform.",
        "target_user": "Platform engineers working with multi-cloud AI deployments"
      },
      {
        "title": "Fixing Tool Overtriggering Issues",
        "description": "After migrating to Opus 4.5, a user notices their agent is calling tools too frequently. The skill softens aggressive prompt language (CRITICAL, MUST, ALWAYS) that worked with previous models but causes overtriggering with Opus 4.5.",
        "target_user": "AI application developers experiencing behavioral issues post-migration"
      },
      {
        "title": "Optimizing Prompt Engineering",
        "description": "A prompt engineer wants to prevent Opus 4.5 from over-engineering solutions or creating unnecessary files. The skill adds specific guidelines to keep implementations focused and simple.",
        "target_user": "Prompt engineers and AI product managers refining agent behavior"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Claude Sonnet 4.5 to Opus 4.5",
        "scenario": "Standard upgrade with model string replacement and effort parameter addition"
      },
      {
        "title": "Platform-Specific Migration",
        "prompt": "Update all AWS Bedrock Claude model strings to Opus 4.5",
        "scenario": "When working with a specific cloud platform"
      },
      {
        "title": "Migration with Tool Fixes",
        "prompt": "Migrate to Opus 4.5 and fix tool overtriggering - my agent is calling search way too often",
        "scenario": "When experiencing behavioral issues after initial migration"
      },
      {
        "title": "Frontend Project Migration",
        "prompt": "Migrate to Opus 4.5 and improve frontend design quality in my prompts",
        "scenario": "For projects generating user interfaces that need better aesthetic guidance"
      },
      {
        "title": "Complete Optimization",
        "prompt": "Migrate to Opus 4.5 and add all recommended prompt adjustments for code quality",
        "scenario": "When wanting comprehensive migration with all optional improvements"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python API client to Opus 4.5",
        "output": "Updated 3 model strings from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101'. Added effort parameter set to 'high' in all API calls. Added beta flag 'effort-2025-11-24'. Removed unsupported 'context-1m-2025-08-07' beta header with explanatory comment. If you encounter any issues with Opus 4.5, let me know and I can help adjust your prompts."
      },
      {
        "input": "My agent is creating too many helper files after upgrading to Opus 4.5",
        "output": "Added over-engineering prevention guidelines to your system prompt within <coding_guidelines> tags. The prompt now instructs Claude to avoid creating unnecessary abstractions, extra files, or unrequested features. It emphasizes keeping solutions simple and focused on the specific task requested."
      }
    ],
    "best_practices": [
      "Run migration on a separate branch for testing before production deployment",
      "Test agent behavior after migration to identify which prompt adjustments are needed",
      "Start with basic model string migration, only add prompt adjustments if issues arise",
      "Review the effort parameter settings (high/medium/low) based on your use case",
      "Integrate prompt snippets thoughtfully using XML tags matching your existing prompt structure",
      "Document which behavioral adjustments were needed for future reference",
      "Test across all environments (dev, staging, prod) before full rollout"
    ],
    "anti_patterns": [
      "Applying all prompt adjustments preemptively without testing for actual issues",
      "Migrating Haiku models (not supported by this skill)",
      "Removing emphasis from non-tool-related instructions when fixing overtriggering",
      "Appending prompt snippets without integrating them into existing prompt structure",
      "Skipping the effort parameter configuration",
      "Forgetting to remove unsupported beta headers"
    ],
    "faq": [
      {
        "question": "Does this migrate Haiku models?",
        "answer": "No, this skill only migrates Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5. Haiku models are not supported."
      },
      {
        "question": "Will the migration automatically apply all prompt adjustments?",
        "answer": "No, by default only model strings and effort parameters are updated. Prompt adjustments are only applied if you explicitly request them or report specific behavioral issues like tool overtriggering or over-engineering."
      },
      {
        "question": "What is the effort parameter and should I use it?",
        "answer": "The effort parameter controls how many tokens Claude uses for reasoning. Setting it to 'high' (recommended) provides best performance with deeper reasoning. Use 'medium' for cost/latency balance or 'low' for simple high-volume queries."
      },
      {
        "question": "Which platforms are supported?",
        "answer": "The skill supports Anthropic API (1P), AWS Bedrock, Google Vertex AI, and Azure AI Foundry, with platform-specific model string formats for each."
      },
      {
        "question": "What happens to the 1M context beta header?",
        "answer": "The 'context-1m-2025-08-07' beta header is removed during migration as it's not yet supported with Opus 4.5. A comment is added noting this limitation."
      },
      {
        "question": "How do I know which prompt adjustments I need?",
        "answer": "Test your application after the basic migration. If you notice tools being called too frequently, add tool overtriggering fixes. If unnecessary files are created, add over-engineering prevention. Each adjustment addresses a specific observed behavior."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [
        "Read access to codebase files",
        "Write access to modify code files",
        "Ability to search across multiple files"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}