{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:22:22.020Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "migration",
      "api",
      "claude",
      "opus",
      "upgrade",
      "automation",
      "prompts"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill providing documentation and guidance for migrating to Claude Opus 4.5. Contains only reference documentation with no executable code or system commands.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:22:22.020Z"
  },
  "content": {
    "user_title": "Opus 4.5 Migration Assistant",
    "value_statement": "Automatically migrate your Claude API integration from Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5 with model string updates, effort parameter configuration, and prompt optimization guidance.",
    "seo_keywords": [
      "claude opus 4.5",
      "api migration",
      "model upgrade",
      "anthropic claude",
      "prompt engineering",
      "claude api",
      "model migration tool",
      "effort parameter",
      "bedrock migration",
      "vertex ai claude"
    ],
    "actual_capabilities": [
      "Updates model strings across multiple platforms (Anthropic API, AWS Bedrock, Google Vertex AI, Azure AI Foundry)",
      "Adds effort parameter configuration set to 'high' for optimal performance",
      "Identifies and removes unsupported beta headers (context-1m-2025-08-07)",
      "Provides targeted prompt adjustments for tool overtriggering issues",
      "Offers fixes for over-engineering tendencies in Opus 4.5",
      "Addresses code exploration and thinking sensitivity behavioral differences",
      "Includes frontend design quality improvement guidance",
      "Searches codebase for existing Claude API calls and prompts"
    ],
    "limitations": [
      "Does not migrate Haiku 4.5 models",
      "Prompt adjustments are only applied when user explicitly requests or reports specific issues",
      "Cannot automatically detect which behavioral adjustments are needed without user feedback",
      "Requires manual testing after migration to verify behavior",
      "1M context beta header not yet supported with Opus 4.5"
    ],
    "use_cases": [
      {
        "title": "Codebase-Wide API Migration",
        "description": "Update all Claude API calls in a project from Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5, including model strings, effort parameters, and beta header cleanup",
        "target_user": "Developers maintaining applications with Claude API integrations"
      },
      {
        "title": "Multi-Platform Migration",
        "description": "Migrate Claude API calls across different cloud platforms (AWS Bedrock, Google Vertex AI, Azure) with platform-specific model string updates",
        "target_user": "DevOps engineers working with multi-cloud Claude deployments"
      },
      {
        "title": "Prompt Optimization for Opus 4.5",
        "description": "Adjust existing prompts to address Opus 4.5 behavioral differences like tool overtriggering, over-engineering, or thinking sensitivity",
        "target_user": "Prompt engineers experiencing issues after upgrading to Opus 4.5"
      },
      {
        "title": "Performance Optimization",
        "description": "Configure effort parameter settings (high/medium/low) for optimal balance between performance and cost",
        "target_user": "Product teams optimizing Claude API usage for cost and latency"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Claude Sonnet 4.5 to Opus 4.5",
        "scenario": "Simple model string update with effort parameter addition"
      },
      {
        "title": "Platform-Specific Migration",
        "prompt": "Update my AWS Bedrock Claude integration from Opus 4.1 to Opus 4.5",
        "scenario": "Bedrock-specific model string migration with platform awareness"
      },
      {
        "title": "Migration with Tool Overtriggering Fix",
        "prompt": "Migrate to Opus 4.5 and fix tool overtriggering - my tools are being called too frequently",
        "scenario": "Migration plus prompt adjustment to soften aggressive tool-triggering language"
      },
      {
        "title": "Migration with Over-Engineering Prevention",
        "prompt": "Migrate to Opus 4.5 and prevent over-engineering - the model is creating unnecessary abstractions",
        "scenario": "Migration plus adding over-engineering prevention snippet to system prompts"
      },
      {
        "title": "Frontend Project Migration",
        "prompt": "Migrate my frontend app to Opus 4.5 and improve design quality",
        "scenario": "Migration plus frontend aesthetics guidance for better design outputs"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python code from Sonnet 4.5 to Opus 4.5",
        "output": "Updated model string from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101', added effort parameter set to 'high' with beta flag 'effort-2025-11-24', and summarized all changes. Informed user to report any issues for prompt adjustments."
      },
      {
        "input": "My tools are being called too often after upgrading to Opus 4.5",
        "output": "Identified tool overtriggering issue. Softened aggressive prompt language: changed 'CRITICAL: You MUST use this tool' to 'Use this tool when...', removed 'ALWAYS' and 'REQUIRED' modifiers, and integrated changes within existing prompt structure using appropriate XML tags."
      }
    ],
    "best_practices": [
      "Only apply prompt adjustments when user explicitly reports specific issues - don't preemptively add all snippets",
      "Integrate prompt snippets thoughtfully using XML tags that match existing prompt structure",
      "Set effort parameter to 'high' by default for best Opus 4.5 performance",
      "Remove unsupported beta headers (context-1m-2025-08-07) and leave explanatory comments",
      "Match the style and verbosity of existing prompts when adding snippets",
      "Place new prompt content in logical locations near related instructions",
      "Verify platform (Anthropic API, Bedrock, Vertex AI, Azure) before updating model strings",
      "Test migrated code to verify behavioral improvements before considering migration complete"
    ],
    "anti_patterns": [
      "Applying all prompt adjustment snippets by default without user-reported issues",
      "Simply appending snippets to end of prompts without integration",
      "Migrating Haiku models (not supported by this skill)",
      "Removing all emphasis from prompts indiscriminately (only soften tool-triggering instructions)",
      "Ignoring existing prompt structure and XML tag conventions",
      "Setting effort to 'low' or 'medium' without understanding the use case",
      "Forgetting to add the effort-2025-11-24 beta flag when configuring effort parameter"
    ],
    "faq": [
      {
        "question": "What models can I migrate to Opus 4.5?",
        "answer": "You can migrate from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1. Haiku models are not supported for migration to Opus 4.5."
      },
      {
        "question": "Will prompt adjustments be applied automatically?",
        "answer": "No. By default, only model strings and effort parameters are updated. Prompt adjustments are only applied if you explicitly request them or report specific issues like tool overtriggering or over-engineering."
      },
      {
        "question": "What is the effort parameter and should I use it?",
        "answer": "The effort parameter controls how eagerly Claude spends tokens. Set to 'high' (default recommendation) for best performance, 'medium' for balanced cost/latency, or 'low' for simple high-volume queries. It requires the effort-2025-11-24 beta flag."
      },
      {
        "question": "What platforms are supported?",
        "answer": "Anthropic API (1P), AWS Bedrock, Google Vertex AI, and Azure AI Foundry. Each platform has specific model string formats."
      },
      {
        "question": "Why was the 1M context beta header removed?",
        "answer": "The context-1m-2025-08-07 beta header is not yet supported with Opus 4.5. It will be removed during migration with an explanatory comment."
      },
      {
        "question": "How do I fix tool overtriggering issues?",
        "answer": "Ask the skill to address tool overtriggering. It will soften aggressive language in your prompts (e.g., changing 'CRITICAL: You MUST' to 'Use this tool when') while preserving other emphasis."
      },
      {
        "question": "What if Opus 4.5 creates too many unnecessary files or abstractions?",
        "answer": "Report over-engineering issues, and the skill will add guidelines to your system prompt that encourage minimal, focused changes without unnecessary abstractions or unrequested features."
      },
      {
        "question": "How is effort different from thinking budget?",
        "answer": "Effort controls overall token spending across all outputs (text, thinking, function calls), while thinking budget caps only extended thinking tokens. They are independent settings - you can have high effort with no thinking, or high effort with a 32k thinking budget."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}