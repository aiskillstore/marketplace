{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:50:40.722Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "migration",
      "api",
      "claude",
      "opus",
      "upgrade",
      "automation",
      "model-update"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill containing only documentation and migration guidance. No executable code, file system operations, or network requests - purely informational content for guiding model upgrades.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:50:40.721Z"
  },
  "content": {
    "user_title": "Opus 4.5 Migration Assistant",
    "value_statement": "Automatically upgrade your Claude API integration from Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5, handling model string updates, effort parameters, and prompt optimizations for behavioral changes.",
    "seo_keywords": [
      "claude opus 4.5",
      "api migration",
      "model upgrade",
      "anthropic api",
      "prompt optimization",
      "claude migration tool",
      "sonnet to opus",
      "claude model update"
    ],
    "actual_capabilities": [
      "Search codebase for Claude model references across multiple platforms (Anthropic API, AWS Bedrock, Google Vertex AI, Azure AI Foundry)",
      "Update model strings from Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5",
      "Add effort parameter configuration set to 'high' for optimal performance",
      "Remove unsupported beta headers (context-1m-2025-08-07)",
      "Provide conditional prompt adjustments for known Opus 4.5 behavioral changes",
      "Offer fixes for tool overtriggering, over-engineering, code exploration issues, frontend design quality, and thinking sensitivity",
      "Generate comprehensive migration summary"
    ],
    "limitations": [
      "Does not migrate Haiku models - only Sonnet 4.0/4.5 and Opus 4.1",
      "Prompt adjustments are conditional and only applied when user reports specific issues",
      "Does not automatically test migrated code",
      "Requires manual review of changes before deployment",
      "Cannot migrate custom model configurations or fine-tuned models"
    ],
    "use_cases": [
      {
        "title": "Full Codebase Migration",
        "description": "Migrate an entire application codebase from Sonnet 4.5 to Opus 4.5, updating all model references, API calls, and configurations across multiple files.",
        "target_user": "Backend developers and DevOps engineers maintaining Claude-powered applications"
      },
      {
        "title": "Multi-Platform API Update",
        "description": "Update Claude integrations across different cloud platforms (AWS Bedrock, Google Vertex AI, Azure) with platform-specific model strings.",
        "target_user": "Cloud architects managing multi-cloud AI deployments"
      },
      {
        "title": "Prompt Optimization for Opus 4.5",
        "description": "Address specific behavioral issues like tool overtriggering or over-engineering by applying targeted prompt adjustments.",
        "target_user": "AI engineers and prompt engineers experiencing model behavior changes"
      },
      {
        "title": "Effort Parameter Configuration",
        "description": "Add and configure the effort parameter to optimize token usage and performance for different use cases (high for deep reasoning, medium for balance, low for simple queries).",
        "target_user": "Technical leads optimizing cost and performance"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Sonnet 4.5 to Opus 4.5",
        "scenario": "Simple model string update across the entire codebase"
      },
      {
        "title": "Platform-Specific Migration",
        "prompt": "Update my AWS Bedrock integration to use Opus 4.5",
        "scenario": "Migrating code that uses a specific cloud platform"
      },
      {
        "title": "Migration with Issue Resolution",
        "prompt": "Migrate to Opus 4.5 and fix tool overtriggering issues",
        "scenario": "Migration with specific behavioral adjustment"
      },
      {
        "title": "Frontend-Focused Migration",
        "prompt": "Upgrade to Opus 4.5 and improve frontend design quality in my prompts",
        "scenario": "Migration with frontend aesthetics prompt enhancement"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python SDK code from Sonnet 4.5 to Opus 4.5",
        "output": "Updates model strings from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101', adds effort parameter configuration with 'high' setting, removes unsupported beta headers, and provides summary of all changes made"
      },
      {
        "input": "I'm getting too many unnecessary tool calls after upgrading to Opus 4.5",
        "output": "Applies tool overtriggering fix by softening aggressive language in prompts (MUST â†’ should, ALWAYS â†’ normal phrasing, CRITICAL â†’ removed), integrated thoughtfully into existing prompt structure"
      }
    ],
    "best_practices": [
      "Only apply prompt adjustments when user reports specific issues - default migration just updates model strings",
      "Integrate prompt snippets thoughtfully using XML tags that match existing prompt structure",
      "Always set effort parameter to 'high' for best performance with Opus 4.5",
      "Review generated migration summary before deploying changes",
      "Test migrated code in a staging environment before production deployment",
      "Keep the 1M context beta header removal comment for future reference",
      "Match the style and verbosity of existing prompts when adding snippets"
    ],
    "anti_patterns": [
      "Don't migrate Haiku models - this skill only handles Sonnet and Opus migrations",
      "Don't blindly apply all prompt adjustments - only use them when issues are reported",
      "Don't append snippets to prompts - integrate them logically into existing structure",
      "Don't remove functional prompt content when adding new snippets",
      "Don't forget to add the effort parameter - it's critical for Opus 4.5 performance",
      "Don't use effort parameter without including the required beta flag 'effort-2025-11-24'"
    ],
    "faq": [
      {
        "question": "What models can this skill migrate from?",
        "answer": "This skill migrates from Claude Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5. It does NOT support Haiku model migrations."
      },
      {
        "question": "Will this skill automatically fix all Opus 4.5 behavioral issues?",
        "answer": "No - by default, the skill only updates model strings and adds the effort parameter. Prompt adjustments for behavioral issues (tool overtriggering, over-engineering, etc.) are only applied when you explicitly request them or report specific problems."
      },
      {
        "question": "What is the effort parameter and why is it set to 'high'?",
        "answer": "The effort parameter controls how eagerly Claude spends tokens. 'high' is the default for Opus 4.5 and provides best performance with deep reasoning. You can use 'medium' for cost/latency balance or 'low' for simple queries. It requires the 'effort-2025-11-24' beta flag."
      },
      {
        "question": "Which cloud platforms are supported?",
        "answer": "The skill supports Anthropic's 1st-party API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry, each with platform-specific model string formats."
      },
      {
        "question": "What happens to the 1M context beta header?",
        "answer": "The 'context-1m-2025-08-07' beta header is removed during migration as it's not yet supported with Opus 4.5. A comment is added noting this limitation."
      },
      {
        "question": "How should I handle 'thinking' sensitivity issues?",
        "answer": "If extended thinking is not enabled in your API calls (no 'thinking' parameter) and you experience issues, replace variants of 'think' with alternatives like 'consider', 'believe', or 'evaluate'. This only applies when thinking is not enabled."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}