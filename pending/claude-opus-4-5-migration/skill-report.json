{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T07:12:58.569Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "üîÅ",
    "version": "1.0.0",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "migration",
      "prompts",
      "model-strings",
      "anthropic",
      "api"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official skill from Anthropic. Minimal review performed. No security issues found in scanned text files.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 281,
    "audit_model": "codex",
    "audited_at": "2025-12-31T07:12:58.568Z"
  },
  "content": {
    "user_title": "Migrate prompts and code to Claude Opus 4.5",
    "value_statement": "Legacy Sonnet and Opus 4.1 model strings cause mismatched behavior and headers. This skill guides precise updates and optional prompt fixes for Opus 4.5.",
    "seo_keywords": [
      "Claude Opus 4.5 migration",
      "Claude",
      "Codex",
      "Claude Code",
      "Anthropic API model update",
      "AWS Bedrock Claude",
      "Vertex AI Claude",
      "Azure AI Foundry Claude",
      "prompt migration guide"
    ],
    "actual_capabilities": [
      "Identifies target Opus 4.5 model strings for Anthropic API, AWS Bedrock, Vertex AI, and Azure AI Foundry.",
      "Specifies source model strings to replace from Sonnet 4.0, Sonnet 4.5, and Opus 4.1.",
      "Flags the unsupported context-1m-2025-08-07 beta header for removal with a note.",
      "Provides effort parameter guidance and SDK examples for high effort.",
      "Provides optional prompt adjustments for tool overtriggering, over-engineering, code exploration, frontend quality, and thinking sensitivity."
    ],
    "limitations": [
      "Does not migrate Haiku models.",
      "Prompt adjustments are only applied when the user requests them or reports issues.",
      "Requires manual code edits; it does not run automated refactors.",
      "Effort parameter usage requires the effort-2025-11-24 beta flag."
    ],
    "use_cases": [
      {
        "target_user": "API engineer",
        "title": "Update production model strings",
        "description": "Replace Sonnet or Opus 4.1 identifiers with Opus 4.5 across services."
      },
      {
        "target_user": "Prompt designer",
        "title": "Tune prompts for Opus 4.5",
        "description": "Apply targeted prompt fixes for tool overtriggering and over-engineering."
      },
      {
        "target_user": "Platform owner",
        "title": "Standardize multi-cloud models",
        "description": "Align Anthropic, Bedrock, Vertex, and Azure model IDs in one migration."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic model update",
        "scenario": "Single Anthropic API app",
        "prompt": "Scan my project for Sonnet 4.5 model strings and list the exact Opus 4.5 replacements for Anthropic API."
      },
      {
        "title": "Multi-platform migration",
        "scenario": "App uses Bedrock and Vertex",
        "prompt": "Find model strings for Bedrock and Vertex and provide the Opus 4.5 replacements. Summarize files to update."
      },
      {
        "title": "Add effort parameter",
        "scenario": "SDK migration with effort",
        "prompt": "Show how to add effort set to high for Opus 4.5 in Python and TypeScript SDK calls."
      },
      {
        "title": "Advanced prompt tuning",
        "scenario": "Tool overtriggering report",
        "prompt": "My tools are called too often after migration. Propose safe prompt edits to reduce overtriggering and summarize the changes."
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Bedrock and Anthropic API model strings to Opus 4.5 and note any header changes.",
        "output": [
          "Replace Bedrock model string with the Opus 4.5 identifier.",
          "Replace Anthropic API model string with the Opus 4.5 identifier.",
          "Remove the unsupported context-1m-2025-08-07 beta header and add a short note."
        ]
      }
    ],
    "best_practices": [
      "Verify the platform before replacing model strings.",
      "Summarize all changes after migration.",
      "Apply prompt snippets only for reported issues."
    ],
    "anti_patterns": [
      "Migrating Haiku models to Opus 4.5.",
      "Adding prompt snippets without a user issue.",
      "Keeping unsupported beta headers."
    ],
    "faq": [
      {
        "question": "Which platforms are supported for model string updates?",
        "answer": "Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry are covered."
      },
      {
        "question": "Does it migrate Haiku 4.5 models?",
        "answer": "No. Haiku models are excluded and should not be changed."
      },
      {
        "question": "How do I integrate effort settings?",
        "answer": "Add the effort-2025-11-24 beta flag and set output_config effort to high."
      },
      {
        "question": "Does it access or store my data?",
        "answer": "No. It provides guidance and does not transmit or store data."
      },
      {
        "question": "What if tools trigger too often after migration?",
        "answer": "Apply the tool overtriggering prompt adjustment and soften aggressive language."
      },
      {
        "question": "How does this differ from a generic model update?",
        "answer": "It includes Opus 4.5 specific strings and optional prompt fixes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}