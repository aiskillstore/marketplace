{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T14:24:01.654Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "Not specified",
    "category": "development",
    "tags": [
      "migration",
      "api",
      "claude",
      "opus",
      "model-upgrade",
      "automation",
      "prompts",
      "llm"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill containing only documentation and migration guidance. No executable code, API calls, or file system operations present. Content is purely instructional.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T14:24:01.653Z"
  },
  "content": {
    "user_title": "Migrate to Claude Opus 4.5",
    "value_statement": "Automatically updates your codebase from Claude Sonnet 4.0/4.5 or Opus 4.1 to Opus 4.5, handling model string replacements, beta header cleanup, effort parameter configuration, and prompt optimizations for known behavioral differences.",
    "seo_keywords": [
      "claude opus 4.5",
      "model migration",
      "api upgrade",
      "anthropic migration",
      "llm version update",
      "prompt engineering",
      "claude api",
      "model string replacement"
    ],
    "actual_capabilities": [
      "Identifies and replaces model strings across Anthropic API, AWS Bedrock, Google Vertex AI, and Azure AI Foundry",
      "Removes unsupported beta headers (e.g., context-1m-2025-08-07)",
      "Adds effort parameter configuration with 'high' as default",
      "Detects and fixes tool overtriggering issues caused by aggressive prompt language",
      "Addresses over-engineering tendencies with targeted prompt snippets",
      "Improves code exploration behavior when model skips reading files",
      "Enhances frontend design quality to avoid generic AI aesthetics",
      "Resolves thinking sensitivity issues when extended thinking is disabled",
      "Provides platform-specific model string mappings"
    ],
    "limitations": [
      "Does not migrate Haiku models",
      "Prompt adjustments are only applied on explicit user request or reported issues",
      "Cannot enable 1M context beta (context-1m-2025-08-07) as it's not yet supported with Opus 4.5",
      "Requires manual user intervention for determining which prompt snippets to apply",
      "Does not automatically test migrated code"
    ],
    "use_cases": [
      {
        "title": "API Integration Upgrade",
        "description": "Update an existing application using Claude Sonnet 4.5 API to use the more capable Opus 4.5 model with proper configuration",
        "target_user": "Backend developers maintaining Claude API integrations"
      },
      {
        "title": "Multi-Platform Model Update",
        "description": "Migrate codebases using Claude across different platforms (AWS Bedrock, Vertex AI, Azure) to Opus 4.5 with correct platform-specific model strings",
        "target_user": "DevOps engineers managing multi-cloud deployments"
      },
      {
        "title": "Prompt Optimization",
        "description": "Fix tool overtriggering or over-engineering issues after upgrading to Opus 4.5 by applying targeted prompt adjustments",
        "target_user": "AI/ML engineers fine-tuning Claude behavior"
      },
      {
        "title": "Frontend Quality Enhancement",
        "description": "Apply frontend design guidelines to prevent generic AI-generated aesthetics in Opus 4.5 outputs",
        "target_user": "Full-stack developers building AI-powered frontend applications"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Claude Sonnet 4.5 to Opus 4.5",
        "scenario": "Simple model string replacement and effort parameter addition"
      },
      {
        "title": "Fix Tool Overtriggering",
        "prompt": "My tools are being called too frequently after upgrading to Opus 4.5. Help me fix the prompts.",
        "scenario": "Apply tool overtriggering fixes to soften aggressive prompt language"
      },
      {
        "title": "Prevent Over-Engineering",
        "prompt": "Opus 4.5 is creating too many extra files and abstractions. Add guidelines to keep it focused.",
        "scenario": "Integrate over-engineering prevention snippet into system prompt"
      },
      {
        "title": "Multi-Platform Migration",
        "prompt": "Update all Claude API calls to Opus 4.5 across our AWS Bedrock and Vertex AI deployments",
        "scenario": "Platform-specific model string updates across multiple cloud providers"
      },
      {
        "title": "Frontend Design Improvement",
        "prompt": "My Opus 4.5 generated frontends look generic. Help improve the design quality.",
        "scenario": "Apply frontend aesthetics guidelines to avoid AI slop aesthetic"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python code from Sonnet 4.5 to Opus 4.5",
        "output": "Updated model string from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101', added effort parameter set to 'high' with beta flag 'effort-2025-11-24', and summarized changes. Reminded user to report any issues for prompt adjustments."
      },
      {
        "input": "Fix tool overtriggering in my Opus 4.5 prompts",
        "output": "Replaced 'CRITICAL: You MUST use this tool' with 'Use this tool', changed 'ALWAYS call the search function' to 'Call the search function', and softened other aggressive language in tool-triggering instructions while preserving emphasis elsewhere."
      }
    ],
    "best_practices": [
      "Only apply prompt adjustments when users explicitly request them or report specific issues",
      "Integrate prompt snippets thoughtfully using XML tags that match existing prompt structure",
      "Always add effort parameter set to 'high' during migration for best performance",
      "Remove unsupported beta headers and leave explanatory comments",
      "Match the style and verbosity of existing prompts when adding snippets",
      "Place new prompt content in logical locations near related instructions",
      "Summarize all changes made after migration",
      "Remind users they can request prompt adjustments if they encounter issues"
    ],
    "anti_patterns": [
      "Migrating Haiku models (not supported by this skill)",
      "Blindly appending prompt snippets without integration",
      "Applying all prompt fixes by default instead of waiting for specific issues",
      "Removing functional content when inserting snippets",
      "Keeping aggressive language (CRITICAL, MUST, ALWAYS) in tool-triggering instructions",
      "Forgetting to configure the effort parameter",
      "Leaving unsupported beta headers without explanatory comments"
    ],
    "faq": [
      {
        "question": "Does this skill migrate Haiku models?",
        "answer": "No, this skill only migrates from Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Haiku models are not supported."
      },
      {
        "question": "Will all prompt adjustments be applied automatically?",
        "answer": "No, prompt adjustments are only applied when you explicitly request them or report a specific issue. By default, the migration only updates model strings and adds the effort parameter."
      },
      {
        "question": "What is the effort parameter and why is it set to 'high'?",
        "answer": "The effort parameter controls how eagerly Claude spends tokens. 'high' is the default for best performance with Opus 4.5, providing deep reasoning capabilities. You can adjust to 'medium' or 'low' for cost/latency optimization."
      },
      {
        "question": "Can I use the 1M context beta with Opus 4.5?",
        "answer": "Not yet. The context-1m-2025-08-07 beta header is not currently supported with Opus 4.5. The migration will remove this header and add a comment noting this limitation."
      },
      {
        "question": "Which platforms are supported?",
        "answer": "The skill supports Anthropic API (1P), AWS Bedrock, Google Vertex AI, and Azure AI Foundry, with platform-specific model string mappings for each."
      },
      {
        "question": "What should I do if I encounter issues after migration?",
        "answer": "Report the specific issue (tool overtriggering, over-engineering, code exploration problems, etc.) and the skill will apply targeted prompt adjustments from the reference snippets to address it."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}