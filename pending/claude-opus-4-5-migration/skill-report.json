{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:04:27.010Z",
    "slug": "claude-opus-4-5-migration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/claude-opus-4-5-migration/skills/claude-opus-4-5-migration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "claude-opus-4-5-migration",
    "description": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the user wants to update their codebase, prompts, or API calls to use Opus 4.5. Handles model string updates and prompt adjustments for known Opus 4.5 behavioral differences. Does NOT migrate Haiku 4.5.",
    "summary": "Migrate prompts and code from Claude Sonnet 4.0, Sonnet 4.5, or Opus 4.1 to Opus 4.5. Use when the u...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "migration",
      "claude",
      "opus-4.5",
      "api",
      "prompt-engineering",
      "model-upgrade"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill for model migration. Contains only documentation and migration guidelines with no executable code or security concerns.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 284,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:04:27.010Z"
  },
  "content": {
    "user_title": "Migrate to Claude Opus 4.5",
    "value_statement": "Automatically update your codebase from older Claude models (Sonnet 4.0/4.5, Opus 4.1) to Opus 4.5, including model strings, effort parameters, and prompt optimizations for known behavioral differences.",
    "seo_keywords": [
      "claude opus 4.5",
      "model migration",
      "api upgrade",
      "prompt optimization",
      "anthropic claude",
      "llm migration"
    ],
    "actual_capabilities": [
      "Search and replace model strings across multiple platforms (Anthropic API, AWS Bedrock, Google Vertex AI, Azure AI Foundry)",
      "Add and configure the effort parameter for optimal Opus 4.5 performance",
      "Remove unsupported beta headers like context-1m-2025-08-07",
      "Provide targeted prompt fixes for tool overtriggering issues",
      "Add over-engineering prevention guidelines when requested",
      "Improve code exploration behavior with specific prompt snippets",
      "Enhance frontend design quality with aesthetic guidelines",
      "Fix thinking sensitivity issues in prompts"
    ],
    "limitations": [
      "Does not migrate Haiku 4.5 models",
      "Prompt adjustments are only applied when user explicitly requests them or reports specific issues",
      "Cannot automatically test if migrations break existing functionality",
      "Requires manual review of changes before deployment"
    ],
    "use_cases": [
      {
        "title": "Upgrade Production API Integration",
        "description": "Migrate a production application using Sonnet 4.5 to Opus 4.5 across all API calls, adding effort parameters and ensuring backward compatibility.",
        "target_user": "Backend developers maintaining Claude API integrations"
      },
      {
        "title": "Fix Tool Overtriggering",
        "description": "Adjust prompts that worked well on Sonnet but cause Opus 4.5 to call tools too frequently by softening aggressive language.",
        "target_user": "Prompt engineers experiencing behavioral changes after model upgrades"
      },
      {
        "title": "Multi-Platform Migration",
        "description": "Update model strings across a codebase that uses multiple cloud providers (AWS Bedrock, Google Vertex AI, Azure) simultaneously.",
        "target_user": "DevOps engineers managing multi-cloud Claude deployments"
      },
      {
        "title": "Prevent Over-Engineering",
        "description": "Add guidelines to prevent Opus 4.5 from creating unnecessary files, abstractions, or features beyond what was requested.",
        "target_user": "Engineering teams noticing excessive complexity in AI-generated code"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Migration",
        "prompt": "Migrate my codebase from Sonnet 4.5 to Opus 4.5",
        "scenario": "Simple model string update with effort parameter addition"
      },
      {
        "title": "Migration with Tool Fixes",
        "prompt": "Migrate to Opus 4.5 and fix tool overtriggering - my tools are being called too often",
        "scenario": "Migration including prompt adjustments to soften aggressive tool-triggering language"
      },
      {
        "title": "Platform-Specific Migration",
        "prompt": "Update my AWS Bedrock integration from Opus 4.1 to Opus 4.5",
        "scenario": "Migration targeting a specific cloud platform"
      },
      {
        "title": "Frontend Quality Migration",
        "prompt": "Migrate to Opus 4.5 and improve frontend design quality - outputs look too generic",
        "scenario": "Migration with frontend aesthetics guidelines to avoid 'AI slop' appearance"
      }
    ],
    "output_examples": [
      {
        "input": "Migrate my Python code from Sonnet 4.5 to Opus 4.5",
        "output": "Updated model string from 'claude-sonnet-4-5-20250929' to 'claude-opus-4-5-20251101', added effort parameter set to 'high' with beta flag 'effort-2025-11-24', summarized all changes made"
      },
      {
        "input": "My tools are being called too frequently after upgrading to Opus 4.5",
        "output": "Softened aggressive language in prompts: changed 'CRITICAL: You MUST call this tool' to 'Call this tool', removed 'ALWAYS' and 'REQUIRED' instructions, integrated changes using XML tags"
      }
    ],
    "best_practices": [
      "Start with model string updates only; add prompt adjustments only when specific issues arise",
      "Always add the effort parameter set to 'high' for best Opus 4.5 performance",
      "Remove unsupported beta headers like context-1m-2025-08-07 and leave explanatory comments",
      "Integrate prompt snippets thoughtfully using XML tags that match existing prompt structure",
      "Test migrations in development environments before deploying to production",
      "Review all changes carefully, especially prompt modifications that affect behavior",
      "Keep the 1M context limitation in mind when removing unsupported beta headers"
    ],
    "anti_patterns": [
      "Applying all prompt snippets at once without identifying specific issues",
      "Migrating Haiku models (not supported by this skill)",
      "Removing emphasis from non-tool-related instructions when fixing overtriggering",
      "Appending snippets without integrating them into existing prompt structure",
      "Forgetting to add the effort parameter during migration",
      "Changing model strings without understanding platform-specific formats"
    ],
    "faq": [
      {
        "question": "Should I apply all prompt adjustments during migration?",
        "answer": "No. By default, only update model strings and add the effort parameter. Apply prompt adjustments only when the user explicitly requests them or reports specific issues like tool overtriggering or over-engineering."
      },
      {
        "question": "What is the effort parameter and why should I use it?",
        "answer": "The effort parameter controls how eagerly Claude spends tokens. Setting it to 'high' (the default recommendation) provides best performance with deep reasoning. It requires the 'effort-2025-11-24' beta flag."
      },
      {
        "question": "Can this skill migrate Haiku models?",
        "answer": "No. This skill specifically does NOT migrate Haiku 4.5 models. It only handles Sonnet 4.0, Sonnet 4.5, and Opus 4.1 to Opus 4.5 migrations."
      },
      {
        "question": "What should I do about the 1M context beta header?",
        "answer": "Remove the 'context-1m-2025-08-07' beta header as it's not yet supported with Opus 4.5. Leave a comment noting this limitation for future reference."
      },
      {
        "question": "How do I know which platform-specific model string to use?",
        "answer": "The skill identifies your platform (Anthropic API, AWS Bedrock, Google Vertex AI, or Azure AI Foundry) from your codebase and uses the corresponding model string format."
      },
      {
        "question": "What if extended thinking is enabled in my setup?",
        "answer": "The thinking sensitivity fix only applies when extended thinking is NOT enabled (no 'thinking' parameter in requests). If you have extended thinking enabled, you don't need to replace 'think' variants."
      }
    ],
    "technical_requirements": {
      "dependencies": [],
      "permissions": [
        "read",
        "write"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "effort.md",
          "type": "file",
          "path": "references/effort.md"
        },
        {
          "name": "prompt-snippets.md",
          "type": "file",
          "path": "references/prompt-snippets.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}