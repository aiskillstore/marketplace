{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:05:45.514Z",
    "slug": "command-development",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/command-development",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "Command Development",
    "description": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a custom command\", \"define command arguments\", \"use command frontmatter\", \"organize commands\", \"create command with file references\", \"interactive command\", \"use AskUserQuestion in command\", or needs guidance on slash command structure, YAML frontmatter fields, dynamic arguments, bash execution in commands, user interaction patterns, or command development best practices for Claude Code.",
    "summary": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a ...",
    "icon": "⚙️",
    "version": "0.2.0",
    "author": "Anthropic",
    "license": "Not specified",
    "category": "development",
    "tags": [
      "slash-commands",
      "claude-code",
      "automation",
      "workflows",
      "yaml",
      "markdown",
      "plugins",
      "command-line"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "OFFICIAL skill from Anthropic containing educational documentation and examples for creating Claude Code commands. No malicious code, network access, or security vulnerabilities detected. All bash examples use safe, read-only operations or standard git/npm commands.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 11,
    "total_lines": 7237,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:05:45.512Z"
  },
  "content": {
    "user_title": "Slash Command Development Guide",
    "value_statement": "Learn to create custom slash commands for Claude Code to automate workflows, standardize team processes, and build reusable AI-powered tools with dynamic arguments, file references, and plugin integration.",
    "seo_keywords": [
      "claude code commands",
      "slash commands",
      "yaml frontmatter",
      "command automation",
      "claude plugins",
      "workflow automation",
      "dynamic arguments",
      "bash integration",
      "interactive commands",
      "command templates"
    ],
    "actual_capabilities": [
      "Create custom slash commands as Markdown files with optional YAML frontmatter",
      "Use dynamic arguments ($1, $2, $ARGUMENTS) for parameterized commands",
      "Reference files with @ syntax to include content in command context",
      "Execute bash commands inline with !` syntax for dynamic context gathering",
      "Organize commands in project (.claude/commands/), personal (~/.claude/commands/), or plugin directories",
      "Configure command behavior with frontmatter fields (description, allowed-tools, model, argument-hint)",
      "Create interactive commands using AskUserQuestion tool for complex user input",
      "Build plugin commands with ${CLAUDE_PLUGIN_ROOT} for portable path references",
      "Integrate commands with plugin agents, skills, and hooks for advanced workflows",
      "Implement validation patterns for arguments, files, and plugin resources"
    ],
    "limitations": [
      "Commands are Markdown files only - no binary or executable formats",
      "Bash execution requires allowed-tools permission and appropriate command filters",
      "File references limited by Claude's context window size",
      "Plugin commands require plugin installation and proper directory structure",
      "AskUserQuestion limited to 1-4 questions with 2-4 options each per invocation",
      "No built-in state persistence between command invocations (must use .local.md files)",
      "Command namespacing depth limited to subdirectory structure"
    ],
    "use_cases": [
      {
        "title": "Code Review Automation",
        "description": "Create /review-pr command that fetches PR details, analyzes changed files, runs security checks, and provides structured feedback with specific line numbers and severity ratings",
        "target_user": "Development teams wanting consistent code review processes"
      },
      {
        "title": "Deployment Workflows",
        "description": "Build /deploy command with environment-specific configuration, pre-deployment validation, and interactive confirmation using AskUserQuestion for critical production deployments",
        "target_user": "DevOps engineers managing multi-environment deployments"
      },
      {
        "title": "Documentation Generation",
        "description": "Generate standardized API documentation using plugin templates and reference files, ensuring consistent format across all endpoints with examples and error codes",
        "target_user": "Technical writers and API developers needing documentation consistency"
      },
      {
        "title": "Plugin Development Tools",
        "description": "Create plugin-specific commands that execute analysis scripts, load configuration files, and coordinate with agents/skills for comprehensive workflows",
        "target_user": "Plugin developers building reusable Claude Code extensions"
      },
      {
        "title": "Interactive Setup Wizards",
        "description": "Build multi-step setup commands using AskUserQuestion to gather user preferences, validate inputs, and generate configuration files with appropriate defaults",
        "target_user": "Teams onboarding new projects or configuring complex tools"
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple Review Command",
        "prompt": "Create a /review-code command that:\n- Takes a file path as argument\n- Reads the file content\n- Checks for code quality, security issues, and best practices\n- Provides specific feedback with line numbers",
        "scenario": "Basic code review without frontmatter configuration"
      },
      {
        "title": "Deployment Command with Validation",
        "prompt": "Create a /deploy command that:\n- Takes environment (dev/staging/prod) and version as arguments\n- Validates environment argument is valid\n- Checks git status and current branch\n- Loads environment-specific config from plugin\n- Executes deployment with bash script\n- Uses 'sonnet' model for reliability",
        "scenario": "Production-ready deployment with validation and plugin integration"
      },
      {
        "title": "Interactive Plugin Setup",
        "prompt": "Create a /setup-plugin command that:\n- Uses AskUserQuestion to gather deployment platform (AWS/GCP/Azure)\n- Asks how many environments needed (multiSelect: false)\n- Asks which features to enable (multiSelect: true for auto-scaling, monitoring, CI/CD)\n- Generates .claude/plugin-config.local.md with YAML frontmatter based on answers\n- Provides next steps after configuration created",
        "scenario": "Interactive configuration wizard for plugin setup"
      },
      {
        "title": "Plugin Command with Scripts",
        "prompt": "Create a /analyze command for a plugin that:\n- Takes a directory path as argument\n- Executes ${CLAUDE_PLUGIN_ROOT}/scripts/lint.js using Node\n- Executes ${CLAUDE_PLUGIN_ROOT}/scripts/security-scan.sh\n- Loads report template from ${CLAUDE_PLUGIN_ROOT}/templates/report.md\n- Compiles results into structured report following template\n- Requires Bash(node:*) permission",
        "scenario": "Multi-script plugin workflow with template-based output"
      }
    ],
    "output_examples": [
      {
        "input": "User creates .claude/commands/review.md with:\n---\ndescription: Review code for issues\nallowed-tools: Read\n---\n\nReview @$1 for code quality, bugs, and best practices.",
        "output": "Command appears in /help as '/review - Review code for issues (project)'\nUser runs: /review src/app.ts\nClaude reads src/app.ts and provides detailed code review with specific feedback"
      },
      {
        "input": "Plugin command at plugin-name/commands/deploy.md with:\n---\nargument-hint: [environment] [version]\nallowed-tools: Bash(*), Read\n---\n\nConfig: @${CLAUDE_PLUGIN_ROOT}/config/$1.json\nDeploy: !`bash ${CLAUDE_PLUGIN_ROOT}/scripts/deploy.sh $1 $2`",
        "output": "Command shown as '/deploy [environment] [version] (plugin:plugin-name)'\nUser runs: /deploy staging v1.2.0\nLoads config/staging.json, executes deploy.sh with arguments, reports deployment status"
      },
      {
        "input": "Interactive command using AskUserQuestion with question 'Which database?' and options PostgreSQL/MongoDB/Redis",
        "output": "User sees formatted question with 3 options + automatic 'Other' option\nUser selects 'PostgreSQL'\nCommand receives answer and proceeds with PostgreSQL-specific configuration"
      }
    ],
    "best_practices": [
      "Write commands as instructions FOR Claude, not messages TO users (use imperative/infinitive form)",
      "Use single responsibility principle - one command does one thing well",
      "Always provide 'description' frontmatter field for discoverability in /help",
      "Document arguments with 'argument-hint' to show expected usage",
      "Use most restrictive 'allowed-tools' needed (e.g., Bash(git:*) not Bash(*))",
      "Choose appropriate model: haiku for speed, sonnet for balance, opus for complexity",
      "Validate inputs early and provide helpful error messages with corrective actions",
      "Use ${CLAUDE_PLUGIN_ROOT} for all plugin-internal file references",
      "Test commands across different environments and edge cases before distribution",
      "Keep commands focused - delegate complex logic to scripts or agents",
      "Use .local.md files for persistent state between command invocations",
      "Provide examples and usage documentation in command file comments"
    ],
    "anti_patterns": [
      "Don't write commands as messages to users (e.g., 'This will review your code') - write instructions for Claude",
      "Avoid using relative paths like ./scripts/ - use ${CLAUDE_PLUGIN_ROOT} for plugin files",
      "Don't use allowed-tools: '*' - be specific about required tools for security",
      "Avoid hardcoded paths that won't work across different installations",
      "Don't create commands without validation - always check arguments and file existence",
      "Avoid long-running bash commands that slow down command invocation",
      "Don't skip 'description' field - commands become undiscoverable in /help",
      "Avoid generic command names like /test or /run that conflict with common names",
      "Don't use AskUserQuestion for simple values - use command arguments instead",
      "Avoid TODOs or debug code in production commands",
      "Don't forget to test commands on different platforms (macOS, Linux, Windows/WSL)"
    ],
    "faq": [
      {
        "question": "What's the difference between $ARGUMENTS and $1, $2, $3?",
        "answer": "$ARGUMENTS captures all arguments as a single string, while $1, $2, $3 capture individual positional arguments. Use $ARGUMENTS when you want all args together (e.g., 'Fix issue #$ARGUMENTS'), use positional when you need specific values (e.g., 'Deploy $1 to $2 environment')."
      },
      {
        "question": "When should I use AskUserQuestion vs command arguments?",
        "answer": "Use command arguments for simple, known values (file paths, names, numbers). Use AskUserQuestion for complex decisions requiring explanation, multiple choice options with trade-offs, multi-select scenarios, or interactive configuration workflows."
      },
      {
        "question": "How do I reference plugin files portably?",
        "answer": "Always use ${CLAUDE_PLUGIN_ROOT} for plugin-internal paths. Examples: ${CLAUDE_PLUGIN_ROOT}/scripts/analyze.js, @${CLAUDE_PLUGIN_ROOT}/config/settings.json, !`bash ${CLAUDE_PLUGIN_ROOT}/scripts/build.sh`. This works across all installations."
      },
      {
        "question": "What's the difference between project, personal, and plugin commands?",
        "answer": "Project commands (.claude/commands/) are shared with the team in a specific project. Personal commands (~/.claude/commands/) are available everywhere for your personal workflows. Plugin commands (plugin-name/commands/) are bundled with plugins and available when the plugin is installed."
      },
      {
        "question": "How do I make commands work with plugin agents or skills?",
        "answer": "For agents: mention the agent by name and describe what it should do (Claude uses Task tool to launch it). For skills: reference the skill by name in your command to hint Claude should invoke it. Both must exist in plugin/agents/ or plugin/skills/ directories."
      },
      {
        "question": "Can I use bash commands in my slash commands?",
        "answer": "Yes, use !`command` syntax with allowed-tools: Bash(command:*) permission. Example: !`git status` for repository state. Keep commands fast, safe (read-only when possible), and use specific filters like Bash(git:*) instead of Bash(*)."
      },
      {
        "question": "How do I organize commands when I have many of them?",
        "answer": "Use subdirectories for namespacing. Place commands in .claude/commands/category/command.md. They'll appear as '/command (project:category)' in /help. Use this for 15+ commands with clear categories like ci/, git/, docs/."
      },
      {
        "question": "What should I do if my command needs to persist state between invocations?",
        "answer": "Use .local.md files in .claude/ directory. Write state as YAML frontmatter, then read it in subsequent command invocations. Example: .claude/workflow-state.local.md with YAML frontmatter containing workflow stage, timestamp, and configuration."
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Claude Code CLI installed",
        "Markdown knowledge for command file format",
        "YAML knowledge for frontmatter configuration (optional)",
        "Bash/shell knowledge for command execution features (optional)",
        "Git for version control of commands (recommended)"
      ],
      "permissions": [
        "File system write access to .claude/commands/ (project) or ~/.claude/commands/ (personal)",
        "Read access for @ file references",
        "Bash execution permission via allowed-tools for !` syntax",
        "Plugin installation permissions for plugin commands"
      ],
      "complexity": "beginner"
    }
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "plugin-commands.md",
          "type": "file",
          "path": "examples/plugin-commands.md"
        },
        {
          "name": "simple-commands.md",
          "type": "file",
          "path": "examples/simple-commands.md"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "advanced-workflows.md",
          "type": "file",
          "path": "references/advanced-workflows.md"
        },
        {
          "name": "documentation-patterns.md",
          "type": "file",
          "path": "references/documentation-patterns.md"
        },
        {
          "name": "frontmatter-reference.md",
          "type": "file",
          "path": "references/frontmatter-reference.md"
        },
        {
          "name": "interactive-commands.md",
          "type": "file",
          "path": "references/interactive-commands.md"
        },
        {
          "name": "marketplace-considerations.md",
          "type": "file",
          "path": "references/marketplace-considerations.md"
        },
        {
          "name": "plugin-features-reference.md",
          "type": "file",
          "path": "references/plugin-features-reference.md"
        },
        {
          "name": "testing-strategies.md",
          "type": "file",
          "path": "references/testing-strategies.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}