{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T10:45:54.574Z",
    "slug": "command-development",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/command-development",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "Command Development",
    "description": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a custom command\", \"define command arguments\", \"use command frontmatter\", \"organize commands\", \"create command with file references\", \"interactive command\", \"use AskUserQuestion in command\", or needs guidance on slash command structure, YAML frontmatter fields, dynamic arguments, bash execution in commands, user interaction patterns, or command development best practices for Claude Code.",
    "summary": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a ...",
    "icon": "⚙️",
    "version": "0.2.0",
    "author": "Anthropic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "slash-commands",
      "claude-code",
      "automation",
      "workflow",
      "yaml",
      "markdown",
      "plugin-development",
      "cli",
      "developer-tools"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill with comprehensive educational content. No malicious code detected. Contains safe bash execution examples with proper security guidance.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 11,
    "total_lines": 7237,
    "audit_model": "claude",
    "audited_at": "2025-12-30T10:45:54.572Z"
  },
  "content": {
    "user_title": "Slash Command Development Guide",
    "value_statement": "Master creating reusable slash commands for Claude Code to automate workflows, standardize team processes, and build powerful plugin integrations with dynamic arguments and bash execution.",
    "seo_keywords": [
      "slash commands",
      "claude code commands",
      "yaml frontmatter",
      "command arguments",
      "bash execution",
      "plugin development",
      "workflow automation",
      "command templates",
      "claude code plugins",
      "interactive commands"
    ],
    "actual_capabilities": [
      "Create slash commands with Markdown and YAML frontmatter",
      "Use dynamic arguments ($1, $2, $ARGUMENTS) in commands",
      "Execute bash commands inline with !` syntax for context gathering",
      "Reference files with @ syntax to include content",
      "Configure command permissions with allowed-tools",
      "Organize commands with namespaces and subdirectories",
      "Build plugin commands using ${CLAUDE_PLUGIN_ROOT}",
      "Integrate commands with agents, skills, and hooks",
      "Create interactive commands with AskUserQuestion",
      "Validate inputs and handle errors gracefully",
      "Design multi-step workflows and command sequences",
      "Test commands across platforms and environments"
    ],
    "limitations": [
      "Commands require Claude Code to be installed and running",
      "Bash execution requires allowed-tools permission configuration",
      "Plugin commands only available when plugin is installed",
      "File references limited by Claude's context window",
      "Interactive commands require user response time",
      "Platform-specific bash commands may not work cross-platform"
    ],
    "use_cases": [
      {
        "title": "Code Review Automation",
        "description": "Create commands that automatically review pull requests for security issues, code quality, and best practices using git integration and file analysis.",
        "target_user": "Development teams wanting consistent code review standards"
      },
      {
        "title": "Deployment Workflows",
        "description": "Build environment-aware deployment commands that validate configurations, run tests, and deploy to staging or production with proper safeguards.",
        "target_user": "DevOps engineers managing multi-environment deployments"
      },
      {
        "title": "Documentation Generation",
        "description": "Generate standardized documentation from templates for APIs, components, or features with consistent formatting and completeness.",
        "target_user": "Teams maintaining documentation standards"
      },
      {
        "title": "Plugin Development",
        "description": "Create distributable plugin commands that package scripts, templates, and configurations for marketplace distribution.",
        "target_user": "Plugin developers building tools for Claude Code"
      },
      {
        "title": "Interactive Setup Wizards",
        "description": "Build guided configuration commands that ask questions, validate inputs, and generate project configurations interactively.",
        "target_user": "Teams onboarding new projects or developers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple Code Review Command",
        "prompt": "Create a slash command called /review that analyzes the current git changes for code quality, potential bugs, and security issues. The command should use git diff to identify changed files and provide specific feedback with line numbers.",
        "scenario": "When you need a quick command to review uncommitted changes"
      },
      {
        "title": "Multi-Argument Deployment Command",
        "prompt": "Create a /deploy command that takes [environment] and [version] arguments, validates the environment is one of dev/staging/prod, loads configuration from a JSON file, and executes deployment with proper error handling.",
        "scenario": "When you need a controlled deployment workflow"
      },
      {
        "title": "Interactive Setup Command",
        "prompt": "Create a /setup command that uses AskUserQuestion to interactively gather project configuration choices (language, framework, features), validates selections, and generates appropriate config files.",
        "scenario": "When onboarding new projects with multiple configuration options"
      },
      {
        "title": "Plugin Command with Scripts",
        "prompt": "Create a plugin command /analyze that uses ${CLAUDE_PLUGIN_ROOT} to execute a Node.js analysis script, loads a report template, and generates formatted output based on the script results.",
        "scenario": "When building a plugin that packages custom analysis tools"
      }
    ],
    "output_examples": [
      {
        "input": "User creates .claude/commands/review.md with frontmatter and invokes /review",
        "output": "Command appears in /help list, executes when invoked, runs git diff to find changes, reads each changed file, and provides structured feedback on code quality and security issues with specific line references."
      },
      {
        "input": "User invokes /deploy staging v1.2.3",
        "output": "Command validates 'staging' is a valid environment, loads config/staging.json, executes deployment script with version v1.2.3, monitors progress, runs smoke tests, and reports deployment status."
      },
      {
        "input": "User creates interactive command and invokes /setup",
        "output": "Command presents AskUserQuestion dialogs for language selection, framework choice, and feature toggles. Based on answers, generates .claude/config.local.md with appropriate settings and guides user on next steps."
      }
    ],
    "best_practices": [
      "Write commands as instructions FOR Claude, not messages TO users",
      "Use clear, actionable descriptions under 60 characters",
      "Always provide argument-hint when commands accept arguments",
      "Restrict allowed-tools to minimum required permissions",
      "Validate inputs early with helpful error messages",
      "Use ${CLAUDE_PLUGIN_ROOT} for all plugin-internal paths",
      "Organize commands in namespaces when you have 15+ commands",
      "Test commands across platforms before distribution",
      "Document requirements, usage examples, and edge cases",
      "Handle missing arguments and files gracefully",
      "Use haiku model for simple/fast commands, sonnet for standard, opus for complex",
      "Provide progressive disclosure: simple usage first, advanced features documented"
    ],
    "anti_patterns": [
      "Writing commands as messages to users instead of instructions for Claude",
      "Using 'This command will...' phrasing instead of direct instructions",
      "Hardcoding absolute paths instead of using ${CLAUDE_PLUGIN_ROOT}",
      "Allowing all tools with Bash(*) when only specific commands needed",
      "Missing argument validation leading to confusing errors",
      "Creating commands longer than 60 characters in description",
      "Using relative paths that break when working directory changes",
      "Not documenting required arguments with argument-hint",
      "Ignoring edge cases like missing files or invalid inputs",
      "Over-engineering simple commands with unnecessary complexity"
    ],
    "faq": [
      {
        "question": "What's the difference between $ARGUMENTS and $1, $2, $3?",
        "answer": "$ARGUMENTS captures all arguments as a single string, while $1, $2, $3 capture individual positional arguments. Use $ARGUMENTS for flexible input, use $1, $2 when you need specific argument positions."
      },
      {
        "question": "When should I use YAML frontmatter?",
        "answer": "Use frontmatter when you need to: restrict tools (allowed-tools), specify a model (haiku/sonnet/opus), document arguments (argument-hint), or prevent programmatic invocation (disable-model-invocation). Simple commands don't need frontmatter."
      },
      {
        "question": "How do I execute bash commands in commands?",
        "answer": "Use the !`command` syntax to execute bash commands and include their output. You must add the command to allowed-tools (e.g., Bash(git:*) for git commands). The output is included in the prompt Claude processes."
      },
      {
        "question": "What is ${CLAUDE_PLUGIN_ROOT} and when do I use it?",
        "answer": "It's an environment variable available in plugin commands that resolves to the plugin's absolute path. Use it to reference plugin scripts, templates, configs, or any plugin-internal files portably across installations."
      },
      {
        "question": "How do I make commands interactive with user questions?",
        "answer": "Use the AskUserQuestion tool within command execution to present multiple-choice questions with explanations. Support multiSelect for feature toggles. This is better than command arguments when choices need context or explanations."
      },
      {
        "question": "Can I organize commands into subdirectories?",
        "answer": "Yes. Subdirectories create namespaces shown in /help (e.g., 'project:ci' for commands in .claude/commands/ci/). Use namespaces when you have 15+ commands to organize them logically."
      },
      {
        "question": "How do I test commands before distributing them?",
        "answer": "Validate YAML syntax, test with various arguments (including edge cases), verify bash execution works, test file references, check cross-platform compatibility, and have others beta test. Use the testing strategies reference for comprehensive checklists."
      },
      {
        "question": "What's the difference between project, user, and plugin commands?",
        "answer": "Project commands (.claude/commands/) are shared with the team, user commands (~/.claude/commands/) are personal across all projects, and plugin commands (plugin-name/commands/) are bundled with plugins and available when the plugin is installed."
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Claude Code (latest version)",
        "Bash shell for bash execution features",
        "Git for git-based command examples"
      ],
      "permissions": [
        "File system read/write access for .claude/commands/",
        "Bash execution permissions (configurable via allowed-tools)",
        "Read access for file references with @ syntax"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "plugin-commands.md",
          "type": "file",
          "path": "examples/plugin-commands.md"
        },
        {
          "name": "simple-commands.md",
          "type": "file",
          "path": "examples/simple-commands.md"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "advanced-workflows.md",
          "type": "file",
          "path": "references/advanced-workflows.md"
        },
        {
          "name": "documentation-patterns.md",
          "type": "file",
          "path": "references/documentation-patterns.md"
        },
        {
          "name": "frontmatter-reference.md",
          "type": "file",
          "path": "references/frontmatter-reference.md"
        },
        {
          "name": "interactive-commands.md",
          "type": "file",
          "path": "references/interactive-commands.md"
        },
        {
          "name": "marketplace-considerations.md",
          "type": "file",
          "path": "references/marketplace-considerations.md"
        },
        {
          "name": "plugin-features-reference.md",
          "type": "file",
          "path": "references/plugin-features-reference.md"
        },
        {
          "name": "testing-strategies.md",
          "type": "file",
          "path": "references/testing-strategies.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}