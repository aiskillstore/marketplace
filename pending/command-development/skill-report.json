{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:51:42.423Z",
    "slug": "command-development",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/command-development",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "Command Development",
    "description": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a custom command\", \"define command arguments\", \"use command frontmatter\", \"organize commands\", \"create command with file references\", \"interactive command\", \"use AskUserQuestion in command\", or needs guidance on slash command structure, YAML frontmatter fields, dynamic arguments, bash execution in commands, user interaction patterns, or command development best practices for Claude Code.",
    "summary": "This skill should be used when the user asks to \"create a slash command\", \"add a command\", \"write a ...",
    "icon": "⚙️",
    "version": "0.2.0",
    "author": "Anthropic",
    "license": "Not specified",
    "category": "development",
    "tags": [
      "commands",
      "slash-commands",
      "plugins",
      "automation",
      "development",
      "workflows",
      "YAML",
      "frontmatter",
      "bash",
      "interactive"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill with comprehensive documentation and examples. No malicious code patterns detected. Bash execution features are properly documented with security best practices.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 11,
    "total_lines": 7237,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:51:42.422Z"
  },
  "content": {
    "user_title": "Command Development Guide for Claude Code",
    "value_statement": "Learn to create powerful, reusable slash commands for Claude Code with dynamic arguments, file references, bash execution, and plugin integration to streamline your workflows.",
    "seo_keywords": [
      "claude code commands",
      "slash commands",
      "command development",
      "claude plugins",
      "YAML frontmatter",
      "dynamic arguments",
      "bash execution",
      "interactive commands",
      "workflow automation",
      "command templates"
    ],
    "actual_capabilities": [
      "Create slash commands as Markdown files with optional YAML frontmatter",
      "Use dynamic arguments ($1, $2, $ARGUMENTS) to make commands reusable",
      "Reference files with @ syntax to include content in commands",
      "Execute bash commands inline with !` syntax for dynamic context",
      "Organize commands in project, personal, or plugin directories",
      "Configure allowed-tools, model selection, and argument hints via frontmatter",
      "Create interactive commands using AskUserQuestion for complex user input",
      "Build plugin commands with CLAUDE_PLUGIN_ROOT for portable paths",
      "Integrate commands with plugin agents, skills, and hooks",
      "Implement validation patterns for inputs, files, and resources",
      "Design multi-step workflows and command sequences",
      "Create marketplace-ready commands with comprehensive documentation"
    ],
    "limitations": [
      "Commands must be Markdown files with .md extension",
      "Bash execution requires allowed-tools permission",
      "File references limited to accessible filesystem paths",
      "Plugin-specific features only available in plugin context",
      "Interactive patterns require AskUserQuestion tool access",
      "Command arguments are positional (not named parameters)"
    ],
    "use_cases": [
      {
        "title": "Code Review Automation",
        "description": "Create commands that review code for quality, security, and best practices with dynamic file references and bash integration for git status",
        "target_user": "Development teams wanting consistent code review processes"
      },
      {
        "title": "Deployment Workflows",
        "description": "Build environment-aware deployment commands with validation, configuration loading, and multi-step execution",
        "target_user": "DevOps engineers automating deployment processes"
      },
      {
        "title": "Documentation Generation",
        "description": "Generate standardized documentation using templates and file references for consistent output across projects",
        "target_user": "Technical writers and developers maintaining documentation"
      },
      {
        "title": "Interactive Setup Wizards",
        "description": "Create guided setup commands using AskUserQuestion for complex configuration with multiple options",
        "target_user": "Plugin authors providing user-friendly onboarding"
      },
      {
        "title": "Testing Automation",
        "description": "Run tests with specific arguments, analyze results, and suggest fixes for failures",
        "target_user": "QA engineers and developers running frequent test suites"
      },
      {
        "title": "Plugin-Based Tools",
        "description": "Build commands that leverage plugin scripts, templates, and resources using CLAUDE_PLUGIN_ROOT",
        "target_user": "Plugin developers creating distributable command sets"
      }
    ],
    "prompt_templates": [
      {
        "title": "Simple Code Review Command",
        "prompt": "Create a slash command that reviews code for quality and security issues",
        "scenario": "Quick code review without arguments"
      },
      {
        "title": "File-Specific Analysis",
        "prompt": "Create a command that takes a file path as argument and generates comprehensive documentation for it",
        "scenario": "Document specific files with /document [file-path]"
      },
      {
        "title": "Deployment Command",
        "prompt": "Create a deployment command that takes environment and version arguments, validates them, and deploys using configuration files",
        "scenario": "Safe deployment with /deploy [environment] [version]"
      },
      {
        "title": "Interactive Setup Wizard",
        "prompt": "Create a command that uses AskUserQuestion to guide users through configuring a plugin with multiple options",
        "scenario": "User-friendly plugin configuration"
      },
      {
        "title": "Git Workflow Command",
        "prompt": "Create a command that shows git status, recent commits, and suggests next actions",
        "scenario": "Git repository status and guidance"
      }
    ],
    "output_examples": [
      {
        "input": "User invokes: /review",
        "output": "Command reads current codebase and provides structured review covering code quality, potential issues, and best practices with specific file and line references"
      },
      {
        "input": "User invokes: /deploy staging v1.2.3",
        "output": "Command validates arguments, loads staging configuration, executes deployment scripts, and reports status with verification steps"
      },
      {
        "input": "User invokes: /document src/api/users.ts",
        "output": "Command reads the file and generates comprehensive documentation including function signatures, parameters, return values, usage examples, and implementation notes"
      }
    ],
    "best_practices": [
      "Write commands as instructions FOR Claude (agent consumption), not messages TO users",
      "Use single responsibility principle - one command does one thing well",
      "Always provide argument-hint when commands accept arguments",
      "Use most restrictive allowed-tools setting possible for security",
      "Validate inputs early with helpful error messages",
      "Use CLAUDE_PLUGIN_ROOT for all plugin-internal paths",
      "Document command purpose, usage, and requirements in comments",
      "Choose appropriate model (haiku for speed, sonnet for balance, opus for complexity)",
      "Test commands across different environments and edge cases",
      "Organize commands with namespaces when you have 15+ commands",
      "Provide clear descriptions under 60 characters for /help display",
      "Handle missing or invalid arguments gracefully with helpful guidance"
    ],
    "anti_patterns": [
      "Writing commands as messages to users instead of instructions for Claude",
      "Using relative paths instead of CLAUDE_PLUGIN_ROOT in plugin commands",
      "Allowing all tools (*) when specific tool restrictions would be safer",
      "Hardcoding file paths that won't work across installations",
      "Creating overly generic command names that conflict with common usage",
      "Forgetting to validate required arguments before processing",
      "Using bash execution without allowed-tools permission",
      "Making commands too complex instead of breaking into smaller commands",
      "Omitting argument-hint when commands accept parameters",
      "Not handling edge cases like missing files or invalid inputs"
    ],
    "faq": [
      {
        "question": "What's the difference between $ARGUMENTS and $1, $2?",
        "answer": "$ARGUMENTS captures all arguments as a single string, while $1, $2, $3 capture individual positional arguments. Use $ARGUMENTS for simple substitution and positional arguments when you need to handle each separately."
      },
      {
        "question": "How do I reference files in commands?",
        "answer": "Use @ syntax: @path/to/file or @$1 to reference files via arguments. This loads file contents before Claude processes the command."
      },
      {
        "question": "When should I use bash execution in commands?",
        "answer": "Use bash execution (!`command`) to gather dynamic context like git status, environment info, or file listings. Requires allowed-tools: Bash(command:*) permission."
      },
      {
        "question": "What is CLAUDE_PLUGIN_ROOT and when do I use it?",
        "answer": "CLAUDE_PLUGIN_ROOT is an environment variable that resolves to your plugin's absolute path. Use it in plugin commands to reference scripts, templates, and configs: ${CLAUDE_PLUGIN_ROOT}/scripts/analyze.js"
      },
      {
        "question": "How do I create interactive commands with user input?",
        "answer": "Use the AskUserQuestion tool within commands to present multiple-choice questions with 2-4 options, support for multi-select, and custom text input. Great for complex configuration or decision points."
      },
      {
        "question": "Should I use haiku, sonnet, or opus model?",
        "answer": "Use haiku for fast, simple commands; sonnet (default) for standard workflows; opus for complex analysis or architectural decisions. Omit the field to inherit conversation settings."
      },
      {
        "question": "How do I organize many commands?",
        "answer": "For 5-15 commands, use flat structure in .claude/commands/. For 15+ commands, organize in subdirectories (namespaces) like commands/ci/, commands/git/, commands/docs/."
      },
      {
        "question": "Can commands work with plugin agents and skills?",
        "answer": "Yes! Commands can launch plugin agents for complex tasks and reference skills for specialized knowledge. Just mention the agent/skill name and Claude will use the Task tool to invoke them."
      },
      {
        "question": "How do I validate command arguments?",
        "answer": "Use bash validation (!`echo \"$1\" | grep pattern`), inline conditionals, or script-based checks. Always provide helpful error messages explaining valid options and proper usage."
      },
      {
        "question": "Where should I put commands for my team vs personal use?",
        "answer": "Team/project commands go in .claude/commands/ (shared via git). Personal commands go in ~/.claude/commands/ (available everywhere). Plugin commands go in plugin-name/commands/."
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Claude Code installed",
        "Bash shell (for bash execution features)",
        "File system access (for file references)",
        "Git (for git-related command examples)"
      ],
      "permissions": [
        "Read access to command directories",
        "Bash tool permission (for commands using !` syntax)",
        "Read tool permission (for @ file references)",
        "AskUserQuestion tool (for interactive commands)",
        "Task tool (for agent/skill integration)"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "plugin-commands.md",
          "type": "file",
          "path": "examples/plugin-commands.md"
        },
        {
          "name": "simple-commands.md",
          "type": "file",
          "path": "examples/simple-commands.md"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "advanced-workflows.md",
          "type": "file",
          "path": "references/advanced-workflows.md"
        },
        {
          "name": "documentation-patterns.md",
          "type": "file",
          "path": "references/documentation-patterns.md"
        },
        {
          "name": "frontmatter-reference.md",
          "type": "file",
          "path": "references/frontmatter-reference.md"
        },
        {
          "name": "interactive-commands.md",
          "type": "file",
          "path": "references/interactive-commands.md"
        },
        {
          "name": "marketplace-considerations.md",
          "type": "file",
          "path": "references/marketplace-considerations.md"
        },
        {
          "name": "plugin-features-reference.md",
          "type": "file",
          "path": "references/plugin-features-reference.md"
        },
        {
          "name": "testing-strategies.md",
          "type": "file",
          "path": "references/testing-strategies.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}