{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-09T15:02:37.375Z",
    "slug": "writing-hookify-rules",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/hookify/skills/writing-rules",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "a084a1868d4d9431d6b6f7845a5695e73bd0aafa9faf7ffff6c7dd5a81cbb693",
    "tree_hash": "6f9cfd729fa47600e6c572a1df0342b9b8990942eade010a136dbbafe5432a5b"
  },
  "skill": {
    "name": "Writing Hookify Rules",
    "description": "This skill should be used when the user asks to \"create a hookify rule\", \"write a hook rule\", \"configure hookify\", \"add a hookify rule\", or needs guidance on hookify rule syntax and patterns.",
    "summary": "This skill should be used when the user asks to \"create a hookify rule\", \"write a hook rule\", \"confi...",
    "icon": "ü™ù",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "hookify",
      "rules",
      "patterns",
      "claude-code",
      "configuration"
    ],
    "supported_tools": [
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic documentation skill containing only markdown content. No executable code, scripts, network operations, or filesystem access. Pure educational content for creating Hookify rules in Claude Code.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 375,
    "audit_model": "claude",
    "audited_at": "2026-01-09T15:02:37.375Z"
  },
  "content": {
    "user_title": "Create Hookify Rules for Claude Code",
    "value_statement": "Claude Code executes commands and edits files automatically. Hookify rules let you add custom checks to warn about or block dangerous patterns before they run. Create rules that match bash commands, file edits, prompts, or agent stop events.",
    "seo_keywords": [
      "Hookify rules",
      "Claude Code",
      "Claude Code rules",
      "pattern matching",
      "command filtering",
      "file edit safety",
      "agent hooks",
      "custom rules",
      "Claude Code configuration",
      "Hookify syntax"
    ],
    "actual_capabilities": [
      "Create markdown files with YAML frontmatter to define custom Hookify rules",
      "Match patterns against bash commands, file edits, user prompts, or agent stop events",
      "Configure warn or block actions when patterns match",
      "Use simple regex patterns or advanced multi-condition rules with field operators",
      "Write effective warning messages that explain detected patterns and suggest alternatives"
    ],
    "limitations": [
      "Rules apply only to Claude Code, not to other Claude products",
      "Pattern matching uses Python regex syntax only",
      "Rules are read dynamically but require a new tool invocation to trigger",
      "Cannot execute code or make network requests directly"
    ],
    "use_cases": [
      {
        "target_user": "Security teams",
        "title": "Block dangerous commands",
        "description": "Create rules that detect and block dangerous bash commands like rm -rf, sudo usage, or chmod 777 before execution"
      },
      {
        "target_user": "Development leads",
        "title": "Enforce coding standards",
        "description": "Set up rules that warn when developers add console.log statements, eval(), or other prohibited patterns"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Protect sensitive files",
        "description": "Configure rules that alert when editing .env files, credentials, or other sensitive configuration files"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create basic warn rule",
        "scenario": "Block dangerous rm command",
        "prompt": "Create a Hookify rule named warn-dangerous-rm that watches bash events, matches rm -rf patterns, and shows a warning message"
      },
      {
        "title": "Block console logs",
        "scenario": "Prevent console.log in production",
        "prompt": "Create a Hookify rule that blocks console.log additions to TypeScript files in the src directory"
      },
      {
        "title": "Multi-condition rule",
        "scenario": "Protect environment files",
        "prompt": "Write a Hookify rule with multiple conditions that warns when editing .env files that contain API_KEY patterns"
      },
      {
        "title": "Stop event checklist",
        "scenario": "Verify completion before exit",
        "prompt": "Create a Hookify stop event rule that shows a checklist asking about tests, build status, and documentation before the agent stops"
      }
    ],
    "output_examples": [
      {
        "input": "Create a Hookify rule that warns about dangerous rm commands",
        "output": [
          "Rule file: .claude/hookify.warn-dangerous-rm.local.md",
          "This rule triggers on bash events matching: rm\\s+-rf",
          "When triggered, shows warning message with alternatives",
          "Action: warn (allows command but shows guidance)"
        ]
      }
    ],
    "best_practices": [
      "Use descriptive rule names with kebab-case like warn-console-log or block-dangerous-rm",
      "Test regex patterns with Python regex tester or online tools before creating rules",
      "Add rules to .gitignore as .claude/*.local.md to prevent committing project-specific rules"
    ],
    "anti_patterns": [
      "Using overly broad patterns like 'log' that match unintended text like login or catalog",
      "Creating rules without clear warning messages that explain what was detected and why",
      "Forgetting to escape special regex characters like dots, parentheses, and brackets"
    ],
    "faq": [
      {
        "question": "What event types can Hookify rules match?",
        "answer": "Rules can match bash commands, file edits, user prompts, agent stop events, or all events combined."
      },
      {
        "question": "How many conditions can a rule have?",
        "answer": "Rules support multiple conditions using the conditions array. All conditions must match for the rule to trigger."
      },
      {
        "question": "Can I use Hookify rules with other Claude products?",
        "answer": "No. Hookify is a feature specific to Claude Code and does not work with Claude, Codex, or other Claude products."
      },
      {
        "question": "Are my Hookify rules stored securely?",
        "answer": "Rules are stored as local markdown files in the .claude directory. Add them to .gitignore for project-specific rules."
      },
      {
        "question": "Why is my new rule not triggering?",
        "answer": "Rules are read dynamically but only trigger on the next tool use after the rule file is created or modified."
      },
      {
        "question": "What is the difference between warn and block actions?",
        "answer": "Warn shows a message but allows the operation. Block prevents the operation for PreToolUse events or stops the session for Stop events."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
