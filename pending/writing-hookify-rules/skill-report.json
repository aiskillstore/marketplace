{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-30T09:29:51.528Z",
    "slug": "writing-hookify-rules",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/hookify/skills/writing-rules",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "Writing Hookify Rules",
    "description": "This skill should be used when the user asks to \"create a hookify rule\", \"write a hook rule\", \"configure hookify\", \"add a hookify rule\", or needs guidance on hookify rule syntax and patterns.",
    "summary": "This skill should be used when the user asks to \"create a hookify rule\", \"write a hook rule\", \"confi...",
    "icon": "⚙️",
    "version": "0.1.0",
    "author": "Anthropic",
    "license": "Not specified",
    "category": "automation",
    "tags": [
      "hookify",
      "rules",
      "patterns",
      "automation",
      "safety",
      "code-quality",
      "configuration",
      "regex"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is an official Anthropic skill that provides documentation for writing Hookify rules. It contains no executable code, only markdown documentation with examples and best practices for pattern matching and rule creation.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 375,
    "audit_model": "claude",
    "audited_at": "2025-12-30T09:29:51.528Z"
  },
  "content": {
    "user_title": "Hookify Rule Writing Guide",
    "value_statement": "This skill teaches you how to create custom Hookify rules that automatically warn or block Claude from performing dangerous operations, helping maintain code quality and prevent mistakes.",
    "seo_keywords": [
      "hookify",
      "rules",
      "patterns",
      "regex",
      "bash safety",
      "code quality",
      "automation",
      "claude configuration",
      "hooks",
      "guards"
    ],
    "actual_capabilities": [
      "Explains the complete Hookify rule file format with YAML frontmatter",
      "Provides regex patterns for common security and quality issues",
      "Shows how to create rules for different event types (bash, file, stop, prompt)",
      "Demonstrates simple single-pattern rules and complex multi-condition rules",
      "Includes examples for blocking dangerous commands, warning about debug code, and enforcing checklists",
      "Explains all available operators and fields for pattern matching",
      "Provides testing tips and common regex pitfalls to avoid"
    ],
    "limitations": [
      "Only provides documentation; does not execute or validate rules directly",
      "Assumes user has basic understanding of regex syntax",
      "Does not include interactive rule testing functionality",
      "Limited to Hookify plugin capabilities and event types"
    ],
    "use_cases": [
      {
        "title": "Prevent Dangerous Bash Commands",
        "description": "Create rules that block or warn when Claude attempts to run risky commands like 'rm -rf', 'sudo', or 'chmod 777', preventing accidental system damage.",
        "target_user": "Developers who want to add safety guardrails to Claude's terminal operations"
      },
      {
        "title": "Enforce Code Quality Standards",
        "description": "Set up rules to detect console.log, eval(), innerHTML assignments, or other problematic patterns in code edits, maintaining clean production code.",
        "target_user": "Teams implementing code review automation and quality gates"
      },
      {
        "title": "Protect Sensitive Files",
        "description": "Create warnings when Claude attempts to edit .env files, credentials, or other sensitive configuration files, ensuring security awareness.",
        "target_user": "Security-conscious developers working with sensitive data"
      },
      {
        "title": "Task Completion Checklists",
        "description": "Use stop event rules to remind Claude to verify tests, builds, and documentation before marking tasks complete.",
        "target_user": "Project managers and developers enforcing process compliance"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create a Dangerous Command Blocker",
        "prompt": "Create a hookify rule that blocks any rm -rf commands and warns about the danger",
        "scenario": "When you want to prevent accidental deletion of files or directories"
      },
      {
        "title": "Warn About Console Logs",
        "prompt": "Write a hookify rule that warns me when console.log is added to TypeScript files",
        "scenario": "When maintaining code quality in a TypeScript project"
      },
      {
        "title": "Protect Environment Files",
        "prompt": "Add a hookify rule to warn when .env files are being edited with API keys",
        "scenario": "When working with sensitive configuration that shouldn't be committed"
      },
      {
        "title": "Completion Checklist",
        "prompt": "Create a hookify stop rule that reminds me to run tests and update documentation",
        "scenario": "When enforcing a completion process before finishing tasks"
      }
    ],
    "output_examples": [
      {
        "input": "Create a hookify rule that blocks rm -rf commands",
        "output": "Creates .claude/hookify.dangerous-rm.local.md with pattern 'rm\\s+-rf', action: block, and warning message about preventing accidental deletion"
      },
      {
        "input": "Write a rule to warn about console.log in JavaScript files",
        "output": "Creates hookify rule with event: file, conditions checking for .js/.ts file_path and console.log pattern in new_text, with helpful message about using proper logging"
      }
    ],
    "best_practices": [
      "Use descriptive kebab-case names starting with verbs (warn-, block-, require-)",
      "Test regex patterns using Python or online testers before deploying",
      "Use unquoted patterns in YAML to avoid double-backslash escaping issues",
      "Write clear, actionable messages explaining what was detected and why it matters",
      "Store all rules in .claude/ directory with .local.md extension",
      "Add .claude/*.local.md to .gitignore for project-specific rules",
      "Use multiple conditions for complex scenarios requiring field-specific matching",
      "Set enabled: false to temporarily disable rules without deleting them"
    ],
    "anti_patterns": [
      "Creating overly broad patterns that match unintended content (e.g., 'log' matching 'login', 'dialog')",
      "Using overly specific patterns that miss variations (e.g., exact paths instead of pattern matching)",
      "Forgetting to escape special regex characters like dots, parentheses, and brackets",
      "Using vague rule names like 'rule1' or 'test' instead of descriptive identifiers",
      "Omitting the .local suffix from rule filenames",
      "Not testing rules immediately after creation to verify they work as intended"
    ],
    "faq": [
      {
        "question": "Where should Hookify rule files be stored?",
        "answer": "All rules should be stored in the .claude/ directory at the project root with the naming pattern .claude/hookify.{descriptive-name}.local.md"
      },
      {
        "question": "What's the difference between 'warn' and 'block' actions?",
        "answer": "The 'warn' action shows a message but allows the operation to proceed (default behavior), while 'block' prevents the operation entirely for PreToolUse events or stops the session for Stop events."
      },
      {
        "question": "When do rule changes take effect?",
        "answer": "Rules are read dynamically, so changes take effect immediately on the next tool use without needing to restart Claude."
      },
      {
        "question": "Can I match multiple conditions in a single rule?",
        "answer": "Yes, use the conditions array format with field, operator, and pattern. All conditions must match for the rule to trigger."
      },
      {
        "question": "What event types are available?",
        "answer": "Five event types: 'bash' (Bash commands), 'file' (Edit/Write operations), 'stop' (completion checks), 'prompt' (user input), and 'all' (matches all events)."
      },
      {
        "question": "How do I test my regex patterns?",
        "answer": "Use Python's re module with: python3 -c \"import re; print(re.search(r'your_pattern', 'test text'))\" or use online regex testers with Python flavor like regex101.com"
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Hookify plugin for Claude Code"
      ],
      "permissions": [
        "File system access to .claude/ directory"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}