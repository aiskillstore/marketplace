{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:53:33.660Z",
    "slug": "aayushbaniya2006-db-handler",
    "source_url": "https://github.com/AayushBaniya2006/blinkfund/tree/main/.claude/skills/db-handler",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "6e3fdc96c5b22d97d5616ba33b9dafbaca887bdd24eec6467086b25e3baea24a",
    "tree_hash": "1529dbf48132d2edc6d2bbcfaed2a7435901c685d70b0cbf9cbe4279708dbeea"
  },
  "skill": {
    "name": "db-handler",
    "description": "Manage database schemas, Drizzle ORM, migrations, and data modeling. Use when creating tables, modifying columns, or planning database changes.",
    "summary": "Manage database schemas, Drizzle ORM, migrations, and data modeling. Use when creating tables, modif...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "AayushBaniya2006",
    "license": "MIT",
    "category": "data",
    "tags": [
      "database",
      "drizzle-orm",
      "schema",
      "postgresql",
      "migration"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based skill with no executable code. Contains only documentation and TypeScript code patterns for Drizzle ORM. No network calls, no file system access beyond its own files, and no capability to execute commands directly.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 116,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:53:33.660Z"
  },
  "content": {
    "user_title": "Manage database schemas and Drizzle ORM patterns",
    "value_statement": "Managing database schemas manually leads to inconsistencies and performance issues. This skill provides proven patterns for Drizzle ORM schema definition, migrations, and query optimization to ensure robust and efficient database operations.",
    "seo_keywords": [
      "database schema",
      "Drizzle ORM",
      "PostgreSQL",
      "table creation",
      "database migration",
      "schema optimization",
      "Claude",
      "Codex",
      "Claude Code",
      "relational queries"
    ],
    "actual_capabilities": [
      "Create database tables with Drizzle ORM pgTable definitions",
      "Add indexes for Foreign Keys and frequently filtered columns",
      "Define table relations using Drizzle relations API",
      "Prevent N+1 query problems with relational queries and joins",
      "Use Zod schemas for JSONB column type safety",
      "Modify columns with nullable defaults for safe migrations"
    ],
    "limitations": [
      "Does not execute database migrations automatically",
      "Does not connect to databases directly",
      "Does not generate production migration files",
      "Focused specifically on Drizzle ORM patterns"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Set up database schemas",
        "description": "Create new tables with proper indexes, relations, and type safety following consistent patterns."
      },
      {
        "target_user": "Data engineers",
        "title": "Optimize query performance",
        "description": "Prevent N+1 queries and add indexes for Foreign Keys and filter columns to improve query speed."
      },
      {
        "target_user": "Full-stack teams",
        "title": "Prototype database structures",
        "description": "Rapidly iterate on schema designs using drizzle-kit push for quick development feedback."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create user table",
        "scenario": "Define a new user table",
        "prompt": "Create a users table in src/db/schema/users.ts with id, email, name, role, createdAt, and settings JSONB column. Add proper indexes and relations."
      },
      {
        "title": "Add relation",
        "scenario": "Link tables together",
        "prompt": "Add a posts table that references the users table. Define the relation in both tables using Drizzle relations API."
      },
      {
        "title": "Optimize queries",
        "scenario": "Fix N+1 performance issues",
        "prompt": "Show me how to fetch a user with all their posts efficiently using Drizzle query builder with() syntax."
      },
      {
        "title": "Modify schema",
        "scenario": "Add new column safely",
        "prompt": "Add a nullable phone number column to the users table. Show me the migration approach using drizzle-kit push."
      }
    ],
    "output_examples": [
      {
        "input": "Create a products table with name, price, category, and status",
        "output": [
          "Created src/db/schema/products.ts with pgTable definition",
          "Added id (UUID), createdAt, updatedAt timestamps",
          "Added indexes on categoryId FK and status column",
          "Exported relations for product categories",
          "Included Zod schema for validated JSONB settings"
        ]
      }
    ],
    "best_practices": [
      "Always add indexes on Foreign Keys and frequently filtered columns to prevent performance degradation",
      "Use Drizzle's Relational Query API with with() instead of fetching related data in loops",
      "Export enums as constants and let consumers infer types rather than exporting inferred types"
    ],
    "anti_patterns": [
      "Fetching related data inside loops causes N+1 query performance problems",
      "Breaking changes without nullable defaults or defaults can cause migration failures",
      "Skipping indexes on Foreign Keys makes join queries significantly slower at scale"
    ],
    "faq": [
      {
        "question": "What databases does this skill support?",
        "answer": "This skill focuses on PostgreSQL with Drizzle ORM, which supports PostgreSQL, MySQL, and SQLite databases."
      },
      {
        "question": "What are the index limits per table?",
        "answer": "PostgreSQL supports many indexes per table. Focus on Foreign Keys, filter columns, and sort columns for best results."
      },
      {
        "question": "How does this integrate with existing code?",
        "answer": "Follow the file location patterns in reference.md. Export schemas from src/db/schema/index.ts for consistent imports."
      },
      {
        "question": "Is my data safe when using these patterns?",
        "answer": "Yes. The skill only generates schema definitions. No data is modified without explicit user confirmation on migrations."
      },
      {
        "question": "Why is drizzle-kit push recommended over generate?",
        "answer": "Push syncs schema directly to database for prototyping. Use generate for production migrations with version control."
      },
      {
        "question": "How does this compare to Prisma or TypeORM?",
        "answer": "Drizzle provides more direct SQL access, lighter weight, and TypeScript-first design with fewer abstractions."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference.md",
      "type": "file",
      "path": "reference.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
