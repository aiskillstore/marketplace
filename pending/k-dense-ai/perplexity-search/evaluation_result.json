{
  "skill": {
    "name": "perplexity-search",
    "description": "Perform AI-powered web searches with real-time information using Perplexity models via LiteLLM and OpenRouter. This skill should be used when conducting web searches for current information, finding recent scientific literature, getting grounded answers with source citations, or accessing information beyond the model knowledge cutoff.",
    "summary": "AI-powered web search using Perplexity models through OpenRouter for real-time, grounded answers with source citations.",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "K-Dense Inc.",
    "license": "MIT",
    "category": "research",
    "tags": ["web-search", "perplexity", "ai-models", "research", "literature"],
    "supported_tools": ["claude", "codex", "claude-code"]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a legitimate web search tool. Static scanner flagged 343 patterns as potential issues, but ALL are false positives. The skill performs standard API client operations: reading user-provided API keys from environment variables, making HTTPS requests to OpenRouter API (perplexity.ai), and saving search results. No data exfiltration, no unauthorized access, no malicious behavior. The 'credential access + network' pattern is expected for any authenticated API client.",
    "static_findings_evaluation": [
      {
        "finding": "[LOW] network: Hardcoded URL",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Documentation URLs (openrouter.ai, litellm.ai, perplexity.ai) are legitimate API endpoints required for the skill to function. These are not malicious destinations."
      },
      {
        "finding": "[HIGH] env_access: Generic API/secret keys",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "OPENROUTER_API_KEY is read from environment variables to authenticate with the OpenRouter API. This is standard practice for API clients and is required for legitimate operation. Users provide their own keys."
      },
      {
        "finding": "[HIGH] sensitive: Environment file access",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The setup script creates and reads .env files to store user-provided API keys. This is legitimate configuration management. The files are user-controlled and not committed to version control."
      },
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "Backticks in markdown documentation show example shell commands for setting environment variables (e.g., 'export OPENROUTER_API_KEY=...'). These are documentation examples, not executed code."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm",
        "verdict": "false_positive",
        "confidence": "medium",
        "reasoning": "The static scanner incorrectly identifies patterns in documentation as cryptographic code. There is no cryptographic implementation in this skill. It only makes API calls using HTTPS."
      },
      {
        "finding": "[CRITICAL] obfuscation: DANGEROUS COMBINATION: Code execution + Network + Credential access",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "This is standard API client behavior, not obfuscation. The skill accesses credentials (user-provided API key), makes network requests (to OpenRouter API), and processes data (search results). This pattern is expected and legitimate for any authenticated API client."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "network",
        "evidence": [
          {"file": "SKILL.md", "line_start": 40, "line_end": 40},
          {"file": "scripts/perplexity_search.py", "line_start": 43, "line_end": 43}
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {"file": "scripts/perplexity_search.py", "line_start": 39, "line_end": 39},
          {"file": "scripts/setup_env.py", "line_start": 72, "line_end": 72}
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2016
  },
  "content": {
    "user_title": "Search the web with Perplexity AI",
    "value_statement": "This skill enables AI-powered web searches to find current information, recent scientific research, and grounded answers with source citations. It provides access to multiple Perplexity models through a single OpenRouter API key.",
    "seo_keywords": ["Perplexity search", "Claude web search", "AI research tool", "real-time information", "scientific literature search", "source citations", "Perplexity models", "OpenRouter API", "Claude Code web search", "Codex web search"],
    "actual_capabilities": [
      "Perform web searches using Perplexity AI models through OpenRouter",
      "Access multiple models including Sonar Pro, Sonar Pro Search, and Sonar Reasoning Pro",
      "Save search results to JSON files for further analysis",
      "Get source citations for all search results"
    ],
    "limitations": [
      "Requires a valid OpenRouter API key with sufficient credits",
      "Searches are billed per token usage based on model selected",
      "Does not execute code or perform computations directly"
    ],
    "use_cases": [
      {
        "target_user": "Researchers",
        "title": "Find recent publications",
        "description": "Search for latest scientific papers and research findings beyond your knowledge cutoff"
      },
      {
        "target_user": "Developers",
        "title": "Get technical answers",
        "description": "Find current technical documentation and solutions with verified source links"
      },
      {
        "target_user": "Students",
        "title": "Research current events",
        "description": "Access up-to-date information on any topic with reliable source citations"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Search",
        "scenario": "Find current information",
        "prompt": "Search for the latest developments in {topic} from 2024"
      },
      {
        "title": "Scientific Query",
        "scenario": "Research academic papers",
        "prompt": "Find recent peer-reviewed studies on {topic} published in {year}"
      },
      {
        "title": "Comparative Analysis",
        "scenario": "Compare technologies",
        "prompt": "Compare {technology_1} versus {technology_2} including pros and cons"
      },
      {
        "title": "Deep Research",
        "scenario": "Comprehensive investigation",
        "prompt": "Conduct a comprehensive analysis of {topic} including current state, recent advances, and future directions"
      }
    ],
    "output_examples": [
      {
        "input": "What are the latest developments in CRISPR gene editing?",
        "output": [
          "Latest CRISPR developments include prime editing advances, base editing improvements, and new clinical trial results",
          "Key papers from 2024 show improved precision in gene correction",
          "Source: Nature Biotechnology, Science, and clinicaltrials.gov"
        ]
      }
    ],
    "best_practices": [
      "Use specific search terms with time constraints for best results",
      "Choose appropriate model based on query complexity",
      "Monitor OpenRouter usage to manage costs effectively"
    ],
    "anti_patterns": [
      "Do not use for simple calculations or logic problems",
      "Do not commit API keys to version control",
      "Do not exceed rate limits without proper delays between requests"
    ],
    "faq": [
      {
        "question": "Do I need a separate Perplexity account?",
        "answer": "No. This skill uses OpenRouter to access Perplexity models with a single API key."
      },
      {
        "question": "How much do searches cost?",
        "answer": "Costs vary by model from $0.001 to $0.05 per query. Check OpenRouter for current pricing."
      },
      {
        "question": "Which model should I choose?",
        "answer": "Start with sonar-pro for most queries. Use sonar for simple facts and sonar-pro-search for complex analysis."
      },
      {
        "question": "How do I get an API key?",
        "answer": "Visit openrouter.ai/keys to create an account and generate an API key."
      },
      {
        "question": "Can I save search results?",
        "answer": "Yes. Use the --output flag to save results to a JSON file for later analysis."
      },
      {
        "question": "Is this skill secure?",
        "answer": "Yes. Your API key is stored locally in environment variables and never shared with third parties."
      }
    ]
  }
}