{
  "skill": {
    "name": "scvi-tools",
    "description": "Deep generative models for single-cell omics. Use when you need probabilistic batch correction (scVI), transfer learning, differential expression with uncertainty, or multi-modal integration (TOTALVI, MultiVI). Best for advanced modeling, batch effects, multimodal data. For standard analysis pipelines use scanpy.",
    "summary": "Deep generative models for single-cell genomics analysis",
    "icon": "ðŸ”¬",
    "version": "1.1.0",
    "author": "K-Dense Inc.",
    "license": "BSD-3-Clause",
    "category": "data",
    "tags": ["single-cell", "genomics", "machine-learning", "bioinformatics"],
    "supported_tools": ["claude", "codex", "claude-code"]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 382 static findings are false positives. The analyzer incorrectly flagged markdown documentation containing Python code examples and mathematical formulas. This is a legitimate scientific computing skill for single-cell genomics with no malicious patterns.",
    "static_findings_evaluation": [
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at references/differential-expression.md:21",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The analyzer flagged mathematical notation `log(Î¼_B) - log(Î¼_A)` as shell backtick execution. This is probability notation in scientific documentation, not code execution."
      },
      {
        "finding": "[MEDIUM] external_commands: Ruby/shell backtick execution at references/models-scrna-seq.md:45",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The analyzer flagged Python code examples in markdown documentation as shell commands. These are legitimate scvi-tools usage examples, not executable code with security implications."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at references/theoretical-foundations.md:15",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The analyzer flagged probability notation `p(z|x)` as weak cryptographic algorithm. This is variational inference notation, not cryptography. scvi-tools is a bioinformatics library, not a crypto tool."
      },
      {
        "finding": "[HIGH] blocker: Weak cryptographic algorithm at SKILL.md:3",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The analyzer flagged probability formulas as crypto. These are mathematical formulas describing deep generative models for single-cell analysis."
      },
      {
        "finding": "[LOW] network: Hardcoded URL at SKILL.md:167",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The hardcoded URL points to official scvi-tools documentation (docs.scvi-tools.org). This is legitimate documentation reference, not credential exfiltration or malicious endpoint."
      },
      {
        "finding": "[LOW] blocker: System reconnaissance at SKILL.md:185",
        "verdict": "false_positive",
        "confidence": "high",
        "reasoning": "The analyzer flagged benign best practices documentation as system reconnaissance. This is standard bioinformatics workflow guidance, not reconnaissance activity."
      }
    ],
    "risk_factor_evidence": [
      {
        "factor": "documentation",
        "evidence": [
          {"file": "SKILL.md", "line_start": 1, "line_end": 189},
          {"file": "references/differential-expression.md", "line_start": 1, "line_end": 533},
          {"file": "references/models-scrna-seq.md", "line_start": 1, "line_end": 283},
          {"file": "references/theoretical-foundations.md", "line_start": 1, "line_end": 305}
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 9,
    "total_lines": 3627
  },
  "content": {
    "user_title": "Analyze single-cell genomics data",
    "value_statement": "Single-cell genomics analysis requires specialized probabilistic models. scvi-tools provides deep generative models for batch correction, differential expression, and multi-modal integration of single-cell data.",
    "seo_keywords": [
      "scvi-tools",
      "single-cell analysis",
      "single-cell RNA-seq",
      "batch correction",
      "variational inference",
      "bioinformatics",
      "scVI",
      "totalVI",
      "MultiVI",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Perform batch correction and integration of single-cell RNA-seq data using scVI",
      "Conduct differential expression analysis with uncertainty quantification",
      "Integrate multimodal data using TOTALVI and MultiVI",
      "Analyze spatial transcriptomics with deconvolution methods",
      "Train custom deep generative models for single-cell analysis"
    ],
    "limitations": [
      "Requires raw count data in AnnData format",
      "Needs sufficient computational resources for large datasets",
      "GPU recommended but not required for basic usage"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatics researchers",
        "title": "Batch effect correction",
        "description": "Remove technical variation across experimental batches to enable integrated analysis of multiple datasets."
      },
      {
        "target_user": "Genomic scientists",
        "title": "Multi-omic integration",
        "description": "Jointly analyze protein and RNA expression from CITE-seq data using TOTALVI."
      },
      {
        "target_user": "Computational biologists",
        "title": "Spatial transcriptomics",
        "description": "Map cell types to spatial locations and deconvolve spot-based spatial transcriptomics data."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic scVI workflow",
        "scenario": "Load and train scVI model",
        "prompt": "Show me how to load single-cell RNA-seq data and train an scVI model for batch correction in scvi-tools."
      },
      {
        "title": "Differential expression",
        "scenario": "Find differentially expressed genes",
        "prompt": "Use scvi-tools to perform differential expression analysis between T cells and B cells with uncertainty quantification."
      },
      {
        "title": "Multi-modal integration",
        "scenario": "Integrate CITE-seq data",
        "prompt": "Train a TOTALVI model on CITE-seq data to jointly analyze protein and RNA expression."
      },
      {
        "title": "Advanced workflows",
        "scenario": "Custom model training",
        "prompt": "Create a custom scvi-tools workflow with custom covariates and GPU acceleration for large-scale single-cell integration."
      }
    ],
    "output_examples": [
      {
        "input": "Show me how to use scVI for batch correction",
        "output": [
          "â€¢ Load data: adata = scvi.data.heart_cell_atlas_subsampled()",
          "â€¢ Preprocess: Filter genes with min_counts=3, select 1200 highly variable genes",
          "â€¢ Setup model: scvi.model.SCVI.setup_anndata(adata, layer='counts', batch_key='batch')",
          "â€¢ Train: model = scvi.model.SCVI(adata); model.train()",
          "â€¢ Extract: latent = model.get_latent_representation() for downstream analysis"
        ]
      }
    ],
    "best_practices": [
      "Always use raw, unnormalized count data as input to scvi-tools models",
      "Register all known technical covariates (batch, donor) during setup_anndata",
      "Save trained models regularly to avoid retraining on large datasets"
    ],
    "anti_patterns": [
      "Do not use log-normalized data; scvi-tools requires raw counts",
      "Do not skip feature selection; use highly variable genes for better performance",
      "Do not ignore batch effects; always register batch information when present"
    ],
    "faq": [
      {
        "question": "What is the difference between scVI and scanpy?",
        "answer": "scVI uses deep generative models for batch correction, while scanpy is for standard pipelines. scVI provides uncertainty quantification."
      },
      {
        "question": "Do I need a GPU for scvi-tools?",
        "answer": "No, scvi-tools works on CPU, but GPU significantly speeds up training on large datasets with millions of cells."
      },
      {
        "question": "What data format does scvi-tools require?",
        "answer": "scvi-tools requires AnnData objects with raw count data. Use layer='counts' when setting up the model."
      },
      {
        "question": "How do I interpret differential expression results?",
        "answer": "Results include lfc_mean (log fold-change), bayes_factor (evidence), and is_de_fdr_0.05 (significant calls with FDR control)."
      },
      {
        "question": "Can scvi-tools integrate data from different modalities?",
        "answer": "Yes, use TOTALVI for CITE-seq (RNA + protein) and MultiVI for paired/unpaired multi-omic integration."
      },
      {
        "question": "How do I save and load a trained model?",
        "answer": "Use model.save('./model_dir', overwrite=True) to save and scvi.model.SCVI.load('./model_dir', adata=adata) to reload."
      }
    ]
  }
}
