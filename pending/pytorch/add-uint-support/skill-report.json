{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-06T01:49:56.012Z",
    "slug": "pytorch-add-uint-support",
    "source_url": "https://github.com/pytorch/pytorch/tree/main/.claude/skills/add-uint-support",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "aa1619a8cd839fdaea05597965e71c60466b453e0fc78f0f5f3196b6bad4d0c7",
    "tree_hash": "0c238c2d4485833b9929050e00609419bbf8b66e76f1f679bfb3f9cfe25d4be6"
  },
  "skill": {
    "name": "add-uint-support",
    "description": "Add unsigned integer (uint) type support to PyTorch operators by updating AT_DISPATCH macros. Use when adding support for uint16, uint32, uint64 types to operators, kernels, or when user mentions enabling unsigned types, barebones unsigned types, or uint support.",
    "summary": "Add unsigned integer (uint) type support to PyTorch operators by updating AT_DISPATCH macros. Use wh...",
    "icon": "ðŸ”¢",
    "version": "1.0.0",
    "author": "pytorch",
    "license": "BSD-3-Clause",
    "category": "coding",
    "tags": [
      "pytorch",
      "cpp",
      "dispatch",
      "uint",
      "kernels"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only documentation with no executable code. It provides instructions for updating PyTorch AT_DISPATCH macros to support unsigned integer types. No security risks detected.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 320,
    "audit_model": "claude",
    "audited_at": "2026-01-06T01:49:56.012Z"
  },
  "content": {
    "user_title": "Add Unsigned Integer Support to PyTorch Operators",
    "value_statement": "PyTorch operators often lack support for unsigned integer types by default. This skill guides you through updating AT_DISPATCH macros to enable uint16, uint32, and uint64 support in your custom operators.",
    "seo_keywords": [
      "pytorch uint support",
      "unsigned integer dispatch",
      "AT_DISPATCH_V2",
      "pytorch kernels",
      "uint16 uint32 uint64",
      "claude code pytorch",
      "pytorch operator development",
      "AT_BAREBONES_UNSIGNED_TYPES",
      "codex pytorch"
    ],
    "actual_capabilities": [
      "Updates AT_DISPATCH_V2 macros to include unsigned integer types",
      "Converts AT_INTEGRAL_TYPES to AT_INTEGRAL_TYPES_V2 for uint support",
      "Adds AT_BAREBONES_UNSIGNED_TYPES to existing dispatch lists",
      "Handles multiple dispatch sites in a single file",
      "Preserves existing type coverage while adding uint support"
    ],
    "limitations": [
      "Only works with PyTorch's AT_DISPATCH_V2 macro format",
      "Requires manual verification of semantic compatibility",
      "Cannot add uint support to operators that only handle floating-point types",
      "Does not handle the older AT_DISPATCH macro format directly"
    ],
    "use_cases": [
      {
        "target_user": "PyTorch kernel developer",
        "title": "Enable uint support in custom CUDA kernels",
        "description": "Add unsigned integer type coverage to your custom CUDA operators for complete tensor type support."
      },
      {
        "target_user": "ML framework maintainer",
        "title": "Expand operator type coverage",
        "description": "Systematically add uint16, uint32, uint64 support across multiple operators in your codebase."
      },
      {
        "target_user": "Performance optimization engineer",
        "title": "Optimize for unsigned data pipelines",
        "description": "Enable native uint support for image processing and other unsigned data workflows."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic uint addition",
        "scenario": "Adding uint support to a simple operator",
        "prompt": "Add unsigned integer support to this PyTorch operator file. It currently uses AT_DISPATCH_V2 with AT_ALL_TYPES."
      },
      {
        "title": "Convert integral types",
        "scenario": "Upgrading from AT_INTEGRAL_TYPES to V2",
        "prompt": "This file uses AT_EXPAND(AT_INTEGRAL_TYPES) in its dispatch. Convert it to support unsigned integers using the V2 approach."
      },
      {
        "title": "Multiple dispatch sites",
        "scenario": "Handling complex operators with multiple kernels",
        "prompt": "Add uint support to all dispatch macros in this file. There are multiple AT_DISPATCH_V2 calls for CPU and CUDA versions."
      },
      {
        "title": "Check existing support",
        "scenario": "Verifying if uint support is already present",
        "prompt": "Check if this PyTorch operator already has unsigned integer support. Look for AT_BAREBONES_UNSIGNED_TYPES or AT_INTEGRAL_TYPES_V2."
      }
    ],
    "output_examples": [
      {
        "input": "Add uint support to my operator that currently uses AT_EXPAND(AT_ALL_TYPES)",
        "output": [
          "I'll update your operator to include unsigned integer support.",
          "",
          "Current: AT_EXPAND(AT_ALL_TYPES)",
          "Updated: AT_EXPAND(AT_ALL_TYPES), AT_EXPAND(AT_BAREBONES_UNSIGNED_TYPES)",
          "",
          "This adds support for kUInt16, kUInt32, and kUInt64 tensor types."
        ]
      }
    ],
    "best_practices": [
      "Always check if the operator semantically supports unsigned types before adding them",
      "Apply uint support consistently across all dispatch sites in the same file",
      "Use AT_INTEGRAL_TYPES_V2 when replacing AT_INTEGRAL_TYPES for cleaner code"
    ],
    "anti_patterns": [
      "Adding uint support to floating-point only operators",
      "Forgetting to update all dispatch macros in files with multiple kernels",
      "Mixing old AT_DISPATCH format with new uint type groups"
    ],
    "faq": [
      {
        "question": "Which unsigned types are added?",
        "answer": "The skill adds support for kUInt16, kUInt32, and kUInt64 tensor types through AT_BAREBONES_UNSIGNED_TYPES."
      },
      {
        "question": "Can I use this with old AT_DISPATCH macros?",
        "answer": "No, you must first convert to AT_DISPATCH_V2 format using the at-dispatch-v2 skill before adding uint support."
      },
      {
        "question": "Will this break existing functionality?",
        "answer": "No, it only adds new type support. Existing tensor types continue to work exactly as before."
      },
      {
        "question": "How do I verify the changes worked?",
        "answer": "Test your operator with uint16, uint32, and uint64 tensors to ensure they are processed correctly."
      },
      {
        "question": "What if my operator already has uint support?",
        "answer": "The skill checks for existing uint support and will skip files that already use AT_INTEGRAL_TYPES_V2 or AT_BAREBONES_UNSIGNED_TYPES."
      },
      {
        "question": "Are all operators compatible with unsigned integers?",
        "answer": "No, some mathematical operations may not make sense for unsigned types. Use judgment based on your operator's purpose."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
