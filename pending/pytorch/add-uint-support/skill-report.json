{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-06T04:23:11.550Z",
    "slug": "pytorch-add-uint-support",
    "source_url": "https://github.com/pytorch/pytorch/tree/main/.claude/skills/add-uint-support",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "aa1619a8cd839fdaea05597965e71c60466b453e0fc78f0f5f3196b6bad4d0c7",
    "tree_hash": "0c238c2d4485833b9929050e00609419bbf8b66e76f1f679bfb3f9cfe25d4be6"
  },
  "skill": {
    "name": "add-uint-support",
    "description": "Add unsigned integer (uint) type support to PyTorch operators by updating AT_DISPATCH macros. Use when adding support for uint16, uint32, uint64 types to operators, kernels, or when user mentions enabling unsigned types, barebones unsigned types, or uint support.",
    "summary": "Add unsigned integer (uint) type support to PyTorch operators by updating AT_DISPATCH macros. Use wh...",
    "icon": "ðŸ”¢",
    "version": "1.0.0",
    "author": "pytorch",
    "license": "BSD-3-Clause",
    "category": "coding",
    "tags": [
      "pytorch",
      "c++",
      "operators",
      "type-dispatch",
      "kernel-development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure prompt-based documentation skill with no executable code. Contains only markdown documentation for adding unsigned integer types to PyTorch operators. No file access, network calls, or code execution capabilities.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 320,
    "audit_model": "claude",
    "audited_at": "2026-01-06T04:23:11.550Z"
  },
  "content": {
    "user_title": "Add Unsigned Integer Support to Operators",
    "value_statement": "PyTorch operators may lack support for unsigned integer types like uint16, uint32, and uint64. This skill provides step-by-step guidance for updating AT_DISPATCH macros to enable unsigned type support in operator kernels.",
    "seo_keywords": [
      "PyTorch unsigned integer",
      "AT_DISPATCH_V2 macro",
      "uint16 uint32 uint64 support",
      "PyTorch kernel development",
      "AT_BAREBONES_UNSIGNED_TYPES",
      "type dispatch macros",
      "Claude Code",
      "Claude",
      "Codex",
      "PyTorch operator development"
    ],
    "actual_capabilities": [
      "Identifies AT_DISPATCH_V2 macro usage in PyTorch operator files",
      "Adds AT_BAREBONES_UNSIGNED_TYPES to expand type coverage",
      "Upgrades AT_INTEGRAL_TYPES to AT_INTEGRAL_TYPES_V2 for comprehensive unsigned support",
      "Handles multiple dispatch sites within a single file consistently",
      "Distinguishes between floating-point only operators and those needing integer support",
      "Validates that type groups are properly expanded with AT_EXPAND()"
    ],
    "limitations": [
      "Does not execute code or modify files without user confirmation",
      "Cannot add uint support to operators using old AT_DISPATCH format (requires at-dispatch-v2 skill first)",
      "Does not verify kernel implementation compatibility with unsigned types",
      "Only applies to C++ PyTorch operator code, not Python bindings"
    ],
    "use_cases": [
      {
        "target_user": "PyTorch kernel developers",
        "title": "Expand operator type coverage",
        "description": "Enable unsigned integer support in custom operator implementations for image processing or numerical computing"
      },
      {
        "target_user": "PyTorch contributors",
        "title": "Update existing operators",
        "description": "Add uint16, uint32, uint64 support to built-in operators that currently only support signed integers"
      },
      {
        "target_user": "ML infrastructure engineers",
        "title": "Enable unsigned tensor operations",
        "description": "Support unsigned tensor types for workflows involving unsigned data like image pixel values"
      }
    ],
    "prompt_templates": [
      {
        "title": "Add uint support",
        "scenario": "Basic unsigned type addition",
        "prompt": "Use the add-uint-support skill to add unsigned integer support to the operator in [FILE_PATH]"
      },
      {
        "title": "Enable barebones unsigned",
        "scenario": "Specific unsigned type expansion",
        "prompt": "Add AT_BAREBONES_UNSIGNED_TYPES to all AT_DISPATCH_V2 macros in [FILE_PATH] to enable uint16, uint32, uint64"
      },
      {
        "title": "Convert integral types",
        "scenario": "Upgrade to V2 integral types",
        "prompt": "Use add-uint-support to replace AT_INTEGRAL_TYPES with AT_INTEGRAL_TYPES_V2 for unsigned support in [FILE_PATH]"
      },
      {
        "title": "Full dispatch update",
        "scenario": "Complete multi-site update",
        "prompt": "Scan [FILE_PATH] for all AT_DISPATCH_V2 macros, identify those needing unsigned support, and apply the appropriate transformation to each dispatch site"
      }
    ],
    "output_examples": [
      {
        "input": "Add uint support to the min_values_kernel_cuda function in torch/csrc/auxiliary.cu",
        "output": [
          "Found 2 dispatch sites in the file",
          "Applied Method 1: Added AT_EXPAND(AT_BAREBONES_UNSIGNED_TYPES) to both macros",
          "Updated: AT_DISPATCH_V2 now includes kUInt16, kUInt32, kUInt64 alongside existing types",
          "All dispatch sites consistently updated with unsigned type support"
        ]
      }
    ],
    "best_practices": [
      "First verify the file uses AT_DISPATCH_V2; convert from old format if needed",
      "Apply changes consistently across ALL dispatch sites in the file",
      "Choose Method 2 (AT_INTEGRAL_TYPES_V2) when applicable for cleaner code"
    ],
    "anti_patterns": [
      "Adding unsigned types to floating-point only operators that do not support integers",
      "Using unsigned types with operators where semantically invalid (e.g., reduction operators with unsigned indices)",
      "Converting only some dispatch sites while leaving others unchanged in multi-site files"
    ],
    "faq": [
      {
        "question": "What unsigned types are supported?",
        "answer:": "kUInt16, kUInt32, and kUInt64. Note that kByte (uint8) is already in AT_INTEGRAL_TYPES and does not need AT_BAREBONES_UNSIGNED_TYPES."
      },
      {
        "question": "Can I use this skill with old AT_DISPATCH macros?",
        "answer": "No. First convert to AT_DISPATCH_V2 using the at-dispatch-v2 skill, then apply uint support."
      },
      {
        "question": "What is the difference between the two methods?",
        "answer": "Method 1 adds AT_BAREBONES_UNSIGNED_TYPES explicitly. Method 2 replaces AT_INTEGRAL_TYPES with AT_INTEGRAL_TYPES_V2. Method 2 is cleaner when AT_INTEGRAL_TYPES is present."
      },
      {
        "question": "Does this modify files automatically?",
        "answer": "The skill provides guidance and transformations but requires user confirmation before making edits."
      },
      {
        "question": "Is this skill safe to use?",
        "answer": "Yes. The skill only provides documentation-based guidance for updating macro syntax. It does not execute code or access system resources."
      },
      {
        "question": "How is this different from at-dispatch-v2?",
        "answer": "at-dispatch-v2 converts old AT_DISPATCH macros to the V2 format. add-uint-support extends V2 macros to include unsigned integer types."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
