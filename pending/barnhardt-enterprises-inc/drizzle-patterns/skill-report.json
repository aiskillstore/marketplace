{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:58:24.155Z",
    "slug": "barnhardt-enterprises-inc-drizzle-patterns",
    "source_url": "https://github.com/Barnhardt-Enterprises-Inc/quetrex-claude/tree/main/skills/drizzle-patterns",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "6956c69fbd465a109a5272835c9a11b76a77a99a301101c235c9eb116fb5ff10",
    "tree_hash": "f16cb8876df45c677e33653501c5d79a58446c0bb107f3e96f9d3ba89f0dd8e1"
  },
  "skill": {
    "name": "drizzle-patterns",
    "description": "Drizzle ORM patterns for PostgreSQL.",
    "summary": "Drizzle ORM patterns for PostgreSQL.",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "Barnhardt-Enterprises-Inc",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "database",
      "postgresql",
      "orm",
      "drizzle",
      "typescript"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing markdown patterns and TypeScript code examples for Drizzle ORM. No executable code, scripts, network calls, or file system access beyond reading the SKILL.md file itself.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 154,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:58:24.155Z"
  },
  "content": {
    "user_title": "Apply Drizzle ORM patterns for PostgreSQL databases",
    "value_statement": "Writing database code with Drizzle ORM can be confusing without clear patterns. This skill provides ready-to-use code examples for schema definition, relations, queries, mutations, transactions, and migrations.",
    "seo_keywords": [
      "Drizzle ORM patterns",
      "PostgreSQL database",
      "TypeScript ORM",
      "Drizzle schema definition",
      "database relations",
      "Drizzle transactions",
      "drizzle-kit migrations",
      "Claude Code database",
      "AI agent database patterns"
    ],
    "actual_capabilities": [
      "Define PostgreSQL table schemas with Drizzle ORM types",
      "Create and configure table relations (one-to-many, many-to-one)",
      "Set up database client connection with connection pooling",
      "Write queries with filtering, ordering, and relation loading",
      "Perform insert, update, and delete operations with returning",
      "Execute atomic transactions with rollback support"
    ],
    "limitations": [
      "This skill provides patterns only - actual database setup required separately"
    ],
    "use_cases": [
      {
        "target_user": "Full-stack developers",
        "title": "Build type-safe database layers",
        "description": "Create PostgreSQL database layers with full TypeScript type inference for users, posts, and related entities."
      },
      {
        "target_user": "Backend engineers",
        "title": "Implement database transactions",
        "description": "Handle complex multi-table operations with Drizzle transactions including automatic rollback on failure."
      },
      {
        "target_user": "AI agent users",
        "title": "Generate correct Drizzle code",
        "description": "Get accurate, production-ready Drizzle ORM code snippets for any database operation without syntax errors."
      },
      {
        "target_user": "Database developers",
        "title": "Create database schemas",
        "description": "Define PostgreSQL table schemas with proper types, constraints, and indexes using Drizzle ORM."
      },
      {
        "target_user": "Application developers",
        "title": "Set up table relationships",
        "description": "Configure one-to-many, many-to-one, and many-to-many relationships between database tables."
      },
      {
        "target_user": "Backend developers",
        "title": "Perform database migrations",
        "description": "Use drizzle-kit to generate and manage database schema migrations in production environments."
      },
      {
        "target_user": "Full-stack engineers",
        "title": "Optimize database queries",
        "description": "Write efficient queries with proper filtering, ordering, pagination, and relation loading."
      },
      {
        "target_user": "Web developers",
        "title": "Handle data mutations",
        "description": "Implement insert, update, and delete operations with proper validation and returning clauses."
      },
      {
        "target_user": "DevOps engineers",
        "title": "Configure database connections",
        "description": "Set up PostgreSQL database connections with connection pooling and environment configuration."
      },
      {
        "target_user": "Software architects",
        "title": "Design database patterns",
        "description": "Apply best practices for database schema design, indexing, and query optimization with Drizzle ORM."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic schema creation",
        "scenario": "Create a users table",
        "prompt": "Create a Drizzle ORM schema for a users table with id, email, name, emailVerified, createdAt, and updatedAt fields using PostgreSQL."
      },
      {
        "title": "Table relations",
        "scenario": "Link users to posts",
        "prompt": "Set up Drizzle relations where users can have many posts and each post belongs to one user."
      },
      {
        "title": "Complex queries",
        "scenario": "Fetch users with posts",
        "prompt": "Write a Drizzle query to find users with their posts, filtering for verified emails, ordered by creation date, limited to 10 results."
      },
      {
        "title": "Transaction safety",
        "scenario": "Create user with profile",
        "prompt": "Write a Drizzle transaction that creates a user, then creates their profile and default settings in one atomic operation."
      }
    ],
    "output_examples": [
      {
        "input": "Create a Drizzle ORM schema for a users table with id, email, name, emailVerified, createdAt, and updatedAt fields",
        "output": [
          "‚úì Schema defined with uuid primary key using defaultRandom()",
          "‚úì Email field with unique constraint and length validation",
          "‚úì Boolean emailVerified with default false",
          "‚úì Timestamp fields for createdAt and updatedAt with defaultNow()",
          "‚úì Type exports for $inferSelect and $inferInsert"
        ]
      }
    ],
    "best_practices": [
      "Use $inferSelect and $inferInsert types to ensure type safety across your application",
      "Always use parameterized queries with eq(), and(), or() to prevent SQL injection",
      "Leverage transactions for multi-table operations to maintain data integrity",
      "Use drizzle-kit for migrations in production - never modify schema directly on database"
    ],
    "anti_patterns": [
      "Do not use raw SQL strings for queries - use Drizzle's query builder instead",
      "Do not skip connection pooling in production - always use Pool from pg module",
      "Do not hardcode database credentials - use process.env.DATABASE_URL with proper validation",
      "Do not forget to close database connections - proper cleanup prevents connection leaks"
    ],
    "faq": [
      {
        "question": "What PostgreSQL features does Drizzle support?",
        "answer": "Drizzle supports all PostgreSQL features including JSON, arrays, enums, full-text search, and custom types."
      },
      {
        "question": "How does Drizzle compare to Prisma?",
        "answer": "Drizzle is lighter, faster, and provides more control. It uses SQL-like syntax and generates fewer types."
      },
      {
        "question": "Can I use Drizzle with Next.js App Router?",
        "answer": "Yes. Drizzle works with any Node.js runtime including Next.js Server Components and API routes."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "Yes. This skill only provides patterns - it does not access or modify any databases directly."
      },
      {
        "question": "Why am I getting type errors with my schema?",
        "answer": "Ensure you export types using $inferSelect and $inferInsert. Also verify dialect is set to postgresql in config."
      },
      {
        "question": "How do I run migrations in production?",
        "answer": "Use drizzle-kit generate to create migrations, then apply them using your deployment tool or run migrate command."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
