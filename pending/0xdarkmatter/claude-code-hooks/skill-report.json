{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T08:44:01.151Z",
    "slug": "0xdarkmatter-claude-code-hooks",
    "source_url": "https://github.com/0xDarkMatter/claude-mods/tree/main/skills/claude-code-hooks",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "597edd14dcbf4712bcca90e77f44034974009a4f7958df43abfffb21e922f832",
    "tree_hash": "103fdb2afce7ce16a10fb2dc116cf67d1f1196292e529bc5d033ebb8e5bdb00b"
  },
  "skill": {
    "name": "claude-code-hooks",
    "description": "Claude Code hook system for pre/post tool execution. Triggers on: hooks, PreToolUse, PostToolUse, hook script, tool validation, audit logging.",
    "summary": "Claude Code hook system for pre/post tool execution. Triggers on: hooks, PreToolUse, PostToolUse, ho...",
    "icon": "ü™ù",
    "version": "1.0.0",
    "author": "0xDarkMatter",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "hooks",
      "automation",
      "security",
      "workflow",
      "configuration"
    ],
    "supported_tools": [
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only markdown reference files. No executable code, network calls, or file system access beyond documentation files. The skill documents Claude Code's built-in hook system and provides example scripts as documentation content.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 4,
    "total_lines": 896,
    "audit_model": "claude",
    "audited_at": "2026-01-10T08:44:01.151Z"
  },
  "content": {
    "user_title": "Master Claude Code hooks",
    "value_statement": "Customize Claude Code behavior with pre and post tool execution hooks. Validate commands, audit activity, and enforce policies automatically. This documentation skill provides complete reference guides and security patterns for production use.",
    "seo_keywords": [
      "Claude Code hooks",
      "Claude Code PreToolUse",
      "Claude Code PostToolUse",
      "Claude Code automation",
      "Claude Code tool validation",
      "Claude Code audit logging",
      "Claude Code security hooks",
      "Claude Code workflow automation",
      "Claude Code CLI hooks",
      "Claude Code policy enforcement"
    ],
    "actual_capabilities": [
      "PreToolUse hook for validating commands before execution",
      "PostToolUse hook for logging and notifications after tool calls",
      "PermissionRequest hook for custom approval workflows",
      "SessionStart and SessionEnd hooks for initialization and cleanup",
      "Event matcher patterns for targeting specific tools",
      "Security patterns for production deployment"
    ],
    "limitations": [
      "Does not execute hooks itself, only provides documentation",
      "Requires Claude Code CLI to use hooks feature",
      "Hook scripts must be created and configured by the user",
      "Exit code 2 blocks execution, other codes allow continuation"
    ],
    "use_cases": [
      {
        "target_user": "Security engineers",
        "title": "Validate and block dangerous commands",
        "description": "Create PreToolUse hooks to validate Bash commands and block destructive operations like rm -rf or mkfs before execution."
      },
      {
        "target_user": "DevOps teams",
        "title": "Audit all tool activity",
        "description": "Configure PostToolUse hooks to log every command, file change, and tool output to audit logs for compliance and debugging."
      },
      {
        "target_user": "Team leads",
        "title": "Enforce coding standards",
        "description": "Use matcher patterns to run linters, formatters, or security scanners on specific tools before allowing execution."
      }
    ],
    "prompt_templates": [
      {
        "title": "Hook basics",
        "scenario": "Understanding hook events",
        "prompt": "What hook events does Claude Code support and when do they fire? Explain PreToolUse vs PostToolUse."
      },
      {
        "title": "Configuration",
        "scenario": "Setting up hooks",
        "prompt": "How do I configure hooks in settings.json? Show me the exact JSON structure for a PreToolUse hook on Bash commands."
      },
      {
        "title": "Security patterns",
        "scenario": "Safe hook scripts",
        "prompt": "What are the security best practices for writing hook scripts? How do I prevent command injection and path traversal?"
      },
      {
        "title": "Production use",
        "scenario": "Enterprise deployment",
        "prompt": "Show me a production-ready hook script that includes input validation, proper error handling, rate limiting, and audit logging."
      }
    ],
    "output_examples": [
      {
        "input": "How do I block dangerous bash commands with a hook?",
        "output": [
          "Create a PreToolUse hook that parses JSON input and checks for dangerous patterns",
          "Exit code 2 blocks the command, exit code 0 allows it",
          "Match specific tools with patterns like \"Bash\" or \"*\" for all tools"
        ]
      }
    ],
    "best_practices": [
      "Always validate JSON input structure before processing to prevent errors",
      "Quote all variables in shell scripts to prevent command injection",
      "Use $CLAUDE_PROJECT_DIR for paths to ensure scripts work across environments"
    ],
    "anti_patterns": [
      "Using unquoted variables that allow command injection attacks",
      "Skipping input validation and trusting user-provided tool inputs",
      "Storing secrets in hook scripts or logging sensitive data"
    ],
    "faq": [
      {
        "question": "Which Claude versions support hooks?",
        "answer": "Claude Code CLI version 0.28 and later support the hooks system through settings.json configuration."
      },
      {
        "question": "What is the maximum hook timeout?",
        "answer": "Default timeout is 5000ms. You can configure longer timeouts up to practical limits in the hook definition."
      },
      {
        "question": "Can hooks call other Claude Code tools?",
        "answer": "Hooks run as external scripts and cannot directly invoke Claude Code tools. They execute as standalone processes."
      },
      {
        "question": "Is hook output logged?",
        "answer": "Hook stderr appears in Claude output when blocking. Stdout is captured but not logged by default."
      },
      {
        "question": "Why is my hook not firing?",
        "answer": "Check matcher patterns are correct, file is executable, and JSON in settings.json is valid using jq for validation."
      },
      {
        "question": "How are hooks different from MCP?",
        "answer": "Hooks run before or after tool calls for validation and logging. MCP provides new tools. Hooks work with existing tools."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "configuration.md",
          "type": "file",
          "path": "references/configuration.md"
        },
        {
          "name": "hook-events.md",
          "type": "file",
          "path": "references/hook-events.md"
        },
        {
          "name": "security-patterns.md",
          "type": "file",
          "path": "references/security-patterns.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
