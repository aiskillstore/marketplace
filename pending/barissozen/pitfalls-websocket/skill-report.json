{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T11:24:08.476Z",
    "slug": "barissozen-pitfalls-websocket",
    "source_url": "https://github.com/BarisSozen/claude/tree/main/.claude/skills/pitfalls-websocket",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c048342759930f981f8a9058cfa9ead1bced11073d123ed303e467e6529c67d4",
    "tree_hash": "8d72d4d4c3f63a835483e86bdfba59e1b9c3f33c13142a1490fbeebb7a1bf057"
  },
  "skill": {
    "name": "WebSocket Pitfalls",
    "description": "---",
    "summary": "---",
    "icon": "ðŸ”Œ",
    "version": "1.0.0",
    "author": "BarisSozen",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "websocket",
      "real-time",
      "networking",
      "typescript"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill with no executable code. Contains only TypeScript code examples for educational purposes. No file system access, network calls, or command execution capabilities.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 125,
    "audit_model": "claude",
    "audited_at": "2026-01-10T11:24:08.476Z"
  },
  "content": {
    "user_title": "Implement WebSocket servers with best practices",
    "value_statement": "WebSocket implementations often fail silently due to missing heartbeat or reconnection logic. This skill provides verified patterns for robust real-time connections that survive network issues and handle message validation correctly.",
    "seo_keywords": [
      "websocket",
      "real-time",
      "heartbeat",
      "reconnection",
      "typescript",
      "ws",
      "websocket-server",
      "websocket-client",
      "claude",
      "claude-code"
    ],
    "actual_capabilities": [
      "Review WebSocket server implementation for common pitfalls",
      "Add ping-pong heartbeat pattern to detect dead connections",
      "Implement client reconnection with exponential backoff",
      "Validate WebSocket message formats and types",
      "Debug connection drops and reconnection issues"
    ],
    "limitations": [
      "Does not write code for you - provides patterns and review guidance",
      "Does not test running WebSocket servers",
      "Does not configure deployment environments or load balancers"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developer",
        "title": "Build production WebSocket server",
        "description": "Create WebSocket server with heartbeat, proper message handling, and connection lifecycle management"
      },
      {
        "target_user": "Full Stack Developer",
        "title": "Implement resilient client",
        "description": "Build WebSocket client that reconnects automatically after network interruptions"
      },
      {
        "target_user": "Code Reviewer",
        "title": "Audit real-time code",
        "description": "Review WebSocket implementation for missing heartbeat, error handling, or reconnection logic"
      }
    ],
    "prompt_templates": [
      {
        "title": "Check Server Setup",
        "scenario": "Verify WebSocket server configuration",
        "prompt": "Review my WebSocket server code. Check if it shares the HTTP port, has heartbeat implemented, and handles client connections correctly."
      },
      {
        "title": "Add Heartbeat",
        "scenario": "Add ping-pong to detect dead connections",
        "prompt": "Add heartbeat ping-pong mechanism to my WebSocket server. Show how to detect dead connections and terminate them gracefully."
      },
      {
        "title": "Client Reconnect",
        "scenario": "Implement reconnection logic",
        "prompt": "Implement WebSocket client reconnection with exponential backoff. Include connection state tracking and error logging."
      },
      {
        "title": "Message Validation",
        "scenario": "Validate incoming messages",
        "prompt": "Review my WebSocket message handling. Add proper JSON parsing, type validation, and error responses for invalid messages."
      }
    ],
    "output_examples": [
      {
        "input": "Review my WebSocket server code",
        "output": [
          "âœ“ Server shares HTTP port correctly",
          "âœ— Missing heartbeat - add ping interval every 30 seconds",
          "âœ— No reconnection logic for clients",
          "âœ“ Message parsing includes try-catch for invalid JSON",
          "Recommendation: Add ws.isAlive flag and pong handler to detect dead connections"
        ]
      }
    ],
    "best_practices": [
      "Use same port for WebSocket server and HTTP server to simplify deployment",
      "Implement heartbeat every 30 seconds to detect stale connections early",
      "Reset reconnection attempt counter on successful connection",
      "Validate and type all incoming messages before processing"
    ],
    "anti_patterns": [
      "Skipping heartbeat - leads to ghost connections consuming resources",
      "No reconnection logic - clients stay disconnected after network issues",
      "Processing raw messages without validation - security risk",
      "Hardcoding connection delays instead of exponential backoff"
    ],
    "faq": [
      {
        "question": "What tools support this skill?",
        "answer": "Works with Claude, Codex, and Claude Code. Uses natural language understanding for code review."
      },
      {
        "question": "What are the connection timeout limits?",
        "answer": "Heartbeat interval defaults to 30 seconds. Maximum reconnection delay is capped at 30 seconds."
      },
      {
        "question": "Can I integrate with existing WebSocket libraries?",
        "answer": "Patterns work with ws, Socket.io, and native WebSocket. Concepts apply to any WebSocket implementation."
      },
      {
        "question": "Is my WebSocket data stored or logged?",
        "answer": "No. This skill only reviews code you share. No data is stored or transmitted."
      },
      {
        "question": "Why do connections drop unexpectedly?",
        "answer": "Common causes: missing heartbeat causing timeout, load balancer idle timeout, network interruption, or server restart."
      },
      {
        "question": "How does this compare to Socket.io?",
        "answer": "Socket.io provides built-in reconnection. This skill helps when building custom WebSocket solutions or migrating from Socket.io."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
