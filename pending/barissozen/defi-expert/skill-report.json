{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T11:01:31.061Z",
    "slug": "barissozen-defi-expert",
    "source_url": "https://github.com/BarisSozen/claude/tree/main/.claude/skills/defi-expert",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "a598ec5b7b31eef580439bb0d3ae0fe897f81fc228633149fcc8c2a252b8f361",
    "tree_hash": "e497e181d1e095b3f4bb4563c91526bb68e7c5f961b1f3e0cd80abadbd007063"
  },
  "skill": {
    "name": "defi-expert",
    "description": "DeFi protocol expert ensuring correct data formats, types, denominations, and API structures. MUST be consulted before writing ANY protocol integration code. Triggers on ANY mention of Aave, Compound, Uniswap, Curve, Balancer, or DeFi terms like liquidation, swap, flash loan, health factor.",
    "summary": "DeFi protocol expert ensuring correct data formats, types, denominations, and API structures. MUST b...",
    "icon": "₿",
    "version": "1.0.0",
    "author": "BarisSozen",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "defi",
      "smart-contracts",
      "tokenomics",
      "blockchain",
      "protocols"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a prompt-based skill containing only documentation and guidance in markdown format. No code execution, file access, network calls, or external commands are present. The skill provides advisory information about DeFi protocol best practices.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 69,
    "audit_model": "claude",
    "audited_at": "2026-01-10T11:01:31.061Z"
  },
  "content": {
    "user_title": "Validate DeFi Protocol Integrations",
    "value_statement": "DeFi integrations often fail due to incorrect token decimals and denomination handling. This skill provides expert validation for protocol code, preventing costly precision bugs and ensuring correct data formats across Aave, Uniswap, Curve, and other major protocols.",
    "seo_keywords": [
      "defi expert",
      "token decimals validation",
      "uniswap integration",
      "aave protocol",
      "smart contract安全",
      "defi coding",
      "claude defi",
      "claude code defi",
      "token amounts",
      "defi development"
    ],
    "actual_capabilities": [
      "Validates token decimals for major assets (USDC=6, WBTC=8, ETH=18)",
      "Verifies correct denomination units (wei, ray, wad, bps)",
      "Reviews checksummed address usage",
      "Prevents common DeFi precision bugs",
      "Provides protocol-specific integration guidance"
    ],
    "limitations": [
      "Does not execute transactions or interact with blockchain networks",
      "Does not provide real-time price or rate data",
      "Does not access external APIs or documentation",
      "Requires user to provide their own contract code for review"
    ],
    "use_cases": [
      {
        "target_user": "Smart Contract Developers",
        "title": "Review DeFi Integrations",
        "description": "Validate token handling in smart contracts before mainnet deployment"
      },
      {
        "target_user": "dApp Engineers",
        "title": "Fix Precision Issues",
        "description": "Debug calculation errors caused by incorrect decimal handling"
      },
      {
        "target_user": "Protocol Contributors",
        "title": "Standardize Data Formats",
        "description": "Ensure consistent use of wei, ray, wad, and bps across codebases"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Validation",
        "scenario": "Checking a simple token transfer",
        "prompt": "Check if my token transfer code handles USDC decimals correctly"
      },
      {
        "title": "Aave Integration",
        "scenario": "Implementing Aave lending",
        "prompt": "Review my Aave V3 supply function for correct health factor calculation"
      },
      {
        "title": "Swap Implementation",
        "scenario": "Building a DEX aggregator",
        "prompt": "Validate my Uniswap V3 swap router implementation for decimal handling"
      },
      {
        "title": "Multi-Protocol",
        "scenario": "Complex DeFi strategy",
        "prompt": "Review my strategy that supplies to Aave, provides liquidity on Curve, and stakes on Balancer"
      }
    ],
    "output_examples": [
      {
        "input": "Review this Aave health factor calculation: rawHF / 1e18",
        "output": [
          "⚠️ INCORRECT: Aave uses RAY (1e27) for rates, not wei (1e18)",
          "✓ CORRECT: rawHF / 1e27 converts raw health factor to human-readable format",
          "Also verify you are using the correct function - Aave V3 uses `getUserAccountData()` which returns health factor directly"
        ]
      }
    ],
    "best_practices": [
      "Always query token decimals dynamically rather than hardcoding values",
      "Use `parseUnits()` and `formatUnits()` from ethers for safe conversions",
      "Document which denomination unit each variable represents (wei, ray, wad, bps)"
    ],
    "anti_patterns": [
      "Using parseEther() for non-18-decimal tokens like USDC or USDT",
      "Hardcoding decimals without checking the actual token contract",
      "Mixing raw values (wei/ray/wad) with human-readable values in calculations"
    ],
    "faq": [
      {
        "question": "Which AI tools support this skill?",
        "answer": "This skill works with Claude, Codex, and Claude Code. It activates automatically when you mention DeFi protocols or terms."
      },
      {
        "question": "What token decimals does this skill validate?",
        "answer": "It validates major tokens including ETH (18), USDC (6), USDT (6), DAI (18), and WBTC (8). Always verify against the actual contract."
      },
      {
        "question": "Can this skill execute blockchain transactions?",
        "answer": "No. This skill only reviews and validates code. It does not interact with any blockchain networks or execute transactions."
      },
      {
        "question": "Is my code sent to external servers?",
        "answer": "No. All code review happens locally within the AI tool. Nothing is transmitted to external services."
      },
      {
        "question": "Why did my Aave health factor calculation fail?",
        "answer": "Aave uses RAY (1e27) for internal calculations, not standard wei (1e18). Divide your raw health factor by 1e27 to get the display value."
      },
      {
        "question": "How is this different from general code review?",
        "answer": "This skill has deep knowledge of DeFi-specific patterns, decimal handling, and protocol conventions that general code review lacks."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
