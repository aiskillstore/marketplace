{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:26:23.035Z",
    "slug": "7spade-delon-auth-authentication-authorization",
    "source_url": "https://github.com/7Spade/ng-dragon/tree/main/.github/skills/delon-auth",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "2dd977ecdadb6da45b9067c6d1b14fabbe311fa3410ac4a7717ce3c6cace91bf",
    "tree_hash": "c871a207fd25684365519a063751087d3e59003139f028ec02c0e5b66ff0edb1"
  },
  "skill": {
    "name": "@delon/auth Authentication & Authorization",
    "description": "Implement authentication and authorization using @delon/auth. Use this skill when adding login/logout flows, JWT token management, role-based access control (RBAC), route guards, HTTP interceptors, and session management. Integrates with Firebase Auth and custom permission systems. Ensures secure token storage, automatic token refresh, and consistent authorization checks across components and services.",
    "summary": "Implement authentication and authorization using @delon/auth. Use this skill when adding login/logou...",
    "icon": "üîê",
    "version": "1.0.0",
    "author": "7Spade",
    "license": "MIT",
    "category": "security",
    "tags": [
      "authentication",
      "authorization",
      "angular",
      "jwt",
      "rbac"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing guidance on Angular authentication implementation. No executable code, scripts, network calls, or filesystem access are present. All content consists of legitimate TypeScript patterns for authentication and authorization.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 585,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:26:23.035Z"
  },
  "content": {
    "user_title": "Add secure authentication to Angular apps",
    "value_statement": "Building secure authentication in Angular requires careful implementation of tokens, guards, and permission checks. This skill provides ready-to-use patterns for JWT management, role-based access control, and route protection using the @delon/auth library.",
    "seo_keywords": [
      "@delon/auth",
      "Angular authentication",
      "JWT token management",
      "role-based access control",
      "route guards",
      "Firebase Auth",
      "Angular authorization",
      "RBAC Angular",
      "Claude Code authentication",
      "Angular security"
    ],
    "actual_capabilities": [
      "Implement login and logout flows with Firebase Auth",
      "Configure JWT token storage and automatic refresh",
      "Create route guards for authentication and authorization",
      "Implement role-based and permission-based access control",
      "Set up HTTP interceptors for automatic token injection",
      "Integrate with @delon/acl for UI-level permission controls"
    ],
    "limitations": [
      "Does not provide backend authentication endpoints",
      "Requires existing Firebase project for Firebase Auth integration",
      "Does not include multi-factor authentication setup",
      "Only supports Angular applications using @delon/auth"
    ],
    "use_cases": [
      {
        "target_user": "Angular developers",
        "title": "Add login to Angular app",
        "description": "Implement secure user login with JWT tokens, automatic session management, and protected routes."
      },
      {
        "target_user": "Enterprise teams",
        "title": "Build role-based access",
        "description": "Create admin, user, and custom role permissions with route guards and component-level access checks."
      },
      {
        "target_user": "Security-focused engineers",
        "title": "Secure API communication",
        "description": "Configure automatic token injection in HTTP requests with refresh before expiration and secure storage."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic login setup",
        "scenario": "Add authentication to Angular project",
        "prompt": "Use @delon/auth to add authentication to my Angular app. Include login component with email and password, JWT token storage, and automatic token injection in HTTP headers."
      },
      {
        "title": "Route protection",
        "scenario": "Protect routes by auth status",
        "prompt": "Create auth guards using @delon/auth that redirect unauthenticated users to login page. Protect the dashboard and admin routes."
      },
      {
        "title": "Role permissions",
        "scenario": "Implement role-based access",
        "prompt": "Implement role-based access control with @delon/auth. Create guards for admin, manager, and user roles. Show how to check permissions in components."
      },
      {
        "title": "Token refresh",
        "scenario": "Handle session expiration",
        "prompt": "Configure automatic token refresh with @delon/auth. Handle expired tokens by logging out user and clearing session. Integrate with Firebase Auth token refresh."
      }
    ],
    "output_examples": [
      {
        "input": "Add authentication to my Angular app with Firebase Auth",
        "output": [
          "‚úì Configure @delon/auth with token_send_template and login_url",
          "‚úì Create AuthService with login() and logout() methods",
          "‚úì Set up authGuard to protect routes from unauthenticated access",
          "‚úì Configure automatic token injection in HTTP requests",
          "‚úì Implement token refresh before expiration (6000ms offset)",
          "‚úì Store JWT securely using DA_SERVICE_TOKEN"
        ]
      }
    ],
    "best_practices": [
      "Always use HTTPS in production to protect token transmission",
      "Set short token expiration times and use refresh tokens for long sessions",
      "Implement proper error handling for authentication failures and network errors",
      "Clear all authentication state on logout including tokens and user data"
    ],
    "anti_patterns": [
      "Storing tokens in localStorage without encryption - use DA_SERVICE_TOKEN instead",
      "Skipping role validation on backend - always validate permissions server-side",
      "Hardcoding API URLs or sensitive configuration in client code",
      "Allowing unauthenticated access to protected routes without proper guards"
    ],
    "faq": [
      {
        "question": "Which Angular versions are supported?",
        "answer": "@delon/auth supports Angular 17+ with standalone components and the new control flow syntax."
      },
      {
        "question": "How long should JWT tokens last?",
        "answer": "Short-lived access tokens (15-30 minutes) with refresh tokens are recommended. Configure refreshOffset to 6000ms."
      },
      {
        "question": "Can this integrate with other auth providers?",
        "answer": "Yes. The skill shows Firebase Auth integration but @delon/auth works with any OAuth2 or JWT-based provider."
      },
      {
        "question": "Is user data stored securely?",
        "answer": "Tokens are stored securely via DA_SERVICE_TOKEN. Avoid storing sensitive user data in client-side storage."
      },
      {
        "question": "How to debug auth issues?",
        "answer": "Enable debug logging for authentication events. Check browser DevTools for token presence in requests and console errors."
      },
      {
        "question": "How does this compare to Auth0 or Firebase Auth alone?",
        "answer": "@delon/auth adds Angular-specific features like route guards, HTTP interceptors, and ACL integration on top of any auth provider."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
