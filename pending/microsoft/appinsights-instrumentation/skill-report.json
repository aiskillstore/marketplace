{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-21T08:39:41.029Z",
    "slug": "microsoft-appinsights-instrumentation",
    "source_url": "https://github.com/microsoft/github-copilot-for-azure/tree/main/plugin/skills/appinsights-instrumentation/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "7d079839985732ec6d04835311759f802d3fe2c0f5856bd9f0edab67cfd30154",
    "tree_hash": "dbc24d5017b842c4f9688b1d644005ff4d689066a4be17e818ec99ade6c9f410"
  },
  "skill": {
    "name": "appinsights-instrumentation",
    "description": "Guidance for instrumenting webapps with Azure Application Insights. Provides telemetry patterns, SDK setup, and configuration references. USE FOR: how to instrument app, App Insights SDK, telemetry patterns, what is App Insights, Application Insights guidance, instrumentation examples, APM best practices. DO NOT USE FOR: adding App Insights to my app (use azure-prepare), add telemetry to my project (use azure-prepare), add monitoring (use azure-prepare). This skill provides guidanceâ€”azure-prepare orchestrates component changes.",
    "summary": "Guidance for instrumenting webapps with Azure Application Insights. Provides telemetry patterns, SDK setup, and configuration references.",
    "icon": "ðŸ“Š",
    "version": "1.0.0",
    "author": "microsoft",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "azure",
      "application-insights",
      "telemetry",
      "monitoring",
      "opentelemetry"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is an official Microsoft skill providing Azure Application Insights instrumentation guidance. All 49 static findings are false positives: weak crypto alerts triggered by Azure SKU names (PerGB2018) and API versions; backtick detections are markdown code blocks; path traversal alerts are relative markdown links; environment variable access is the Azure-recommended pattern for connection strings. No actual security risks identified.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 374,
    "audit_model": "claude",
    "audited_at": "2026-02-21T08:39:41.029Z",
    "risk_factors": []
  },
  "content": {
    "user_title": "Add Application Insights telemetry to Azure apps",
    "value_statement": "This skill provides step-by-step guidance for instrumenting web applications with Azure Application Insights, including SDK setup, configuration, and telemetry patterns for ASP.NET Core, Node.js, and Python apps.",
    "seo_keywords": [
      "Azure Application Insights",
      "Claude Code",
      "Codex",
      "appinsights",
      "telemetry setup",
      "APM monitoring",
      "OpenTelemetry Azure",
      "Azure monitoring",
      "app performance monitoring",
      "cloud telemetry"
    ],
    "actual_capabilities": [
      "Provide SDK setup instructions for ASP.NET Core, Node.js, and Python applications",
      "Guide users through manual and auto-instrumentation options for Azure App Service",
      "Show how to configure connection strings via environment variables",
      "Reference Bicep templates for creating Application Insights resources",
      "Offer OpenTelemetry quick references for multiple languages",
      "Explain telemetry patterns and best practices for APM"
    ],
    "limitations": [
      "Does not actually modify user code or create Azure resources (use azure-prepare for that)",
      "Only supports web apps hosted in Azure App Service for auto-instrumentation",
      "Requires user to have an existing Azure subscription and App Service",
      "Cannot troubleshoot existing App Insights configuration issues"
    ],
    "use_cases": [
      {
        "title": "DevOps engineer adding monitoring to Azure web app",
        "description": "A DevOps engineer needs to add Application Insights to an existing ASP.NET Core app running on Azure App Service. The skill provides step-by-step SDK setup and configuration guidance.",
        "target_user": "DevOps engineers"
      },
      {
        "title": "Developer learning App Insights instrumentation",
        "description": "A developer wants to understand how to instrument their Node.js application with OpenTelemetry for Azure Monitor. The skill provides quick start guides and best practices.",
        "target_user": "Software developers"
      },
      {
        "title": "Claude Code user needing Azure monitoring help",
        "description": "A Claude Code user asks how to add telemetry to their Python app. The skill provides Python-specific SDK configuration and connection string setup instructions.",
        "target_user": "Claude Code users"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic instrumentation question",
        "prompt": "How do I add Application Insights telemetry to my Azure web app?",
        "scenario": "User wants to understand the basic approach for adding App Insights"
      },
      {
        "title": "ASP.NET Core setup",
        "prompt": "Show me how to configure Application Insights in my ASP.NET Core application using the OpenTelemetry SDK.",
        "scenario": "User has a .NET app and needs specific setup instructions"
      },
      {
        "title": "Node.js configuration",
        "prompt": "What is the code to add Azure Monitor OpenTelemetry to my Node.js app and what environment variables do I need?",
        "scenario": "User needs JavaScript/TypeScript implementation details"
      },
      {
        "title": "Auto-instrumentation for Azure App Service",
        "prompt": "How do I enable auto-instrumentation for my app hosted in Azure App Service without code changes?",
        "scenario": "User wants to use Azure's code-free monitoring option"
      }
    ],
    "output_examples": [
      {
        "input": "How do I add App Insights to my Node.js app?",
        "output": [
          "Install the Azure Monitor package: npm install @azure/monitor-opentelemetry",
          "Add this to your main entry file: const { useAzureMonitor } = require('@azure/monitor-opentelemetry');",
          "Call setup early in your app: useAzureMonitor();",
          "Set the connection string environment variable: APPLICATIONINSIGHTS_CONNECTION_STRING"
        ]
      },
      {
        "input": "What is the Bicep template to create Application Insights?",
        "output": [
          "Create a Log Analytics Workspace resource",
          "Create the Application Insights resource with kind: 'web'",
          "Link it to the workspace using WorkspaceResourceId",
          "Output the connection string for use in your app configuration"
        ]
      }
    ],
    "best_practices": [
      "Use environment variables for connection strings instead of hardcoding them in configuration files",
      "Call the monitoring setup as early as possible in your application startup",
      "Use OpenTelemetry Distro packages when available for easier configuration"
    ],
    "anti_patterns": [
      "Do not modify appsettings.json for App Insights configuration (deprecated method)",
      "Do not hardcode connection strings in source code",
      "Do not skip setting up sampling for high-traffic applications"
    ],
    "faq": [
      {
        "question": "What is Application Insights?",
        "answer": "Application Insights is an Azure Monitor feature that provides application performance monitoring (APM), telemetry collection, and diagnostics for applications running in Azure or on-premises."
      },
      {
        "question": "Do I need to modify my code to use App Insights?",
        "answer": "For Azure App Service apps, you can use auto-instrumentation without code changes. For other scenarios, you need to add the SDK and call the setup method in your code."
      },
      {
        "question": "Where do I get the connection string?",
        "answer": "The connection string is available in the Azure Portal under your Application Insights resource properties, or you can retrieve it using Azure CLI with the appinsights command."
      },
      {
        "question": "Which languages are supported?",
        "answer": "This skill covers ASP.NET Core, Node.js, Python, and provides references for Java and TypeScript applications."
      },
      {
        "question": "What is the difference between auto and manual instrumentation?",
        "answer": "Auto-instrumentation works without code changes but only supports Azure App Service. Manual instrumentation requires SDK integration but works for any hosting environment."
      },
      {
        "question": "Can I use this skill to create the App Insights resource?",
        "answer": "No, this skill provides guidance only. To create the actual Azure resource, invoke the azure-prepare skill which orchestrates the component changes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "appinsights.bicep",
          "type": "file",
          "path": "examples/appinsights.bicep",
          "lines": 31
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "sdk",
          "type": "dir",
          "path": "references/sdk",
          "children": [
            {
              "name": "azure-monitor-opentelemetry-exporter-java.md",
              "type": "file",
              "path": "references/sdk/azure-monitor-opentelemetry-exporter-java.md",
              "lines": 32
            },
            {
              "name": "azure-monitor-opentelemetry-exporter-py.md",
              "type": "file",
              "path": "references/sdk/azure-monitor-opentelemetry-exporter-py.md",
              "lines": 23
            },
            {
              "name": "azure-monitor-opentelemetry-py.md",
              "type": "file",
              "path": "references/sdk/azure-monitor-opentelemetry-py.md",
              "lines": 24
            },
            {
              "name": "azure-monitor-opentelemetry-ts.md",
              "type": "file",
              "path": "references/sdk/azure-monitor-opentelemetry-ts.md",
              "lines": 27
            }
          ]
        },
        {
          "name": "aspnetcore.md",
          "type": "file",
          "path": "references/aspnetcore.md",
          "lines": 30
        },
        {
          "name": "auto.md",
          "type": "file",
          "path": "references/auto.md",
          "lines": 14
        },
        {
          "name": "nodejs.md",
          "type": "file",
          "path": "references/nodejs.md",
          "lines": 29
        },
        {
          "name": "python.md",
          "type": "file",
          "path": "references/python.md",
          "lines": 49
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "appinsights.ps1",
          "type": "file",
          "path": "scripts/appinsights.ps1",
          "lines": 21
        }
      ]
    },
    {
      "name": "LICENSE.txt",
      "type": "file",
      "path": "LICENSE.txt",
      "lines": 22
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 72
    }
  ]
}
