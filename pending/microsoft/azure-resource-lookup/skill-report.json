{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-22T08:40:45.687Z",
    "slug": "microsoft-azure-resource-lookup",
    "source_url": "https://github.com/microsoft/github-copilot-for-azure/tree/main/plugin/skills/azure-resource-lookup/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "4db3e48c64eda7bfc745e55b7bbab878c6f04e4c65bb89c52d5298e4d058305c",
    "tree_hash": "5b90b678eed08ce0a73c995ffd914eb512ecdd1558006e7a82e121c2cdc37eb5"
  },
  "skill": {
    "name": "azure-resource-lookup",
    "description": "List, find, and show Azure resources. Answers \"list my VMs\", \"show my storage accounts\", \"list websites\", \"find container apps\", \"what resources do I have\", and similar queries for any Azure resource type. USE FOR: list resources, list virtual machines, list VMs, list storage accounts, list websites, list web apps, list container apps, show resources, find resources, what resources do I have, list resources in resource group, list resources in subscription, find resources by tag, find orphaned resources, resource inventory, count resources by type, cross-subscription resource query, Azure Resource Graph, resource discovery, list container registries, list SQL servers, list Key Vaults, show resource groups, list app services, find resources across subscriptions, find unattached disks, tag analysis. DO NOT USE FOR: deploying resources (use azure-deploy), creating or modifying resources, cost optimization (use azure-cost-optimization), writing application code, non-Azure clouds.",
    "summary": "Discover and list Azure resources across subscriptions using Azure Resource Graph queries.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "microsoft",
    "license": "MIT",
    "tags": [
      "azure",
      "resource-graph",
      "cloud-management",
      "azure-resources",
      "devops"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All 95 static findings are false positives. The skill contains documentation and reference content for Azure Resource Graph queries. The detected patterns are: (1) Backtick usage in markdown for code formatting - not actual shell execution; (2) KQL operators like '=~' misidentified as weak crypto - actually case-insensitive comparison; (3) Error handling references misidentified as reconnaissance. This is a legitimate Microsoft Azure documentation skill with no security concerns.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 7,
            "line_end": 9
          },
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 9,
            "line_end": 13
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 40,
            "line_end": 40
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [
      {
        "title": "False Positive: Backtick Usage in Documentation",
        "description": "Static scanner flagged backticks as Ruby/shell execution. Actual usage: markdown code formatting for CLI commands and KQL queries in documentation files.",
        "locations": [
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 7,
            "line_end": 180
          },
          {
            "file": "SKILL.md",
            "line_start": 39,
            "line_end": 108
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "The backticks appear only in markdown code blocks and inline code formatting. No actual shell or Ruby code execution exists in this documentation skill."
      },
      {
        "title": "False Positive: KQL Operator Misidentified as Weak Crypto",
        "description": "Static scanner flagged '=~' operator as weak cryptographic algorithm. Actual usage: KQL (Kusto Query Language) case-insensitive equality operator.",
        "locations": [
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 44,
            "line_end": 44
          },
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 61,
            "line_end": 61
          },
          {
            "file": "references/azure-resource-graph.md",
            "line_start": 183,
            "line_end": 183
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "The '=~' operator in KQL is a case-insensitive string comparison operator, not a cryptographic function. This is a documented KQL language feature."
      },
      {
        "title": "False Positive: Error Handling Reference",
        "description": "Static scanner flagged 'BadRequest' error handling as system reconnaissance. Actual usage: documentation of common KQL query errors.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 102,
            "line_end": 102
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "Line 102 is part of an error handling table documenting 'BadRequest' errors for invalid KQL syntax. This is standard documentation, not reconnaissance."
      }
    ],
    "files_scanned": 2,
    "total_lines": 297,
    "audit_model": "claude",
    "audited_at": "2026-02-22T08:40:45.687Z",
    "risk_factors": [
      "external_commands"
    ]
  },
  "content": {
    "user_title": "Discover Azure Resources",
    "value_statement": "This skill helps Claude users find and list Azure resources across subscriptions using Azure Resource Graph queries. It generates KQL queries from natural language requests and provides reference patterns for common resource discovery scenarios.",
    "seo_keywords": [
      "Azure resource lookup",
      "list Azure resources",
      "Azure Resource Graph",
      "KQL queries",
      "Azure resource discovery",
      "Claude Azure",
      "Codex Azure",
      "Claude Code Azure",
      "Azure inventory",
      "cross-subscription query"
    ],
    "actual_capabilities": [
      "Generate Azure Resource Graph queries from natural language requests",
      "List resources of any type across Azure subscriptions",
      "Find orphaned resources like unattached disks and unused IPs",
      "Query resources by tag, location, or resource group",
      "Provide KQL query patterns for common scenarios",
      "Discover resources that lack required tags for compliance"
    ],
    "limitations": [
      "Cannot deploy, create, or modify Azure resources",
      "Cannot perform real-time monitoring (ARG data has slight delay)",
      "Cannot query non-Azure clouds",
      "Requires Azure Reader role for access to resources"
    ],
    "use_cases": [
      {
        "title": "Cloud Administrators Managing Multiple Subscriptions",
        "description": "Get a complete inventory of resources across all subscriptions to understand the Azure footprint and identify unused resources.",
        "target_user": "Cloud administrators and DevOps engineers"
      },
      {
        "title": "Security Auditors Conducting Compliance Checks",
        "description": "Find resources missing required tags, with public network access enabled, or in failed provisioning states.",
        "target_user": "Security auditors and compliance teams"
      },
      {
        "title": "Developers Finding Specific Resource Types",
        "description": "Quickly locate container apps, web apps, or other resources when dedicated MCP tools are unavailable.",
        "target_user": "Azure developers and engineers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Resource Listing",
        "prompt": "List all virtual machines in my Azure subscription",
        "scenario": "Simple resource query for a specific type"
      },
      {
        "title": "Cross-Subscription Discovery",
        "prompt": "Show me all storage accounts across all subscriptions I have access to",
        "scenario": "Finding resources spanning multiple subscriptions"
      },
      {
        "title": "Orphaned Resource Detection",
        "prompt": "Find unmanaged or orphaned disks that are not attached to any virtual machine",
        "scenario": "Identifying unused cloud assets"
      },
      {
        "title": "Tag Compliance Analysis",
        "prompt": "Which Azure resources are missing the Environment tag? Show me the resource names and their resource groups",
        "scenario": "Compliance and tagging audits"
      }
    ],
    "output_examples": [
      {
        "input": "List all web apps in my subscription",
        "output": [
          "Resource Name: mywebapp-prod",
          "Type: microsoft.web/sites",
          "Location: eastus",
          "Resource Group: prod-rg",
          "State: Running"
        ]
      },
      {
        "input": "Find unattached disks",
        "output": [
          "Unattached Disk: data-disk-01",
          "Size: 50GB",
          "Location: westus2",
          "Resource Group: storage-rg"
        ]
      }
    ],
    "best_practices": [
      "Always use case-insensitive type matching (=~) since Azure resource types are lowercase",
      "Scope queries with --subscriptions or --first to avoid timeout in large tenants",
      "Prefer dedicated MCP tools for single resource types when available"
    ],
    "anti_patterns": [
      "Using ARG for real-time monitoring or alerting - data has delay",
      "Attempting to create or update resources through this skill",
      "Running broad queries without subscription scope in large tenants"
    ],
    "faq": [
      {
        "question": "What is Azure Resource Graph?",
        "answer": "Azure Resource Graph is an Azure service that provides efficient exploration of your Azure resources across subscriptions. It uses a KQL-like query language to provide fast queries at scale."
      },
      {
        "question": "Does this skill require special Azure permissions?",
        "answer": "Yes, you need at least Reader role on the subscriptions you want to query. The skill cannot access resources you don't have permission to view."
      },
      {
        "question": "Can I deploy resources using this skill?",
        "answer": "No, this skill is read-only. It only lists, finds, and shows Azure resources. For deployment, use the azure-deploy skill."
      },
      {
        "question": "How is this different from individual Azure MCP tools?",
        "answer": "Individual tools like compute, storage, or cosmos are optimized for specific resource types. This skill uses Azure Resource Graph for cross-resource queries and discovery when dedicated tools are unavailable."
      },
      {
        "question": "Why do some queries return empty results?",
        "answer": "Empty results usually mean no matching resources exist in your query scope. Check your subscription scope with --subscriptions flag and verify the resource type spelling."
      },
      {
        "question": "Is the data in Azure Resource Graph real-time?",
        "answer": "No, Azure Resource Graph data has a slight delay (typically a few minutes). For real-time monitoring, use Azure Monitor or resource-specific APIs."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "azure-resource-graph.md",
          "type": "file",
          "path": "references/azure-resource-graph.md",
          "lines": 185
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 112
    }
  ]
}
