{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T08:08:54.564Z",
    "slug": "callstackincubator-react-native-best-practices",
    "source_url": "https://github.com/callstackincubator/agent-skills/tree/main/skills/react-native-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fdd8b4b14fea15c4786c535e1dd4631a925d3ccf8267a77c1b7fbe12727360d5",
    "tree_hash": "694341322169ae8969ad9f9d147c4dfcc37ecbf1be9fb4f8b63a126de3847c85"
  },
  "skill": {
    "name": "react-native-best-practices",
    "description": "Provides React Native performance optimization guidelines for FPS, TTI, bundle size, memory leaks, re-renders, and animations. Applies to tasks involving Hermes optimization, JS thread blocking, bridge overhead, FlashList, native modules, or debugging jank and frame drops.",
    "summary": "React Native performance optimization guidelines for FPS, TTI, bundle size, memory leaks, and animations",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "callstackincubator",
    "license": "MIT",
    "tags": [
      "react-native",
      "performance",
      "optimization",
      "profiling",
      "react-native-performance"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "env_access",
      "filesystem",
      "scripts",
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill containing React Native optimization guidelines. Static analyzer flagged shell command examples in markdown code blocks as 'external_commands', but these are documentation patterns, not executable code. All 1101 detections are false positives - the skill only provides guidance and reference materials without executing any code.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "references/bundle-analyze-app.md",
            "line_start": 13,
            "line_end": 23
          },
          {
            "file": "references/bundle-analyze-js.md",
            "line_start": 13,
            "line_end": 25
          },
          {
            "file": "references/bundle-barrel-exports.md",
            "line_start": 15,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 43,
            "line_end": 48
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "references/bundle-analyze-js.md",
            "line_start": 158,
            "line_end": 158
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "references/bundle-hermes-mmap.md",
            "line_start": 4,
            "line_end": 4
          },
          {
            "file": "SKILL.md",
            "line_start": 93,
            "line_end": 93
          }
        ]
      },
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "references/bundle-code-splitting.md",
            "line_start": 23,
            "line_end": 23
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/bundle-analyze-js.md",
            "line_start": 39,
            "line_end": 39
          },
          {
            "file": "references/bundle-library-size.md",
            "line_start": 15,
            "line_end": 15
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 29,
    "total_lines": 6499,
    "audit_model": "claude",
    "audited_at": "2026-01-23T08:08:54.564Z"
  },
  "content": {
    "user_title": "Optimize React Native Performance",
    "value_statement": "React Native apps often suffer from performance issues like slow animations, memory leaks, and large bundle sizes. This skill provides battle-tested optimization guidelines from Callstack experts to improve FPS, reduce startup time, and eliminate memory leaks.",
    "seo_keywords": [
      "React Native performance",
      "React Native optimization",
      "React Native FPS",
      "React Native bundle size",
      "React Native memory leaks",
      "Hermes optimization",
      "FlashList React Native",
      "React Native profiling",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Provide React Native performance optimization guidelines for FPS and re-renders",
      "Guide bundle size reduction through tree shaking, barrel export removal, and code splitting",
      "Recommend memory leak detection and prevention patterns for JS and native code",
      "Suggest animation optimizations using Reanimated worklets for 60fps performance",
      "Guide TTI (Time to Interactive) optimization and Hermes configuration",
      "Help choose between native modules and JavaScript implementations"
    ],
    "limitations": [
      "Cannot execute profiling tools or measure performance directly",
      "Cannot modify application code - only provides guidance",
      "Cannot install dependencies or configure build tools",
      "AI cannot process visual flamegraph screenshots - manual review required"
    ],
    "use_cases": [
      {
        "title": "Debugging Slow React Native Apps",
        "description": "A mobile developer notices their React Native app has choppy scrolling and slow animations. Use this skill to identify whether the issue is in JS thread blocking, render cycles, or native rendering, then apply targeted fixes.",
        "target_user": "Mobile developers debugging performance issues"
      },
      {
        "title": "Reducing App Startup Time",
        "description": "A team wants to reduce their app's time-to-interactive from 3 seconds to under 1 second. The skill guides through bundle analysis, Hermes configuration, and native navigation setup for faster cold starts.",
        "target_user": "DevOps and performance engineers"
      },
      {
        "title": "Optimizing List Performance",
        "description": "A social feed with hundreds of items causes scrolling jank. The skill recommends switching from ScrollView to FlashList, implementing proper key extraction, and avoiding re-renders with proper memoization.",
        "target_user": "Frontend developers working on list views"
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick Performance Check",
        "prompt": "My React Native app has [specific symptom: slow scrolling/laggy animations/high memory usage/slow startup]. What are the top 3 things I should check first and how do I fix them?",
        "scenario": "Initial performance investigation"
      },
      {
        "title": "Bundle Size Analysis",
        "prompt": "My React Native app bundle is [X] MB. Help me use source-map-explorer or Expo Atlas to identify what's taking up space, then suggest specific optimizations for the largest components.",
        "scenario": "Analyzing and reducing bundle size"
      },
      {
        "title": "Memory Leak Investigation",
        "prompt": "My app's memory grows over time and eventually crashes. Walk me through the process of identifying whether this is a JS memory leak or native memory leak, and what tools and patterns to use for each case.",
        "scenario": "Tracking down memory leaks"
      },
      {
        "title": "Animation Optimization",
        "prompt": "I'm using React Native's Animated API for [specific animation] but it's dropping frames on older devices. What's causing this and how can I use Reanimated worklets to achieve smooth 60fps animations?",
        "scenario": "Optimizing animations for performance"
      }
    ],
    "output_examples": [
      {
        "input": "My FlatList is scrolling slowly with 500+ items",
        "output": [
          "1. **Immediate fix**: Switch from FlatList to FlashList for 70% better performance on large lists",
          "2. **Key optimization**: Ensure you're using `keyExtractor` with unique IDs, not index",
          "3. **Render optimization**: Wrap list items with `React.memo` and use `areItemsEqual` prop",
          "4. **Image handling**: Use `cache` prop for remote images and resize mode 'cover'",
          "5. **Avoid in render**: Keep expensive computations out of renderItem and use useCallback"
        ]
      },
      {
        "input": "My app takes 4 seconds to become interactive on launch",
        "output": [
          "**Quick wins (start here):**",
          "- Disable JS bundle compression for Hermes mmap on Android (saves ~300ms)",
          "- Defer non-critical work with InteractionManager.runAfterInteractions",
          "- Use react-native-screens for native navigation instead of JS-based routers",
          "",
          "**Bundle analysis:**",
          "- Run source-map-explorer to find large dependencies",
          "- Remove unused Intl polyfills (Hermes has native Intl support)",
          "- Replace barrel imports with direct imports to enable tree shaking"
        ]
      }
    ],
    "best_practices": [
      "Profile before optimizing - use React DevTools, source-map-explorer, and platform profilers to identify actual bottlenecks rather than guessing",
      "Use FlashList instead of FlatList for lists over 100 items, and always provide a unique keyExtractor using stable IDs, not list index",
      "Enable React Compiler (Expo SDK 52+, React Native 0.76+) for automatic memoization that eliminates unnecessary re-renders without manual useMemo/useCallback"
    ],
    "anti_patterns": [
      "Using ScrollView for large lists - this renders all items upfront causing memory bloat and slow scroll; always use FlatList or FlashList",
      "Barrel exports (importing from index files) - this prevents tree shaking and includes unused code; import directly from source files",
      "Blocking the JS thread with expensive computations during animations - use Reanimated worklets to run animations on the UI thread"
    ],
    "faq": [
      {
        "question": "What is the fastest way to improve React Native performance?",
        "answer": "The biggest impact comes from: (1) Replace ScrollView with FlashList for lists, (2) Enable React Compiler for automatic memoization, (3) Use atomic state (Jotai/Zustand) instead of Context for frequently changing values, (4) Use useDeferredValue for expensive derived data."
      },
      {
        "question": "How do I measure React Native FPS accurately?",
        "answer": "Use React Native Performance Monitor (add `perf` prop to root view) for real-time FPS. For deeper analysis, use Xcode Instruments on iOS or Android Studio CPU Profiler. The react-native-performance library provides programmatic markers for automated testing."
      },
      {
        "question": "Should I use native modules or JavaScript libraries?",
        "answer": "Prefer native modules (Turbo Modules) for: CPU-intensive tasks, file system operations, native UI components. Use JavaScript libraries for: UI logic, data transformation, state management. The skill provides a detailed comparison in native-sdks-over-polyfills.md."
      },
      {
        "question": "How do I reduce my React Native bundle size?",
        "answer": "Key strategies: (1) Avoid barrel exports - import directly from source, (2) Remove unused Intl polyfills (Hermes includes native Intl), (3) Enable tree shaking in Expo SDK 52+ or Re.Pack, (4) Use R8 code shrinking on Android, (5) Audit dependencies with bundle-analyze-js.md."
      },
      {
        "question": "What causes memory leaks in React Native?",
        "answer": "JS leaks: Closures holding references, stale closures in useEffect, unreleased timers/listeners. Native leaks: C++/Swift/Kotlin objects not properly deallocated, circular references in Turbo Modules. Use heap snapshots in Chrome DevTools for JS and platform profilers for native."
      },
      {
        "question": "How do I optimize animations for 60fps?",
        "answer": "Use Reanimated worklets instead of Animated API for complex animations - worklets run on the UI thread. For simple animations, use useSharedValue and useAnimatedStyle. Avoid useAnimatedProps for properties that change every frame. Always test on low-end devices."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "images",
          "type": "dir",
          "path": "references/images",
          "children": [
            {
              "name": "bundle-treemap-source-map-explorer.png",
              "type": "file",
              "path": "references/images/bundle-treemap-source-map-explorer.png"
            },
            {
              "name": "controlled-textinput-pingpong.png",
              "type": "file",
              "path": "references/images/controlled-textinput-pingpong.png"
            },
            {
              "name": "devtools-flamegraph.png",
              "type": "file",
              "path": "references/images/devtools-flamegraph.png"
            },
            {
              "name": "emerge-xray-ios.png",
              "type": "file",
              "path": "references/images/emerge-xray-ios.png"
            },
            {
              "name": "expo-atlas-treemap.png",
              "type": "file",
              "path": "references/images/expo-atlas-treemap.png"
            },
            {
              "name": "flashlight-flatlist-vs-flashlist.png",
              "type": "file",
              "path": "references/images/flashlight-flatlist-vs-flashlist.png"
            },
            {
              "name": "fps-drop-graph.png",
              "type": "file",
              "path": "references/images/fps-drop-graph.png"
            },
            {
              "name": "memory-heap-snapshot.png",
              "type": "file",
              "path": "references/images/memory-heap-snapshot.png"
            },
            {
              "name": "tti-warm-start-diagram.png",
              "type": "file",
              "path": "references/images/tti-warm-start-diagram.png"
            },
            {
              "name": "view-hierarchy-flattening.png",
              "type": "file",
              "path": "references/images/view-hierarchy-flattening.png"
            },
            {
              "name": "xcode-instruments-templates.png",
              "type": "file",
              "path": "references/images/xcode-instruments-templates.png"
            },
            {
              "name": "xcode-thread-view.png",
              "type": "file",
              "path": "references/images/xcode-thread-view.png"
            }
          ]
        },
        {
          "name": "bundle-analyze-app.md",
          "type": "file",
          "path": "references/bundle-analyze-app.md",
          "lines": 212
        },
        {
          "name": "bundle-analyze-js.md",
          "type": "file",
          "path": "references/bundle-analyze-js.md",
          "lines": 263
        },
        {
          "name": "bundle-barrel-exports.md",
          "type": "file",
          "path": "references/bundle-barrel-exports.md",
          "lines": 249
        },
        {
          "name": "bundle-code-splitting.md",
          "type": "file",
          "path": "references/bundle-code-splitting.md",
          "lines": 225
        },
        {
          "name": "bundle-hermes-mmap.md",
          "type": "file",
          "path": "references/bundle-hermes-mmap.md",
          "lines": 168
        },
        {
          "name": "bundle-library-size.md",
          "type": "file",
          "path": "references/bundle-library-size.md",
          "lines": 178
        },
        {
          "name": "bundle-native-assets.md",
          "type": "file",
          "path": "references/bundle-native-assets.md",
          "lines": 215
        },
        {
          "name": "bundle-r8-android.md",
          "type": "file",
          "path": "references/bundle-r8-android.md",
          "lines": 226
        },
        {
          "name": "bundle-tree-shaking.md",
          "type": "file",
          "path": "references/bundle-tree-shaking.md",
          "lines": 215
        },
        {
          "name": "js-animations-reanimated.md",
          "type": "file",
          "path": "references/js-animations-reanimated.md",
          "lines": 315
        },
        {
          "name": "js-atomic-state.md",
          "type": "file",
          "path": "references/js-atomic-state.md",
          "lines": 246
        },
        {
          "name": "js-concurrent-react.md",
          "type": "file",
          "path": "references/js-concurrent-react.md",
          "lines": 237
        },
        {
          "name": "js-lists-flatlist-flashlist.md",
          "type": "file",
          "path": "references/js-lists-flatlist-flashlist.md",
          "lines": 237
        },
        {
          "name": "js-measure-fps.md",
          "type": "file",
          "path": "references/js-measure-fps.md",
          "lines": 181
        },
        {
          "name": "js-memory-leaks.md",
          "type": "file",
          "path": "references/js-memory-leaks.md",
          "lines": 206
        },
        {
          "name": "js-profile-react.md",
          "type": "file",
          "path": "references/js-profile-react.md",
          "lines": 162
        },
        {
          "name": "js-react-compiler.md",
          "type": "file",
          "path": "references/js-react-compiler.md",
          "lines": 369
        },
        {
          "name": "js-uncontrolled-components.md",
          "type": "file",
          "path": "references/js-uncontrolled-components.md",
          "lines": 217
        },
        {
          "name": "native-android-16kb-alignment.md",
          "type": "file",
          "path": "references/native-android-16kb-alignment.md",
          "lines": 114
        },
        {
          "name": "native-measure-tti.md",
          "type": "file",
          "path": "references/native-measure-tti.md",
          "lines": 263
        },
        {
          "name": "native-memory-leaks.md",
          "type": "file",
          "path": "references/native-memory-leaks.md",
          "lines": 241
        },
        {
          "name": "native-memory-patterns.md",
          "type": "file",
          "path": "references/native-memory-patterns.md",
          "lines": 275
        },
        {
          "name": "native-platform-setup.md",
          "type": "file",
          "path": "references/native-platform-setup.md",
          "lines": 209
        },
        {
          "name": "native-profiling.md",
          "type": "file",
          "path": "references/native-profiling.md",
          "lines": 177
        },
        {
          "name": "native-sdks-over-polyfills.md",
          "type": "file",
          "path": "references/native-sdks-over-polyfills.md",
          "lines": 184
        },
        {
          "name": "native-threading-model.md",
          "type": "file",
          "path": "references/native-threading-model.md",
          "lines": 235
        },
        {
          "name": "native-turbo-modules.md",
          "type": "file",
          "path": "references/native-turbo-modules.md",
          "lines": 293
        },
        {
          "name": "native-view-flattening.md",
          "type": "file",
          "path": "references/native-view-flattening.md",
          "lines": 202
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 185
    }
  ]
}
