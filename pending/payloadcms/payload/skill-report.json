{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T13:44:09.574Z",
    "slug": "payloadcms/payload",
    "source_url": "https://github.com/payloadcms/payload/tree/main/tools/claude-plugin/skills/payload/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "payload",
    "description": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access control, Payload API). Use when debugging validation errors, security issues, relationship queries, transactions, or hook behavior.",
    "summary": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access co...",
    "icon": "ðŸš€",
    "version": "3.0.0",
    "author": "Payload CMS",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "cms",
      "typescript",
      "next.js",
      "api",
      "database"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only documentation and reference materials for Payload CMS development. No executable code, network calls, file system access, or credential handling detected. All content is educational TypeScript examples for configuring CMS collections, fields, hooks, and access control patterns.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 3874,
    "audit_model": "claude",
    "audited_at": "2025-12-31T13:44:09.572Z"
  },
  "content": {
    "user_title": "Build Payload CMS applications with TypeScript patterns",
    "value_statement": "Payload CMS projects require understanding collections, hooks, access control, and database adapters. This skill provides complete reference documentation for building secure, type-safe CMS applications.",
    "seo_keywords": [
      "Payload CMS",
      "Claude Code",
      "Claude",
      "Codex",
      "TypeScript CMS",
      "headless CMS",
      "Next.js CMS",
      "access control",
      "MongoDB adapter",
      "Postgres adapter"
    ],
    "actual_capabilities": [
      "Provides collection configuration patterns with authentication, uploads, and drafts",
      "Explains field types including relationships, arrays, blocks, and geospatial queries",
      "Documents hook patterns for beforeChange, afterChange, and field-level hooks",
      "Covers access control including RBAC, multi-tenant, and row-level security",
      "Shows query operators and Local API, REST, and GraphQL usage",
      "Includes plugin development architecture and package structure"
    ],
    "limitations": [
      "Reference documentation only with no code generation",
      "Requires existing Payload CMS project setup",
      "Examples use TypeScript and may need adaptation for JavaScript projects",
      "Does not include deployment or hosting guidance"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developer",
        "title": "Configure secure access control",
        "description": "Implement role-based access control, multi-tenant isolation, and field-level permissions for CMS collections."
      },
      {
        "target_user": "Full-Stack Developer",
        "title": "Build content models with relationships",
        "description": "Create collections with complex field types, polymorphic relationships, and custom validation rules."
      },
      {
        "target_user": "Plugin Developer",
        "title": "Create reusable CMS plugins",
        "description": "Build Payload plugins that add fields, hooks, endpoints, and admin components to existing projects."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic collection setup",
        "scenario": "Creating a new content collection",
        "prompt": "How do I create a Posts collection with title, slug, author relationship, and draft workflow in Payload CMS?"
      },
      {
        "title": "Access control implementation",
        "scenario": "Restricting content by user",
        "prompt": "How do I implement row-level security so users can only edit their own posts but admins can edit all posts?"
      },
      {
        "title": "Hook for side effects",
        "scenario": "Running code after document save",
        "prompt": "How do I create an afterChange hook that sends a notification when a post is published and revalidates the page cache?"
      },
      {
        "title": "Plugin architecture",
        "scenario": "Building a reusable plugin",
        "prompt": "What is the correct structure for a Payload plugin that adds SEO fields to multiple collections with tabbed UI?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I restrict users to only see their own orders?",
        "output": [
          "Create an access control function that returns a query constraint",
          "Return { customer: { equals: user.id } } for non-admin users",
          "Return true for admin users to allow full access",
          "Apply this function to the read property in collection access config"
        ]
      }
    ],
    "best_practices": [
      "Always pass req parameter in hooks to maintain transaction atomicity across nested operations",
      "Set overrideAccess to false when passing user parameter in Local API calls",
      "Use context flags to prevent infinite hook loops when hooks trigger the same operation"
    ],
    "anti_patterns": [
      "Do not assume Local API respects access control by default. It bypasses permissions unless overrideAccess is false.",
      "Do not omit req parameter in nested hook operations. This breaks transaction atomicity and can cause data corruption.",
      "Do not trigger the same operation from within a hook without a context flag. This creates infinite loops."
    ],
    "faq": [
      {
        "question": "Which databases does Payload CMS support?",
        "answer": "Payload supports MongoDB, PostgreSQL, and SQLite through official adapters. Each adapter has specific transaction and feature capabilities."
      },
      {
        "question": "What are the limits for relationship depth queries?",
        "answer": "Default depth is 2 levels. Set maxDepth on relationship fields or use depth parameter in queries. Higher values impact performance."
      },
      {
        "question": "How do I integrate Payload with existing Next.js apps?",
        "answer": "Payload installs directly in the Next.js app directory. Use getPayload() in server components and API routes to access the CMS."
      },
      {
        "question": "Is my access control logic safe from data leaks?",
        "answer": "Local API bypasses access control by default. Always use overrideAccess: false with user parameter to enforce permissions."
      },
      {
        "question": "Why do my hook operations fail silently or cause duplicates?",
        "answer": "Missing req parameter runs operations outside the transaction. Always pass req to nested operations for atomicity."
      },
      {
        "question": "How does Payload compare to other headless CMS platforms?",
        "answer": "Payload is code-first with full TypeScript support. It runs inside your Next.js app rather than as a separate service."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "ACCESS-CONTROL-ADVANCED.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL-ADVANCED.md"
        },
        {
          "name": "ACCESS-CONTROL.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL.md"
        },
        {
          "name": "ADAPTERS.md",
          "type": "file",
          "path": "reference/ADAPTERS.md"
        },
        {
          "name": "ADVANCED.md",
          "type": "file",
          "path": "reference/ADVANCED.md"
        },
        {
          "name": "COLLECTIONS.md",
          "type": "file",
          "path": "reference/COLLECTIONS.md"
        },
        {
          "name": "ENDPOINTS.md",
          "type": "file",
          "path": "reference/ENDPOINTS.md"
        },
        {
          "name": "FIELD-TYPE-GUARDS.md",
          "type": "file",
          "path": "reference/FIELD-TYPE-GUARDS.md"
        },
        {
          "name": "FIELDS.md",
          "type": "file",
          "path": "reference/FIELDS.md"
        },
        {
          "name": "HOOKS.md",
          "type": "file",
          "path": "reference/HOOKS.md"
        },
        {
          "name": "PLUGIN-DEVELOPMENT.md",
          "type": "file",
          "path": "reference/PLUGIN-DEVELOPMENT.md"
        },
        {
          "name": "QUERIES.md",
          "type": "file",
          "path": "reference/QUERIES.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}