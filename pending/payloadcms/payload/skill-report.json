{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T14:29:13.173Z",
    "slug": "payloadcms-payload",
    "source_url": "https://github.com/payloadcms/payload/tree/main/tools/claude-plugin/skills/payload/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "payload",
    "description": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access control, Payload API). Use when debugging validation errors, security issues, relationship queries, transactions, or hook behavior.",
    "summary": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access co...",
    "icon": "ðŸš€",
    "version": "3.0.0",
    "author": "Payload CMS",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "cms",
      "nextjs",
      "typescript",
      "backend",
      "api"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only Markdown documentation files with no executable code. All content consists of reference documentation, code examples, and best practices for Payload CMS development. No security threats, malicious patterns, or suspicious code were detected.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 4842,
    "audit_model": "claude",
    "audited_at": "2025-12-31T14:29:13.171Z"
  },
  "content": {
    "user_title": "Build headless CMS applications with Payload CMS patterns",
    "value_statement": "Payload CMS development requires understanding collections, hooks, access control, and API patterns. This skill provides quick reference for all Payload concepts with practical code examples.",
    "seo_keywords": [
      "Payload CMS",
      "Claude Code",
      "Claude",
      "Codex",
      "headless CMS",
      "Next.js CMS",
      "TypeScript CMS",
      "CMS development",
      "API development",
      "content management"
    ],
    "actual_capabilities": [
      "Reference documentation for all Payload field types including text, relationship, array, blocks, and point",
      "Collection configuration patterns for authentication, uploads, versioning, and drafts",
      "Access control patterns including RBAC, multi-tenant, and row-level security",
      "Hook patterns for beforeChange, afterChange, beforeDelete, and field hooks",
      "Query syntax for Local API, REST API, and GraphQL with all operators",
      "Plugin development guide with package structure and TypeScript patterns"
    ],
    "limitations": [
      "Documentation reference only. Does not execute or generate Payload configurations automatically",
      "Covers Payload 3.x patterns. Some patterns may differ in earlier versions",
      "Requires existing knowledge of TypeScript and Next.js fundamentals",
      "Does not include database setup or deployment instructions"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developer",
        "title": "Implement collection access control",
        "description": "Configure role-based permissions, multi-tenant isolation, and row-level security for Payload collections"
      },
      {
        "target_user": "Full Stack Developer",
        "title": "Build custom CMS features",
        "description": "Create custom hooks, endpoints, and plugins to extend Payload functionality for specific project needs"
      },
      {
        "target_user": "Technical Lead",
        "title": "Review Payload architecture patterns",
        "description": "Reference best practices for transactions, hooks, and security to ensure robust CMS implementations"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Collection Setup",
        "scenario": "Create a new content collection",
        "prompt": "How do I create a Payload collection with title, slug, status fields, and timestamps?"
      },
      {
        "title": "Access Control",
        "scenario": "Restrict content by user role",
        "prompt": "Show me how to implement role-based access control where only admins can delete and editors can update"
      },
      {
        "title": "Relationship Queries",
        "scenario": "Query nested relationships",
        "prompt": "How do I query posts by author name using nested property syntax in Payload?"
      },
      {
        "title": "Plugin Development",
        "scenario": "Create a custom plugin",
        "prompt": "What is the pattern for creating a Payload plugin that adds SEO fields to specified collections?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I prevent infinite loops in Payload hooks?",
        "output": [
          "Use context flag pattern to prevent recursive hook calls",
          "Check context.skipHooks before performing updates",
          "Pass context object with flag when calling nested operations",
          "Example: if (context.skipHooks) return; then use context: { skipHooks: true } in update call"
        ]
      }
    ],
    "best_practices": [
      "Always pass req parameter to nested operations in hooks to maintain transaction atomicity",
      "Set overrideAccess: false when passing user parameter to Local API to enforce access control",
      "Use context flags to prevent infinite hook loops when hooks trigger the same hooks"
    ],
    "anti_patterns": [
      "Passing user to Local API without overrideAccess: false bypasses all access control",
      "Omitting req in nested hook operations breaks transaction atomicity causing data corruption",
      "Creating update operations in afterChange hooks without context checks causes infinite loops"
    ],
    "faq": [
      {
        "question": "Which databases does Payload support?",
        "answer": "Payload supports MongoDB, PostgreSQL, and SQLite through official database adapters. Each has specific configuration options."
      },
      {
        "question": "What are the limits on relationship depth?",
        "answer": "Default depth is 2. Use maxDepth on relationship fields to control population depth. Set depth: 0 for IDs only."
      },
      {
        "question": "How do I integrate Payload with Next.js?",
        "answer": "Payload 3.x installs directly in your Next.js app folder. Use getPayload() in server components and API routes."
      },
      {
        "question": "Is my data safe with Local API operations?",
        "answer": "Local API bypasses access control by default. Always set overrideAccess: false when operating on behalf of users."
      },
      {
        "question": "Why are my hooks creating infinite loops?",
        "answer": "Hooks triggering operations that call the same hooks loop infinitely. Use context flags to break the cycle."
      },
      {
        "question": "How does Payload compare to other headless CMS platforms?",
        "answer": "Payload is code-first, self-hosted, and Next.js native. It offers TypeScript throughout and full customization control."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "ACCESS-CONTROL-ADVANCED.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL-ADVANCED.md"
        },
        {
          "name": "ACCESS-CONTROL.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL.md"
        },
        {
          "name": "ADAPTERS.md",
          "type": "file",
          "path": "reference/ADAPTERS.md"
        },
        {
          "name": "ADVANCED.md",
          "type": "file",
          "path": "reference/ADVANCED.md"
        },
        {
          "name": "COLLECTIONS.md",
          "type": "file",
          "path": "reference/COLLECTIONS.md"
        },
        {
          "name": "ENDPOINTS.md",
          "type": "file",
          "path": "reference/ENDPOINTS.md"
        },
        {
          "name": "FIELD-TYPE-GUARDS.md",
          "type": "file",
          "path": "reference/FIELD-TYPE-GUARDS.md"
        },
        {
          "name": "FIELDS.md",
          "type": "file",
          "path": "reference/FIELDS.md"
        },
        {
          "name": "HOOKS.md",
          "type": "file",
          "path": "reference/HOOKS.md"
        },
        {
          "name": "PLUGIN-DEVELOPMENT.md",
          "type": "file",
          "path": "reference/PLUGIN-DEVELOPMENT.md"
        },
        {
          "name": "QUERIES.md",
          "type": "file",
          "path": "reference/QUERIES.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}