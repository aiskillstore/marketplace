{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T15:14:37.007Z",
    "slug": "payloadcms-payload",
    "source_url": "https://github.com/payloadcms/payload/tree/main/tools/claude-plugin/skills/payload/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community"
  },
  "skill": {
    "name": "payload",
    "description": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access control, Payload API). Use when debugging validation errors, security issues, relationship queries, transactions, or hook behavior.",
    "summary": "Use when working with Payload CMS projects (payload.config.ts, collections, fields, hooks, access co...",
    "icon": "ðŸ“¦",
    "version": "3.0.0",
    "author": "payloadcms",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "cms",
      "payload",
      "nextjs",
      "typescript",
      "headless-cms"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This skill contains only markdown documentation files with TypeScript code examples for Payload CMS development. No executable code, network calls, or file system operations are present. All content is educational reference material that matches the stated purpose.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 12,
    "total_lines": 5392,
    "audit_model": "claude",
    "audited_at": "2025-12-31T15:14:37.004Z"
  },
  "content": {
    "user_title": "Build Payload CMS projects with expert patterns",
    "value_statement": "Payload CMS development requires understanding collections, hooks, access control, and API patterns. This skill provides comprehensive reference documentation for building type-safe headless CMS applications.",
    "seo_keywords": [
      "Payload CMS",
      "Claude Code",
      "headless CMS",
      "Next.js CMS",
      "TypeScript CMS",
      "Payload collections",
      "Payload hooks",
      "access control patterns",
      "Payload API"
    ],
    "actual_capabilities": [
      "Collection configuration with auth, upload, versioning, and live preview",
      "Field types including relationships, blocks, arrays, geolocation, and virtual fields",
      "Hook patterns for beforeChange, afterChange, validation, and context sharing",
      "Access control with row-level security, RBAC, and multi-tenant patterns",
      "Local API, REST, and GraphQL query patterns with operators",
      "Plugin development with package structure and TypeScript patterns"
    ],
    "limitations": [
      "Reference documentation only, does not execute Payload commands",
      "Covers Payload 3.x patterns, may not reflect older versions",
      "Does not include database migration or deployment procedures",
      "Requires existing Payload project structure to apply patterns"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developer",
        "title": "Configure complex collection schemas",
        "description": "Define collections with relationships, blocks, versioning, and custom access control for content management systems."
      },
      {
        "target_user": "Full-Stack Developer",
        "title": "Implement secure access control",
        "description": "Build role-based and row-level security patterns for multi-tenant applications with proper permission handling."
      },
      {
        "target_user": "Plugin Developer",
        "title": "Create reusable Payload plugins",
        "description": "Structure plugin packages with TypeScript, add fields to collections, inject hooks, and register custom endpoints."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create basic collection",
        "scenario": "Need a new content type with fields",
        "prompt": "Create a Payload collection for blog posts with title, slug, content, author relationship, and published status"
      },
      {
        "title": "Add access control",
        "scenario": "Restrict who can view or edit content",
        "prompt": "Add access control to my Posts collection so users can only edit their own posts but admins can edit all"
      },
      {
        "title": "Configure file uploads",
        "scenario": "Handle media with image sizes",
        "prompt": "Create a Media collection with image uploads that generates thumbnail and card image sizes"
      },
      {
        "title": "Build plugin with hooks",
        "scenario": "Extend Payload with reusable logic",
        "prompt": "Create a Payload plugin that adds an audit log collection and records all document changes using afterChange hooks"
      }
    ],
    "output_examples": [
      {
        "input": "How do I restrict access to published content only for public users?",
        "output": [
          "Use a query constraint in the read access function",
          "Return true for authenticated users to see all content",
          "Return { _status: { equals: 'published' } } for unauthenticated users",
          "Enable versions with drafts: true on the collection",
          "The _status field is auto-injected when drafts are enabled"
        ]
      }
    ],
    "best_practices": [
      "Always pass the req parameter to nested operations in hooks to maintain transaction atomicity",
      "Set overrideAccess: false when passing a user parameter to Local API operations",
      "Use context flags to prevent infinite loops when hooks trigger the same operation"
    ],
    "anti_patterns": [
      "Passing user to Local API without overrideAccess: false bypasses all access control",
      "Omitting req in hook operations breaks database transaction atomicity",
      "Triggering updates in afterChange without context checks causes infinite loops"
    ],
    "faq": [
      {
        "question": "Which database adapters does Payload support?",
        "answer": "Payload supports MongoDB, PostgreSQL, SQLite, Vercel Postgres, and Cloudflare D1. All use Drizzle ORM under the hood except MongoDB."
      },
      {
        "question": "What is the maximum depth for relationship population?",
        "answer": "Default depth is 2. Set depth: 0 for IDs only, or increase up to your configured maxDepth per field. Higher depth increases query load."
      },
      {
        "question": "Can I use Payload with existing Next.js projects?",
        "answer": "Yes. Payload 3.x installs directly in your Next.js app folder. Add the admin route and configure payload.config.ts in your project."
      },
      {
        "question": "How does Payload handle sensitive data in queries?",
        "answer": "Use field-level access control with read functions to hide fields from unauthorized users. Fields with false access are omitted from results."
      },
      {
        "question": "Why are my hooks not seeing other hook changes?",
        "answer": "Use req.context to share data between hooks in the same request. Context persists across beforeChange, afterChange, and nested operations."
      },
      {
        "question": "How does this compare to other CMS solutions?",
        "answer": "Payload is code-first with full TypeScript support and runs in your Next.js app. Unlike hosted CMSs, you own the code and database entirely."
      }
    ]
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "ACCESS-CONTROL-ADVANCED.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL-ADVANCED.md"
        },
        {
          "name": "ACCESS-CONTROL.md",
          "type": "file",
          "path": "reference/ACCESS-CONTROL.md"
        },
        {
          "name": "ADAPTERS.md",
          "type": "file",
          "path": "reference/ADAPTERS.md"
        },
        {
          "name": "ADVANCED.md",
          "type": "file",
          "path": "reference/ADVANCED.md"
        },
        {
          "name": "COLLECTIONS.md",
          "type": "file",
          "path": "reference/COLLECTIONS.md"
        },
        {
          "name": "ENDPOINTS.md",
          "type": "file",
          "path": "reference/ENDPOINTS.md"
        },
        {
          "name": "FIELD-TYPE-GUARDS.md",
          "type": "file",
          "path": "reference/FIELD-TYPE-GUARDS.md"
        },
        {
          "name": "FIELDS.md",
          "type": "file",
          "path": "reference/FIELDS.md"
        },
        {
          "name": "HOOKS.md",
          "type": "file",
          "path": "reference/HOOKS.md"
        },
        {
          "name": "PLUGIN-DEVELOPMENT.md",
          "type": "file",
          "path": "reference/PLUGIN-DEVELOPMENT.md"
        },
        {
          "name": "QUERIES.md",
          "type": "file",
          "path": "reference/QUERIES.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}