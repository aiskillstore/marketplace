{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-06T07:35:52.116Z",
    "slug": "obra-using-git-worktrees",
    "source_url": "https://github.com/obra/superpowers/tree/main/skills/using-git-worktrees",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "cb257781be507967bdee3c219d42f8e1a8694f86cab623bf769bd590d7f1a92d",
    "tree_hash": "3fb3f5dd000bb912b611cb37fed342a133ff1998ea303011d0895cdc11a897fc"
  },
  "skill": {
    "name": "using-git-worktrees",
    "description": "Use when starting feature work that needs isolation from current workspace or before executing implementation plans - creates isolated git worktrees with smart directory selection and safety verification",
    "summary": "Use when starting feature work that needs isolation from current workspace or before executing imple...",
    "icon": "ðŸŒ³",
    "version": "1.0.0",
    "author": "obra",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "git",
      "worktree",
      "branching",
      "isolation",
      "development"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a prompt-based documentation skill with no executable code. It provides guidelines for safely using git worktrees. All referenced commands are standard git and development operations that match the stated purpose. Includes explicit safety practices for gitignore verification and test baseline confirmation.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 218,
    "audit_model": "claude",
    "audited_at": "2026-01-06T07:35:52.116Z"
  },
  "content": {
    "user_title": "Set up isolated git worktrees for feature work",
    "value_statement": "Managing multiple features simultaneously requires switching branches, which disrupts your workflow and creates context loss. This skill creates isolated git worktrees where each feature develops in parallel without interference, maintaining clean test baselines and preventing accidental commits.",
    "seo_keywords": [
      "git worktree",
      "git branch isolation",
      "claude worktree setup",
      "claude-code development",
      "parallel branches",
      "git workspace management",
      "feature branch workflow",
      "codex git tools",
      "claude devops",
      "git directory management"
    ],
    "actual_capabilities": [
      "Create isolated git worktrees in project-local or global directories",
      "Auto-detect preferred worktree locations from CLAUDE.md or existing directories",
      "Verify worktree directories are properly ignored in .gitignore",
      "Auto-detect and run project setup commands (npm, cargo, poetry, go mod)",
      "Run test baselines to confirm clean starting state before feature work",
      "Report worktree locations and test results for user confirmation"
    ],
    "limitations": [
      "Requires git version 2.5+ for worktree support",
      "Cannot create worktrees if repository has uncommitted changes",
      "Does not manage worktree cleanup or branch deletion",
      "Requires user permission before proceeding when tests fail"
    ],
    "use_cases": [
      {
        "target_user": "Feature Developers",
        "title": "Parallel Feature Development",
        "description": "Work on multiple features simultaneously with complete isolation, switching contexts instantly by changing directories instead of running git checkout."
      },
      {
        "target_user": "Code Reviewers",
        "title": "Isolated PR Testing",
        "description": "Test pull request changes in a clean workspace without affecting your current development state or needing to stash changes."
      },
      {
        "target_user": "AI Agent Users",
        "title": "Planning Session Isolation",
        "description": "Set up clean workspaces for AI planning sessions, ensuring implementation happens in isolated directories that do not pollute main development."
      }
    ],
    "prompt_templates": [
      {
        "title": "Start Feature Work",
        "scenario": "Beginning new feature development",
        "prompt": "I'm using the using-git-worktrees skill to set up an isolated workspace for the [feature-name] feature."
      },
      {
        "title": "Check Existing Setup",
        "scenario": "Verifying worktree configuration",
        "prompt": "Check if we have an existing worktree directory configured. If so, create a new worktree for the [feature-name] branch."
      },
      {
        "title": "Handle Test Failures",
        "scenario": "Tests fail during baseline verification",
        "prompt": "The baseline tests failed with [error-details]. Should I proceed with the feature implementation anyway, or investigate these failures first?"
      },
      {
        "title": "Custom Location",
        "scenario": "Project has CLAUDE.md preferences",
        "prompt": "Look for worktree preferences in CLAUDE.md and create a worktree for the [feature-name] branch at the preferred location."
      }
    ],
    "output_examples": [
      {
        "input": "Set up an isolated workspace for the authentication feature.",
        "output": [
          "Checking for existing worktree directory... found .worktrees/",
          "Verifying .worktrees/ is properly ignored... confirmed",
          "Creating worktree at .worktrees/auth... done",
          "Detecting project type... Node.js project found",
          "Running npm install... done",
          "Running npm test... 47 passing, 0 failing",
          "Worktree ready at /project/.worktrees/auth",
          "Ready to implement authentication feature"
        ]
      }
    ],
    "best_practices": [
      "Always verify the worktree directory is gitignored before creating project-local worktrees to prevent accidental commits",
      "Run baseline tests immediately after setup to establish a clean starting state for the feature",
      "Follow the priority order: existing directories > CLAUDE.md preferences > user confirmation"
    ],
    "anti_patterns": [
      "Skipping gitignore verification - worktree contents may accidentally get committed to the repository",
      "Proceeding with feature work when baseline tests fail - cannot distinguish new bugs from pre-existing issues",
      "Hardcoding worktree locations - violates project conventions and reduces flexibility"
    ],
    "faq": [
      {
        "question": "What git version is required for worktrees?",
        "answer": "Git version 2.5 or higher is required for worktree support. Check your version with git --version."
      },
      {
        "question": "Can I use worktrees with any git hosting service?",
        "answer": "Yes, worktrees are a local git feature. They work with GitHub, GitLab, Bitbucket, and any git hosting service."
      },
      {
        "question": "How many worktrees can I create?",
        "answer": "There is no hard limit. Practical limits depend on disk space and system resources. Each worktree includes a full working directory."
      },
      {
        "question": "Is my data safe in worktrees?",
        "answer": "Worktrees are local git directories. No data is sent to external servers. Always verify worktrees are gitignored for project-local directories."
      },
      {
        "question": "Why are my tests failing in the new worktree?",
        "answer": "Run baseline tests immediately after setup. If they fail, the issue likely exists in the main repository. Proceed only after confirming with the user."
      },
      {
        "question": "How is this different from git checkout?",
        "answer": "Git checkout switches branches in the same directory, losing uncommitted changes. Worktrees create separate directories, allowing multiple branches simultaneously."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
