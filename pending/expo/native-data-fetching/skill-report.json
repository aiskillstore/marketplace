{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T07:07:02.856Z",
    "slug": "expo-native-data-fetching",
    "source_url": "https://github.com/expo/skills/tree/main/plugins/expo-app-design/skills/native-data-fetching/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "daf0280c7965642b57bad8d9e888fb2323fabc45d33b293c8a3eb42abaa54bb4",
    "tree_hash": "9ee2746f713c8461f0c801ba0d6bf86349820eb9b132ad505ab30f29aac11d99"
  },
  "skill": {
    "name": "native-data-fetching",
    "description": "Use when implementing or debugging ANY network request, API call, or data fetching. Covers fetch API, axios, React Query, SWR, error handling, caching strategies, offline support.",
    "summary": "Implement and debug network requests, API calls, and data fetching patterns in Expo apps with React Query, SWR, and proper error handling.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "expo",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "networking",
      "api",
      "data-fetching",
      "react-query",
      "fetch"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. This is a documentation skill containing example code. The scanner misidentified Markdown code block delimiters (backticks) as Ruby shell execution, fetch examples as actual network calls, and environment variable documentation as credential access. The skill provides legitimate Expo networking guidance with appropriate security warnings about client-side secrets.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 492,
    "audit_model": "claude",
    "audited_at": "2026-01-23T07:07:02.856Z",
    "risk_factors": [],
    "risk_factor_evidence": []
  },
  "content": {
    "user_title": "Fetch Data from APIs",
    "value_statement": "Expo apps need reliable data from APIs but developers often struggle with error handling, caching, and offline support. This skill provides complete patterns for implementing network requests with React Query, SWR, authentication tokens, and environment configuration.",
    "seo_keywords": [
      "Expo data fetching",
      "React Native networking",
      "API calls React Native",
      "React Query Expo",
      "fetch API React Native",
      "network requests mobile",
      "offline data caching",
      "Expo environment variables",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Implement fetch requests with proper error handling and retry logic",
      "Set up React Query or SWR for caching, deduping, and automatic refetching",
      "Handle authentication tokens with secure storage and refresh flows",
      "Configure environment-specific API URLs using Expo environment variables",
      "Add offline support with network status detection and request queuing",
      "Create reusable API client utilities with type-safe methods"
    ],
    "limitations": [
      "Does not handle GraphQL subscriptions or real-time WebSocket connections",
      "Does not provide backend API implementation or server-side code",
      "Does not include advanced caching strategies like Redis or complex cache invalidation patterns",
      "Does not manage database connections or ORM operations"
    ],
    "use_cases": [
      {
        "title": "Build API-connected screens",
        "description": "Implement data fetching for user profiles, feeds, or dashboards with loading states, error handling, and automatic refetching.",
        "target_user": "Frontend developers building Expo mobile apps"
      },
      {
        "title": "Add offline-first functionality",
        "description": "Enable apps to work without internet by detecting network status and queueing requests for later sync.",
        "target_user": "Mobile developers requiring offline support"
      },
      {
        "title": "Secure API authentication",
        "description": "Implement token-based auth with secure storage, automatic refresh, and proper header configuration.",
        "target_user": "Security-focused developers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic API Request",
        "prompt": "How do I make a fetch request in React Native to get data from an API endpoint?",
        "scenario": "Getting started with network requests"
      },
      {
        "title": "Caching with React Query",
        "prompt": "Set up React Query in my Expo app to fetch user data with 5-minute cache and automatic refetch on focus.",
        "scenario": "Implementing data caching and state management"
      },
      {
        "title": "Offline Support",
        "prompt": "Make my Expo app work offline by detecting network status and caching responses for later sync when back online.",
        "scenario": "Adding offline-first capabilities"
      },
      {
        "title": "Authentication Flow",
        "prompt": "Create an authenticated fetch wrapper that adds Bearer tokens to requests and handles token refresh when expired using expo-secure-store.",
        "scenario": "Implementing secure API authentication"
      }
    ],
    "output_examples": [
      {
        "input": "How do I make an authenticated POST request to create a new user?",
        "output": "Use a fetch wrapper that includes the auth token from secure storage. Check the response status and throw a typed error on failure."
      },
      {
        "input": "Should I use React Query or SWR for my Expo app?",
        "output": "React Query is better for complex apps with mutations, optimistic updates, and server state management. SWR works well for simpler read-heavy use cases."
      },
      {
        "input": "How do I configure different API URLs for development and production?",
        "output": "Use Expo environment variables with the EXPO_PUBLIC_ prefix. Create .env.development and .env.production files. The correct values are inlined at build time."
      }
    ],
    "best_practices": [
      "Always check response.ok and throw errors for failed HTTP status codes to catch network and server errors consistently.",
      "Use React Query or SWR for caching, automatic refetching, and deduplication instead of raw fetch in components.",
      "Store authentication tokens in expo-secure-store, not AsyncStorage, to prevent extraction from device backups."
    ],
    "anti_patterns": [
      "Skipping error handling and directly calling response.json() after fetch, which masks HTTP errors and network failures.",
      "Storing tokens or API keys in AsyncStorage, which is not encrypted and can be accessed from device backups.",
      "Putting secrets in EXPO_PUBLIC_ environment variables, which are exposed in the compiled app bundle."
    ],
    "faq": [
      {
        "question": "Should I use axios or fetch in Expo?",
        "answer": "Prefer the built-in fetch API or expo-fetch, which are lighter and better integrated with React Native. Axios adds bundle size without significant benefits for most use cases."
      },
      {
        "question": "How do I handle API timeouts?",
        "answer": "Use AbortController with a timeout signal. React Query supports this natively through the queryFn signal parameter or AbortController passed in options."
      },
      {
        "question": "Where should I store my API keys?",
        "answer": "Client-safe keys can use EXPO_PUBLIC_ prefix in .env files. Secret keys like database credentials must stay server-side in API routes or cloud functions."
      },
      {
        "question": "How do I cancel pending requests?",
        "answer": "Use AbortController with the signal option in fetch. React Query handles cancellation automatically when components unmount or queries are invalidated."
      },
      {
        "question": "Why is my fetch working in development but failing in production?",
        "answer": "Check environment variable inlining requires restarting the dev server. Also verify API URLs differ between environments and SSL certificates are properly configured."
      },
      {
        "question": "How do I retry failed requests?",
        "answer": "Implement exponential backoff retry logic manually or use React Query's retry option with retryDelay for automatic retries on failure."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 492
    }
  ]
}
