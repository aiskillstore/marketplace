{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-23T12:47:31.208Z",
    "slug": "vitalics-playwright-best-practices",
    "source_url": "https://github.com/vitalics/playwright-labs/tree/main/packages/playwright-best-practices/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "14423830c13ac37f599afed04cad3f22811a7bf944d97632b22ed9f0759665a7",
    "tree_hash": "9d4e95ac0273c15a90477831bc4bd5068d7f2e71fdcd77fcb75d2f89df4ac3b2"
  },
  "skill": {
    "name": "playwright-best-practices",
    "description": "Review code for Playwright Guidelines compliance. Use when asked to \"review my playwright tests\", \"check accessibility\", or \"check my tests against best practices\".",
    "summary": "Review Playwright TypeScript tests against 40+ best practice rules for stability, speed, and maintainability.",
    "icon": "ðŸ“¦",
    "version": "1.1.0",
    "author": "vitalics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "playwright",
      "testing",
      "typescript",
      "test-automation",
      "code-review"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network",
      "filesystem",
      "env_access",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing markdown files with code examples. All static findings are false positives - patterns detected in documentation code blocks, not executable code. The skill provides guidelines for Playwright test best practices and does not execute arbitrary code, make network requests to external services, or access sensitive files.",
    "files_scanned": 15,
    "total_lines": 7900,
    "audit_model": "claude",
    "audited_at": "2026-01-23T12:47:31.208Z",
    "risk_factors": [
      "scripts",
      "network",
      "filesystem",
      "env_access",
      "external_commands"
    ],
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "AGENTS.md",
            "line_start": 48,
            "line_end": 48
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "AGENTS.md",
            "line_start": 2354,
            "line_end": 2354
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "AGENTS.md",
            "line_start": 1386,
            "line_end": 1387
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "AGENTS.md",
            "line_start": 1475,
            "line_end": 1475
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Documentation Shell Command Examples",
        "description": "Shell command patterns found in markdown documentation code blocks. These are instructional examples for setup commands (pnpm install, pnpm build) and are not executable code.",
        "locations": [
          {
            "file": "README.md",
            "line_start": 7,
            "line_end": 14
          },
          {
            "file": "AGENTS.md",
            "line_start": 48,
            "line_end": 48
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Shell commands in markdown code blocks are documentation examples for developers setting up the project, not runtime code execution."
      },
      {
        "title": "Documentation Hardcoded URLs",
        "description": "URL patterns found in markdown documentation. These are documentation links to resources, tutorials, and references, not runtime network requests.",
        "locations": [
          {
            "file": "README.md",
            "line_start": 19,
            "line_end": 20
          },
          {
            "file": "AGENTS.md",
            "line_start": 95,
            "line_end": 95
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "URLs in documentation are references to external resources like Playwright documentation, not network calls made by the skill."
      },
      {
        "title": "Documentation Environment Variable Examples",
        "description": "Environment variable access patterns found in code examples within documentation. These are instructional examples showing how to configure test environments.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 1475,
            "line_end": 1475
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Environment variable references in documentation are examples of test configuration patterns, not actual environment access."
      },
      {
        "title": "Documentation TypeScript Code Examples",
        "description": "TypeScript code patterns in documentation showing Playwright test examples. These are instructional examples demonstrating best practices, not executable test code.",
        "locations": [
          {
            "file": "AGENTS.md",
            "line_start": 91,
            "line_end": 91
          },
          {
            "file": "rules/assertion-web-first.md",
            "line_start": 55,
            "line_end": 83
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "TypeScript code blocks in markdown are documentation examples showing incorrect and correct Playwright patterns, not actual test files."
      }
    ],
    "dangerous_patterns": []
  },
  "content": {
    "user_title": "Review Playwright Tests for Best Practices",
    "value_statement": "Playwright tests often suffer from flakiness, slow execution, and poor maintainability. This skill reviews TypeScript test code against 40+ proven best practices organized into 8 categories, providing specific improvement suggestions with clear examples.",
    "seo_keywords": [
      "Playwright testing best practices",
      "Claude Code",
      "Playwright test review",
      "TypeScript testing guidelines",
      "Test automation patterns",
      "Claude",
      "Codex",
      "Claude Code",
      "Playwright test stability",
      "Test maintainability"
    ],
    "actual_capabilities": [
      "Reviews Playwright TypeScript tests against 40+ best practice rules",
      "Checks for test stability issues like missing auto-waiting and manual timeouts",
      "Identifies performance problems including slow selectors and missing parallel execution",
      "Validates proper use of web-first assertions over generic expect statements",
      "Evaluates locator strategies preferring role-based over CSS/XPath selectors",
      "Provides specific code examples showing incorrect patterns and correct implementations"
    ],
    "limitations": [
      "Does not execute test code or run Playwright tests directly",
      "Does not modify files - only provides review feedback and suggestions",
      "Does not generate new test code from scratch",
      "Limited to patterns documented in the skill's rule set"
    ],
    "use_cases": [
      {
        "title": "QA Engineer Reviewing Existing Tests",
        "description": "A QA engineer wants to audit their Playwright test suite for stability and maintainability issues before deploying to production.",
        "target_user": "QA engineers and test automation developers"
      },
      {
        "title": "Developer Refactoring Legacy Tests",
        "description": "A developer is refactoring legacy Selenium tests to Playwright and wants guidance on proper patterns and anti-patterns to avoid.",
        "target_user": "Frontend developers and SDETs"
      },
      {
        "title": "CI/CD Pipeline Quality Check",
        "description": "A team wants to automatically validate that new test contributions follow established best practices before merging.",
        "target_user": "DevOps teams and engineering managers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Test Review",
        "prompt": "Review my Playwright tests in {file_path} for best practices compliance. Check for issues like missing auto-waiting, proper assertion usage, and locator strategies.",
        "scenario": "When a user wants a quick review of specific test files"
      },
      {
        "title": "Comprehensive Suite Audit",
        "prompt": "Audit all Playwright tests in the {directory} directory against the best practices guidelines. For each issue found, explain what is wrong, why it matters, and provide a corrected example.",
        "scenario": "When a user wants a thorough review of an entire test suite"
      },
      {
        "title": "Specific Pattern Check",
        "prompt": "Check if my tests use web-first assertions correctly. Look for cases where generic expect() is used instead of web-first assertions like toBeVisible(), toHaveText(), and toHaveCount().",
        "scenario": "When a user wants to check for a specific pattern violation"
      },
      {
        "title": "Performance Optimization Review",
        "description": "Focus on test execution speed and parallelization opportunities",
        "prompt": "Review my Playwright tests for performance issues. Check for slow selectors, missing page object model patterns, lack of parallel execution configuration, and unnecessary waits. Suggest specific improvements with code examples.",
        "scenario": "When a user wants to optimize test execution time"
      }
    ],
    "output_examples": [
      {
        "input": "Review the following Playwright test code:\n\n```typescript\ntest('login test', async ({ page }) => {\n  await page.goto('https://example.com');\n  await page.waitForTimeout(2000);\n  await page.click('.submit-button');\n  const isVisible = await page.locator('.welcome').isVisible();\n  expect(isVisible).toBe(true);\n});\n```",
        "output": "Found 2 issues in the test:\n\n1. **Manual waitForTimeout** (Line 3)\n   - Issue: Using `waitForTimeout(2000)` causes flakiness and wastes time\n   - Impact: HIGH - Leads to unreliable tests and slow execution\n   - Fix: Use Playwright's built-in auto-waiting or explicit waits for network events\n   \n2. **Generic expect without auto-waiting** (Line 5)\n   - Issue: `expect(isVisible).toBe(true)` doesn't auto-retry\n   - Impact: HIGH - Can fail intermittently when element isn't ready\n   - Fix: Use `await expect(page.locator('.welcome')).toBeVisible()`"
      },
      {
        "input": "Check my locators for best practices:\n\n```typescript\nconst submitButton = page.locator('button.submit-btn:nth-child(2)');\nconst userName = page.locator('div.container > div.content > span.name');\n```",
        "output": "Found 2 locator issues:\n\n1. **Position-based CSS selector**\n   - Issue: `button.submit-btn:nth-child(2)` is fragile and breaks on UI changes\n   - Impact: HIGH - Tests fail when button order changes\n   - Fix: Use role-based locator like `page.getByRole('button', { name: 'Submit' })`\n\n2. **Deep CSS chain**\n   - Issue: `div.container > div.content > span.name` is brittle and couples to DOM structure\n   - Impact: MEDIUM - Breaks on any structural refactoring\n   - Fix: Use semantic locators like `page.getByText('User Name')` or ARIA roles"
      }
    ],
    "best_practices": [
      "Always use web-first assertions (toBeVisible, toHaveText, toHaveCount) instead of generic expect with extracted values - they auto-wait and retry",
      "Prefer role-based locators (getByRole, getByText, getByLabel) over CSS/XPath selectors - they are more resilient to UI changes",
      "Never use manual waits like waitForTimeout - rely on Playwright's auto-waiting or explicit waits for network events"
    ],
    "anti_patterns": [
      "Using generic expect() with manually extracted DOM values instead of web-first assertions",
      "Using position-based CSS selectors or fragile XPath expressions instead of semantic role-based locators",
      "Adding arbitrary sleep delays instead of proper auto-waiting or explicit condition waits"
    ],
    "faq": [
      {
        "question": "What makes this skill different from other code review tools?",
        "answer": "This skill is specifically designed for Playwright TypeScript testing with 40+ curated rules. It provides contextual explanations, impact levels for each issue, and specific code examples showing both incorrect and correct patterns."
      },
      {
        "question": "Does this skill modify my test files?",
        "answer": "No. The skill only reviews and provides feedback. It does not execute any code or make changes to your files. All suggestions are informational."
      },
      {
        "question": "What categories of best practices does it check?",
        "answer": "The skill covers 8 categories: Test Stability & Reliability, Test Execution Speed, Locator Best Practices, Assertions & Waiting, Parallel Execution, Fixtures & Test Organization, Debugging & Maintenance, and Advanced Patterns."
      },
      {
        "question": "Can I use this for non-Playwright tests?",
        "answer": "The rules are specifically designed for Playwright TypeScript tests. While some general testing principles apply, the skill will not provide relevant feedback for other testing frameworks like Cypress, Selenium, or Jest."
      },
      {
        "question": "How does the skill handle different Playwright versions?",
        "answer": "The best practices rules are based on current Playwright APIs and patterns. The skill reviews code against established guidelines that work with modern Playwright versions."
      },
      {
        "question": "Can I add custom rules to this skill?",
        "answer": "The skill uses a fixed rule set defined in the AGENTS.md file. Custom rules would require modifying the skill's source files. For team-specific guidelines, consider documenting them separately."
      }
    ]
  },
  "file_structure": [
    {
      "name": "rules",
      "type": "dir",
      "path": "rules",
      "children": [
        {
          "name": "_sections.md",
          "type": "file",
          "path": "rules/_sections.md",
          "lines": 46
        },
        {
          "name": "_template.md",
          "type": "file",
          "path": "rules/_template.md",
          "lines": 180
        },
        {
          "name": "advanced-api-mocking.md",
          "type": "file",
          "path": "rules/advanced-api-mocking.md",
          "lines": 613
        },
        {
          "name": "assertion-web-first.md",
          "type": "file",
          "path": "rules/assertion-web-first.md",
          "lines": 453
        },
        {
          "name": "debug-test-steps.md",
          "type": "file",
          "path": "rules/debug-test-steps.md",
          "lines": 231
        },
        {
          "name": "fixture-custom-merge-reuse.md",
          "type": "file",
          "path": "rules/fixture-custom-merge-reuse.md",
          "lines": 822
        },
        {
          "name": "fixture-describe-blocks.md",
          "type": "file",
          "path": "rules/fixture-describe-blocks.md",
          "lines": 151
        },
        {
          "name": "locator-role-based.md",
          "type": "file",
          "path": "rules/locator-role-based.md",
          "lines": 179
        },
        {
          "name": "parallel-test-isolation.md",
          "type": "file",
          "path": "rules/parallel-test-isolation.md",
          "lines": 244
        },
        {
          "name": "parallel-test-sharding.md",
          "type": "file",
          "path": "rules/parallel-test-sharding.md",
          "lines": 400
        },
        {
          "name": "speed-page-object-model.md",
          "type": "file",
          "path": "rules/speed-page-object-model.md",
          "lines": 333
        },
        {
          "name": "stable-auto-waiting.md",
          "type": "file",
          "path": "rules/stable-auto-waiting.md",
          "lines": 265
        }
      ]
    },
    {
      "name": "AGENTS.md",
      "type": "file",
      "path": "AGENTS.md",
      "lines": 3773
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md",
      "lines": 169
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 41
    }
  ]
}
