{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-28T08:41:40.715Z",
    "slug": "vercel-turborepo",
    "source_url": "https://github.com/vercel/turborepo/tree/main/skills/turborepo/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fe1ff30f8c97caf02d1d337ed50d1164935cbd6d15650b4fd876d45856a0a675",
    "tree_hash": "280661ef480061f75eca8de61b53fc40505abc4c13420164e82f9aab62c51ad1"
  },
  "skill": {
    "name": "turborepo",
    "description": "Turborepo monorepo build system guidance. Triggers on: turbo.json, task pipelines,\ndependsOn, caching, remote cache, the \"turbo\" CLI, --filter, --affected, CI optimization, environment\nvariables, internal packages, monorepo structure/best practices, and boundaries.\n\nUse when user: configures tasks/workflows/pipelines, creates packages, sets up\nmonorepo, shares code between apps, runs changed/affected packages, debugs cache,\nor has apps/packages directories.\n",
    "summary": "Turborepo monorepo build system guidance. Triggers on: turbo.json, task pipelines,\ndependsOn, cachin...",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "vercel",
    "license": "MIT",
    "tags": [
      "monorepo",
      "build-system",
      "ci-cd",
      "javascript",
      "typescript"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill containing Turborepo guidance. Static analysis flagged 1305 patterns in markdown documentation files - all findings are false positives. CLI commands, URLs, file paths, and environment variables appear only as documentation examples, not executable code. No code execution, network calls, or file system operations occur.",
    "files_scanned": 26,
    "total_lines": 5296,
    "audit_model": "claude",
    "audited_at": "2026-01-28T08:41:40.715Z",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [
      {
        "title": "External Commands in Documentation",
        "description": "Shell command patterns detected in markdown files. These are CLI examples in documentation, not executable code. Turborepo documentation shows command syntax like `turbo run build` and `npx turbo build` for user reference.",
        "locations": [
          {
            "file": "command/turborepo.md",
            "line_start": 11,
            "line_end": 13
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 27
          }
        ],
        "confidence": 0.95,
        "confidence_reasoning": "All external_command patterns appear in markdown code blocks documenting CLI usage. No shell execution occurs."
      }
    ],
    "low_findings": [
      {
        "title": "Hardcoded URLs in Documentation",
        "description": "URL patterns detected in documentation files. These are reference links and configuration examples, not network calls.",
        "locations": [
          {
            "file": "references/configuration/global-options.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "SKILL.md",
            "line_start": 725,
            "line_end": 725
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "URLs are documentation references or example configurations, not network requests."
      },
      {
        "title": "File Path References",
        "description": "File system path patterns in documentation. These document monorepo structure and file locations, not file operations.",
        "locations": [
          {
            "file": "references/best-practices/structure.md",
            "line_start": 255,
            "line_end": 255
          },
          {
            "file": "SKILL.md",
            "line_start": 346,
            "line_end": 346
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "Paths are documentation examples showing monorepo structure, not file system access."
      },
      {
        "title": "Environment Variable Patterns",
        "description": "Environment variable references in documentation. These document Turborepo configuration, not environment access.",
        "locations": [
          {
            "file": "references/configuration/global-options.md",
            "line_start": 39,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 666,
            "line_end": 668
          }
        ],
        "confidence": 0.9,
        "confidence_reasoning": "Environment variables are documented as Turborepo configuration keys (env, passThrough), not accessed programmatically."
      }
    ],
    "dangerous_patterns": [],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "env_access"
    ],
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "command/turborepo.md",
            "line_start": 11,
            "line_end": 66
          },
          {
            "file": "SKILL.md",
            "line_start": 25,
            "line_end": 100
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "references/configuration/global-options.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "SKILL.md",
            "line_start": 725,
            "line_end": 914
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "references/best-practices/structure.md",
            "line_start": 255,
            "line_end": 255
          },
          {
            "file": "SKILL.md",
            "line_start": 70,
            "line_end": 300
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "references/configuration/global-options.md",
            "line_start": 39,
            "line_end": 39
          },
          {
            "file": "SKILL.md",
            "line_start": 156,
            "line_end": 156
          }
        ]
      }
    ]
  },
  "content": {
    "user_title": "Configure Turborepo monorepo builds",
    "value_statement": "Monorepo build systems can be complex to configure. This skill provides expert guidance on setting up Turborepo pipelines, task dependencies, caching strategies, and CI integration for JavaScript and TypeScript projects.",
    "seo_keywords": [
      "Claude",
      "Codex",
      "Claude Code",
      "turborepo",
      "monorepo",
      "build system",
      "javascript",
      "typescript",
      "ci-cd",
      "node.js"
    ],
    "actual_capabilities": [
      "Guide task pipeline configuration in turbo.json including dependsOn, outputs, and inputs",
      "Explain caching strategies including local cache, remote cache, and cache debugging",
      "Provide filter patterns for running tasks on specific packages using --filter and --affected",
      "Document environment variable handling including env keys and passThrough configuration",
      "Describe CI integration patterns for GitHub Actions, Vercel, and other CI providers"
    ],
    "limitations": [
      "This skill provides guidance only - it does not execute Turborepo commands or modify files",
      "Skill does not install or configure Turborepo in user projects",
      "Cannot debug Turborepo issues in real-time or access user file systems",
      "Limited to Turborepo-specific guidance - general monorepo concepts require other skills"
    ],
    "use_cases": [
      {
        "title": "Configure new monorepo task pipeline",
        "description": "Set up build, test, and lint tasks with proper dependencies and output caching in turbo.json",
        "target_user": "Developers new to Turborepo"
      },
      {
        "title": "Optimize CI build times",
        "description": "Configure --affected flag and remote caching to run only changed packages in CI pipelines",
        "target_user": "DevOps engineers and platform teams"
      },
      {
        "title": "Debug cache miss issues",
        "description": "Diagnose why tasks rebuild unexpectedly and configure proper output patterns and environment variables",
        "target_user": "Full-stack developers troubleshooting build issues"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic task configuration",
        "prompt": "How do I configure a build task in turbo.json that depends on TypeScript compilation? I want the task to cache the dist directory and run in parallel with other packages.",
        "scenario": "Setting up a new build pipeline"
      },
      {
        "title": "Filter and affected packages",
        "prompt": "I want to run tests only for packages that have changed in my Git branch. How do I use --filter or --affected to include dependent packages too?",
        "scenario": "Running targeted tests in CI"
      },
      {
        "title": "Environment variables",
        "prompt": "My environment variables are not being picked up during builds. How do I configure the env key in turbo.json to include API keys that should affect the cache hash?",
        "scenario": "Debugging environment variable configuration"
      },
      {
        "title": "Remote cache setup",
        "prompt": "How do I set up remote caching with Vercel or a custom remote cache server? What credentials do I need and how do I configure the remote?",
        "scenario": "Setting up team-wide caching"
      }
    ],
    "output_examples": [
      {
        "input": "How do I configure turbo.json for a build task?",
        "output": [
          "To configure a build task in turbo.json:",
          "",
          "1. Define the task with outputs for caching:",
          "{",
          "  \"tasks\": {",
          "    \"build\": {",
          "      \"dependsOn\": [\"^build\"],",
          "      \"outputs\": [\"dist/**\", \"build/**\"]",
          "    }",
          "  }",
          "}",
          "",
          "2. The dependsOn array ensures packages build in dependency order.",
          "3. The outputs array specifies what files to cache.",
          "",
          "See references/configuration/tasks.md for more options."
        ]
      },
      {
        "input": "How do I run tests only for changed packages?",
        "output": [
          "Use the --affected flag to automatically detect changed packages:",
          "",
          "turbo run test --affected",
          "",
          "This compares against your default branch and includes:",
          "- Packages with direct changes",
          "- Packages that depend on changed packages",
          "",
          "For custom base branches:",
          "turbo run build --affected --affected-base=origin/develop"
        ]
      }
    ],
    "best_practices": [
      "Configure task outputs explicitly to maximize cache hits and minimize rebuild times",
      "Use the --affected flag in CI to run only changed packages and their dependents",
      "Define tasks at the package level rather than root level to enable proper parallelization"
    ],
    "anti_patterns": [
      "Putting all build commands in root package.json - this defeats Turborepo's parallelization",
      "Using `turbo build` instead of `turbo run build` in scripts and package.json files",
      "Omitting the outputs key - without it, nothing gets cached between runs"
    ],
    "faq": [
      {
        "question": "What is the difference between turbo run and turbo?",
        "answer": "Use `turbo run <task>` in scripts and package.json files. The shorthand `turbo <tasks>` is for one-off terminal commands typed directly by humans. This distinction ensures consistent caching behavior."
      },
      {
        "question": "How do I configure which environment variables affect the cache?",
        "answer": "Add variables to the env array in turbo.json. Variables not listed in env will not trigger cache invalidation when changed. The passThrough array can exclude specific variables from strict mode filtering."
      },
      {
        "question": "Why is my task running when nothing changed?",
        "answer": "Check if environment variables are properly configured in the env key. Also verify that inputs includes any files that should trigger rebuilds, like .env files or config files. Use `turbo run build --summarize` to see hash inputs."
      },
      {
        "question": "What is the Transit Nodes pattern?",
        "answer": "A pattern for running lint and type-check tasks in parallel across all packages while maintaining caching benefits. Tasks that do not depend on each other can run simultaneously, reducing total build time."
      },
      {
        "question": "How do I skip building a package when no changes are detected?",
        "answer": "Use `turbo-ignore` in your CI configuration. It compares the current commit against the parent and exits with code 0 (skip) or 1 (build) based on changes. See references/cli/commands.md for setup details."
      },
      {
        "question": "What is the difference between apps and packages directories?",
        "answer": "Apps are deployable applications (web apps, APIs). Packages are reusable libraries (UI components, utilities). Both are internal packages in Turborepo, but they serve different purposes in terms of versioning and publication."
      }
    ]
  },
  "file_structure": [
    {
      "name": "command",
      "type": "dir",
      "path": "command",
      "children": [
        {
          "name": "turborepo.md",
          "type": "file",
          "path": "command/turborepo.md",
          "lines": 71
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "best-practices",
          "type": "dir",
          "path": "references/best-practices",
          "children": [
            {
              "name": "dependencies.md",
              "type": "file",
              "path": "references/best-practices/dependencies.md",
              "lines": 247
            },
            {
              "name": "packages.md",
              "type": "file",
              "path": "references/best-practices/packages.md",
              "lines": 336
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/best-practices/README.md",
              "lines": 242
            },
            {
              "name": "structure.md",
              "type": "file",
              "path": "references/best-practices/structure.md",
              "lines": 270
            }
          ]
        },
        {
          "name": "boundaries",
          "type": "dir",
          "path": "references/boundaries",
          "children": [
            {
              "name": "README.md",
              "type": "file",
              "path": "references/boundaries/README.md",
              "lines": 127
            }
          ]
        },
        {
          "name": "caching",
          "type": "dir",
          "path": "references/caching",
          "children": [
            {
              "name": "gotchas.md",
              "type": "file",
              "path": "references/caching/gotchas.md",
              "lines": 170
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/caching/README.md",
              "lines": 108
            },
            {
              "name": "remote-cache.md",
              "type": "file",
              "path": "references/caching/remote-cache.md",
              "lines": 128
            }
          ]
        },
        {
          "name": "ci",
          "type": "dir",
          "path": "references/ci",
          "children": [
            {
              "name": "github-actions.md",
              "type": "file",
              "path": "references/ci/github-actions.md",
              "lines": 163
            },
            {
              "name": "patterns.md",
              "type": "file",
              "path": "references/ci/patterns.md",
              "lines": 146
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/ci/README.md",
              "lines": 80
            },
            {
              "name": "vercel.md",
              "type": "file",
              "path": "references/ci/vercel.md",
              "lines": 104
            }
          ]
        },
        {
          "name": "cli",
          "type": "dir",
          "path": "references/cli",
          "children": [
            {
              "name": "commands.md",
              "type": "file",
              "path": "references/cli/commands.md",
              "lines": 298
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/cli/README.md",
              "lines": 101
            }
          ]
        },
        {
          "name": "configuration",
          "type": "dir",
          "path": "references/configuration",
          "children": [
            {
              "name": "global-options.md",
              "type": "file",
              "path": "references/configuration/global-options.md",
              "lines": 196
            },
            {
              "name": "gotchas.md",
              "type": "file",
              "path": "references/configuration/gotchas.md",
              "lines": 349
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/configuration/README.md",
              "lines": 212
            },
            {
              "name": "tasks.md",
              "type": "file",
              "path": "references/configuration/tasks.md",
              "lines": 286
            }
          ]
        },
        {
          "name": "environment",
          "type": "dir",
          "path": "references/environment",
          "children": [
            {
              "name": "gotchas.md",
              "type": "file",
              "path": "references/environment/gotchas.md",
              "lines": 146
            },
            {
              "name": "modes.md",
              "type": "file",
              "path": "references/environment/modes.md",
              "lines": 102
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/environment/README.md",
              "lines": 97
            }
          ]
        },
        {
          "name": "filtering",
          "type": "dir",
          "path": "references/filtering",
          "children": [
            {
              "name": "patterns.md",
              "type": "file",
              "path": "references/filtering/patterns.md",
              "lines": 153
            },
            {
              "name": "README.md",
              "type": "file",
              "path": "references/filtering/README.md",
              "lines": 149
            }
          ]
        },
        {
          "name": "watch",
          "type": "dir",
          "path": "references/watch",
          "children": [
            {
              "name": "README.md",
              "type": "file",
              "path": "references/watch/README.md",
              "lines": 100
            }
          ]
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 915
    }
  ]
}
