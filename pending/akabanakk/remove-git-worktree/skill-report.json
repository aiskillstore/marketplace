{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:45:01.063Z",
    "slug": "akabanakk-remove-git-worktree",
    "source_url": "https://github.com/AKABANAKK/claude-code-marketplace/tree/main/akb7/skills/remove-git-worktree",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "08eb6db13f4cfb3b6430e29ae37fb2c7cb6e26ba38e04170072f82e3d3a0f556",
    "tree_hash": "936a4fe087244ba831c319eee00f5cf33c71eec74407a08f1f064e49b97fe531"
  },
  "skill": {
    "name": "remove-git-worktree",
    "description": "git worktreeを削除します。間違えて作成した場合や、作業完了後のクリーンアップに使用します。",
    "summary": "git worktreeを削除します。間違えて作成した場合や、作業完了後のクリーンアップに使用します。",
    "icon": "✂️",
    "version": "1.0.0",
    "author": "AKABANAKK",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "git",
      "worktree",
      "cleanup",
      "devops"
    ],
    "supported_tools": [
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Simple, focused git worktree cleanup utility. Operates only within the repository worktree structure. No network access, no credential exposure, no arbitrary code execution. Contains bash scripts and filesystem access but scope is limited to git operations.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 1,
            "line_end": 36
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 20,
            "line_end": 23
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 13,
            "line_end": 31
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Bash script executes git commands",
        "description": "The script executes git commands to remove worktrees and delete branches. While these are standard git operations, executing git commands does modify repository state.\n\nRelevant code (scripts/remove-worktree.sh:25-31):\n```bash\ngit worktree remove \"$WORKTREE_PATH\"\n...\ngit branch -D \"$BRANCH_NAME\"\n```\n\nAn attacker could potentially misuse this if they could influence the branch name argument to delete unintended worktrees or branches.",
        "locations": [
          {
            "file": "scripts/remove-worktree.sh",
            "line_start": 25,
            "line_end": 31
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 2,
    "total_lines": 52,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:45:01.063Z"
  },
  "content": {
    "user_title": "Remove git worktree and branch",
    "value_statement": "Managing multiple git worktrees can leave orphaned directories and branches. This skill safely removes worktree directories and their associated local branches with proper validation.",
    "seo_keywords": [
      "remove git worktree",
      "git worktree cleanup",
      "git branch deletion",
      "Claude Code skill",
      "git worktree management",
      "Claude Code plugin",
      "git repository cleanup",
      "worktree removal tool"
    ],
    "actual_capabilities": [
      "Remove git worktree directories using git worktree remove command",
      "Delete associated local branches after worktree removal",
      "Validate worktree existence before attempting removal",
      "Convert branch names with slashes to worktree directory names"
    ],
    "limitations": [
      "Only removes worktrees created in the standard worktrees directory pattern",
      "Requires git to be installed and repository to be valid",
      "Does not remove remote branches, only local branches"
    ],
    "use_cases": [
      {
        "target_user": "Developers",
        "title": "Clean up feature branches",
        "description": "Remove worktrees and delete local branches after feature completion to keep repository organized."
      },
      {
        "target_user": "CI/CD engineers",
        "title": "Remove temporary worktrees",
        "description": "Clean up worktrees created for testing or CI pipelines that are no longer needed."
      },
      {
        "target_user": "Team leads",
        "title": "Manage team worktrees",
        "description": "Clean up abandoned worktrees left by team members who have moved to other tasks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Remove single worktree",
        "scenario": "Clean up one worktree",
        "prompt": "Use remove-git-worktree skill to remove the worktree for branch feature/new-feature."
      },
      {
        "title": "Remove multiple worktrees",
        "scenario": "Clean up multiple worktrees",
        "prompt": "Remove all worktrees for branches bugfix/auth-fix, bugfix/ui-fix, and enhancement/reporting."
      },
      {
        "title": "Remove and clean branch",
        "scenario": "Full cleanup with branch deletion",
        "prompt": "Remove the worktree for feature/experiment and also delete the local branch."
      },
      {
        "title": "Verify before removing",
        "scenario": "Check what will be removed",
        "prompt": "Show me what would happen if I remove the worktree for branch temp/test-branch using remove-git-worktree."
      }
    ],
    "output_examples": [
      {
        "input": "Use remove-git-worktree to remove the worktree for feature/new-feature",
        "output": [
          "Removing worktree for branch: feature/new-feature",
          "Worktree path: /path/to/repo-worktrees/feature-new-feature",
          "Worktree removed.",
          "Branch 'feature/new-feature' deleted.",
          "Done."
        ]
      }
    ],
    "best_practices": [
      "Verify worktree exists before removal to avoid errors",
      "Use descriptive branch names to easily identify worktrees to remove",
      "Remove associated branches when cleaning up to keep local repository clean"
    ],
    "anti_patterns": [
      "Manually deleting worktree directories without using git worktree remove",
      "Removing worktrees without first checking if changes have been committed",
      "Using force flags without understanding the impact on uncommitted changes"
    ],
    "faq": [
      {
        "question": "Does this skill remove uncommitted changes?",
        "answer": "git worktree remove will fail if there are uncommitted changes. Use --force to remove anyway, but worktree does not have a --force flag."
      },
      {
        "question": "What happens to the branch after removal?",
        "answer": "The skill optionally deletes the local branch with git branch -D if it exists. Remote branches are not affected."
      },
      {
        "question": "Can I recover a removed worktree?",
        "answer": "Yes, you can recreate a worktree using git worktree add. Commit changes before removal to preserve work."
      },
      {
        "question": "Is this skill safe to use in production?",
        "answer": "The skill only modifies local worktrees. It does not affect remote repositories or production systems directly."
      },
      {
        "question": "What directory format does this skill expect?",
        "answer": "Worktrees are expected in ../repo-name-worktrees/branch-name format with slashes converted to dashes."
      },
      {
        "question": "How is this different from git worktree prune?",
        "answer": "This skill removes specific worktrees by path. git worktree prune removes worktrees whose branches were deleted elsewhere."
      }
    ]
  },
  "file_structure": [
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "remove-worktree.sh",
          "type": "file",
          "path": "scripts/remove-worktree.sh"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
