{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T01:39:39.145Z",
    "slug": "getsentry-claude-settings-audit",
    "source_url": "https://github.com/getsentry/skills/tree/main/plugins/sentry-skills/skills/claude-settings-audit",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "4d5ca752c9135e6357513ba3d6a404a268c162e6a626d85fd33d94d003c06da1",
    "tree_hash": "86e691cbdbd908d77d5e1c787cd58c0565e26f822f175520a379e28f9df15b80"
  },
  "skill": {
    "name": "claude-settings-audit",
    "description": "Analyze a repository to generate recommended Claude Code settings.json permissions. Use when setting up a new project, auditing existing settings, or determining which read-only bash commands to allow. Detects tech stack, build tools, and monorepo structure.",
    "summary": "Analyze a repository to generate recommended Claude Code settings.json permissions. Use when setting...",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "getsentry",
    "license": "MIT",
    "category": "productivity",
    "tags": [
      "configuration",
      "permissions",
      "repository-analysis",
      "claude-code"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure prompt-based skill containing only markdown instructions. No executable code, scripts, or network operations are present. The skill provides guidance to the AI for generating Claude Code permission recommendations based on repository analysis.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 296,
    "audit_model": "claude",
    "audited_at": "2026-01-07T01:39:39.145Z"
  },
  "content": {
    "user_title": "Generate Optimal Claude Code Permissions",
    "value_statement": "Setting up Claude Code permissions requires understanding your project tech stack and which commands are safe. This skill analyzes your repository to recommend the exact permissions you need. It detects programming languages, package managers, frameworks, and integrations to generate a tailored settings.json configuration.",
    "seo_keywords": [
      "Claude Code permissions",
      "settings.json configuration",
      "repository analysis",
      "read-only bash commands",
      "tech stack detection",
      "Claude Code setup",
      "AI configuration",
      "permission audit",
      "Claude",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Detects programming languages (Python, Node.js, Go, Rust, Java, Ruby)",
      "Identifies package managers (poetry, pnpm, npm, yarn, cargo, bundler)",
      "Recognizes frameworks (Django, React, FastAPI, Rails, Express)",
      "Discovers integrations (Sentry, Linear)",
      "Generates read-only bash command permissions",
      "Creates MCP server configuration suggestions"
    ],
    "limitations": [
      "Does not execute commands or modify files directly",
      "Does not perform security audits of existing permissions",
      "Only suggests permissions based on detected stack",
      "Requires manual verification before applying settings"
    ],
    "use_cases": [
      {
        "target_user": "New team members",
        "title": "Quick Claude Code Setup",
        "description": "Get properly configured permissions when joining a new project without researching each command manually."
      },
      {
        "target_user": "DevOps engineers",
        "title": "Audit Existing Configurations",
        "description": "Review and validate current .claude/settings.json files against detected project dependencies."
      },
      {
        "target_user": "Multi-project developers",
        "title": "Cross-RepositoryÊ†áÂáÜÂåñ",
        "description": "Generate consistent permission sets across different repositories with varying technology stacks."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Repository Audit",
        "scenario": "Standard project setup",
        "prompt": "Run the Claude Settings Audit skill to analyze this repository and recommend appropriate .claude/settings.json permissions."
      },
      {
        "title": "Security-Focused Review",
        "scenario": "Permission validation",
        "prompt": "Audit our current Claude Code settings. Check .claude/settings.json against our detected tech stack and flag any unnecessary or missing permissions."
      },
      {
        "title": "Monorepo Configuration",
        "scenario": "Complex project structure",
        "prompt": "Analyze this monorepo structure and generate settings that work across multiple packages with different tech stacks."
      },
      {
        "title": "Integration Setup",
        "scenario": "Service connection",
        "prompt": "Detect Sentry and Linear usage in this repository and suggest appropriate MCP server configurations for .mcp.json."
      }
    ],
    "output_examples": [
      {
        "input": "Run the Claude Settings Audit skill on our Python Django project.",
        "output": [
          "Detected Tech Stack: Python 3.11, Django 4.2, PostgreSQL, Docker",
          "Package Manager: poetry with uv for faster installs",
          "Build Tools: Docker, Make",
          "Integrations: Sentry SDK detected",
          "",
          "Recommended permissions include:",
          "‚Ä¢ Baseline read-only commands (ls, find, cat, git status, etc.)",
          "‚Ä¢ Python commands: python, poetry, uv",
          "‚Ä¢ Docker commands: docker --version, docker ps, docker images",
          "‚Ä¢ GitHub CLI: gh pr, gh issue, gh run",
          "‚Ä¢ Suggested WebFetch domains: docs.djangoproject.com, docs.sentry.io"
        ]
      }
    ],
    "best_practices": [
      "Start with minimal permissions and add as needed rather than starting permissive",
      "Review generated settings against your security policies before applying",
      "Update permissions when the tech stack changes or new tools are adopted"
    ],
    "anti_patterns": [
      "Including all possible commands without checking if they are actually used",
      "Applying recommendations blindly without understanding what each permission allows",
      "Using absolute paths or user-specific script references in allow lists"
    ],
    "faq": [
      {
        "question": "Are the suggested bash commands safe to allow?",
        "answer": "Yes. The skill only suggests read-only commands like ls, cat, find, git status, and package manager query commands that do not modify files or state."
      },
      {
        "question": "Does this skill work with monorepos?",
        "answer": "Yes. The skill detects monorepo indicators like lerna.json, nx.json, and pnpm-workspace.yaml and generates permissions that work across the entire repository."
      },
      {
        "question": "Can I use this for non-Sentry projects?",
        "answer": "Absolutely. While Sentry-specific skills and MCP servers are suggested when detected, the skill works for any codebase and only suggests relevant integrations."
      },
      {
        "question": "How are package manager recommendations determined?",
        "answer": "The skill checks for lock files (poetry.lock, pnpm-lock.yaml, package-lock.json, yarn.lock, go.sum, Cargo.lock) and suggests only the commands for detected managers."
      },
      {
        "question": "Does this skill modify my settings.json file?",
        "answer": "No. The skill generates recommendations and presents them for you to review. You must manually copy the configuration to your .claude/settings.json file."
      },
      {
        "question": "What is the difference between settings.json and .mcp.json?",
        "answer": "settings.json controls Claude Code built-in tool permissions. .mcp.json configures MCP (Model Context Protocol) servers that provide additional capabilities through external processes."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
