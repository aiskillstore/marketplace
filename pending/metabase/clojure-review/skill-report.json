{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-09T04:06:41.140Z",
    "slug": "metabase-clojure-review",
    "source_url": "https://github.com/metabase/metabase/tree/master/.claude/skills/clojure-review",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "dd5793e7e43d209a36ab1c4ff60d8f44ac9581e65e09d0f7f4d0132333c094c4",
    "tree_hash": "c2e049a159e17d4f58cd0105d884bcb524f3ac33ff7e12be7f051cdc96b925d4"
  },
  "skill": {
    "name": "clojure-review",
    "description": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style violations, and code quality issues. Use when reviewing pull requests or diffs containing Clojure/ClojureScript code.",
    "summary": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style v...",
    "icon": "ü¶ë",
    "version": "1.0.0",
    "author": "metabase",
    "license": "UNLICENSE",
    "category": "coding",
    "tags": [
      "clojure",
      "code-review",
      "style-guide",
      "linter",
      "quality"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill containing only markdown guidelines for code review. No executable code, no network calls, no file system modifications, and no command execution capabilities. The skill uses only standard read-only tools (Read, Grep, Bash, Glob) for static code analysis.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 386,
    "audit_model": "claude",
    "audited_at": "2026-01-09T04:06:41.140Z"
  },
  "content": {
    "user_title": "Review Clojure code for style violations",
    "value_statement": "This skill helps developers review Clojure and ClojureScript code changes against Metabase coding standards. It checks for style violations, code quality issues, and compliance with established conventions.",
    "seo_keywords": [
      "clojure code review",
      "clojurescript review",
      "metabase coding standards",
      "claude code review",
      "codex code analysis",
      "claude-code skill",
      "linter guide",
      "code quality",
      "style guide",
      "clojure lint"
    ],
    "actual_capabilities": [
      "Review Clojure code for Metabase style guide compliance",
      "Check naming conventions (kebab-case, noun-based function names)",
      "Verify documentation standards (docstrings, TODO formats)",
      "Validate REST API conventions (kebab-case params, singular routes)",
      "Detect code organization issues (function length, visibility)",
      "Identify test pattern violations (parallel tests, naming)"
    ],
    "limitations": [
      "Does not execute code or run tests",
      "Does not modify files or apply fixes automatically",
      "Does not check external dependencies or libraries",
      "Limited to static analysis of code patterns"
    ],
    "use_cases": [
      {
        "target_user": "Backend developers",
        "title": "Review PR changes",
        "description": "Scan pull request diffs for Clojure style violations before merging to main branch."
      },
      {
        "target_user": "Code reviewers",
        "title": "Enforce style guide",
        "description": "Verify all new code follows Metabase naming, documentation, and organization conventions."
      },
      {
        "target_user": "Contributors",
        "title": "Check contributions",
        "description": "Validate community contributions meet project standards before submitting."
      }
    ],
    "prompt_templates": [
      {
        "title": "Quick style check",
        "scenario": "Review a file for naming issues",
        "prompt": "Review this Clojure file for naming convention violations. Check for: kebab-case, noun-based function names, side-effect functions ending with !"
      },
      {
        "title": "Documentation audit",
        "scenario": "Check public functions for docstrings",
        "prompt": "Audit this namespace for missing docstrings on public vars. Flag any public function without a docstring explaining its purpose, inputs, and outputs."
      },
      {
        "title": "API review",
        "scenario": "Review REST API endpoint conventions",
        "prompt": "Review these API endpoints for convention violations. Check: kebab-case query params, snake_case bodies, singular route names, response schemas, Malli parameter schemas."
      },
      {
        "title": "Full PR review",
        "scenario": "Complete code review of PR diff",
        "prompt": "Review all Clojure changes in this PR against the Metabase style guide. Report: naming violations, missing docstrings, organization issues, API convention problems, and test pattern issues. Do not report linter-parseable issues like missing parentheses."
      }
    ],
    "output_examples": [
      {
        "input": "Review this Clojure function for style violations",
        "output": [
          "‚ö†Ô∏è Naming: Pure function 'get-user' should be a noun. Consider 'user' instead.",
          "‚ö†Ô∏è Visibility: This function is only used in this namespace but is not marked ^:private.",
          "‚úì Function length (15 lines) is acceptable (under 20 lines).",
          "‚úì Kebab-case used correctly for local bindings.",
          "‚ö†Ô∏è Missing docstring: Public function requires documentation explaining purpose."
        ]
      }
    ],
    "best_practices": [
      "Run linting commands first (./bin/mage kondo-updated master) before manual review.",
      "Review the quick checklist first for efficient scanning of common issues.",
      "Focus on static analysis patterns; do not attempt to execute reviewed code."
    ],
    "anti_patterns": [
      "Do not post congratulatory comments for trivial changes or style compliance.",
      "Do not try to apply fixes automatically without verification.",
      "Do not review for missing parentheses (linter handles this)."
    ],
    "faq": [
      {
        "question": "Which Clojure versions are supported?",
        "answer": "Supports Clojure and ClojureScript code in Metabase projects following the project conventions."
      },
      {
        "question": "What are the line length limits?",
        "answer:": "Lines should be 120 characters or fewer. Use the ./bin/mage -check-readable command to verify."
      },
      {
        "question": "How does this integrate with my CI pipeline?",
        "answer": "Use the lint commands (./bin/mage kondo, kondo-updated) as documentation for CI checks."
      },
      {
        "question": "Does this skill modify my code?",
        "answer": "No. This skill only reads and analyzes code. It does not write changes or modify files."
      },
      {
        "question": "What tools does it use for analysis?",
        "answer": "Uses Read, Grep, Bash, and Glob tools. Recommended to use clojure-mcp tools when available for better REPL integration."
      },
      {
        "question": "How does this differ from clj-kondo linter?",
        "answer": "This skill reviews for higher-level conventions, patterns, and documentation. The linter catches parseable syntax issues automatically."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
