{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-09T03:48:08.006Z",
    "slug": "metabase-clojure-review",
    "source_url": "https://github.com/metabase/metabase/tree/master/.claude/skills/clojure-review/",
    "source_ref": "master",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "dd5793e7e43d209a36ab1c4ff60d8f44ac9581e65e09d0f7f4d0132333c094c4",
    "tree_hash": "c2e049a159e17d4f58cd0105d884bcb524f3ac33ff7e12be7f051cdc96b925d4"
  },
  "skill": {
    "name": "clojure-review",
    "description": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style violations, and code quality issues. Use when reviewing pull requests or diffs containing Clojure/ClojureScript code.",
    "summary": "Review Clojure and ClojureScript code changes for compliance with Metabase coding standards, style v...",
    "icon": "ðŸ§ª",
    "version": "1.0.0",
    "author": "metabase",
    "license": "UNLICENSED",
    "category": "coding",
    "tags": [
      "clojure",
      "code-review",
      "style-guide",
      "quality-assurance"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a prompt-based skill containing code review guidelines for Clojure/ClojureScript. It references standard build commands (./bin/mage) for linting and testing, which are legitimate development operations. No network calls, no credential access, no data exfiltration.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "clojure-commands.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "clojure-commands.md",
            "line_start": 8,
            "line_end": 8
          },
          {
            "file": "clojure-commands.md",
            "line_start": 11,
            "line_end": 11
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 4,
            "line_end": 4
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 386,
    "audit_model": "claude",
    "audited_at": "2026-01-09T03:48:08.006Z"
  },
  "content": {
    "user_title": "Review Clojure code for style and quality",
    "value_statement": "This skill reviews Clojure and ClojureScript code changes against Metabase coding standards. It checks naming conventions, documentation, code organization, and REST API patterns to ensure consistent, maintainable code.",
    "seo_keywords": [
      "clojure code review",
      "clojurescript style guide",
      "code quality tool",
      "clojure linting",
      "code review automation",
      "claude code review",
      "Metabase coding standards",
      "linter integration",
      "code style checker",
      "clojure development"
    ],
    "actual_capabilities": [
      "Review Clojure code against Metabase style guide conventions",
      "Check naming patterns for functions, variables, and namespaces",
      "Validate documentation standards including docstrings and TODO comments",
      "Verify REST API endpoint patterns and parameter conventions",
      "Scan for code organization issues like function length and visibility",
      "Run project linters (clj-kondo) on changed files"
    ],
    "limitations": [
      "Does not execute arbitrary code or modify files automatically",
      "Limited to reviewing code that exists in the repository",
      "Cannot access external APIs or databases for validation",
      "Does not provide fix suggestions, only identifies issues"
    ],
    "use_cases": [
      {
        "target_user": "Backend Developers",
        "title": "Review PR changes",
        "description": "Check pull requests for Clojure style violations before merging to main branch."
      },
      {
        "target_user": "QA Engineers",
        "title": "Validate code standards",
        "description": "Ensure all submitted code meets naming, documentation, and organization requirements."
      },
      {
        "target_user": "DevOps Teams",
        "title": "Enforce linting rules",
        "description": "Run automated style checks as part of continuous integration workflows."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic review",
        "scenario": "Review a file for style",
        "prompt": "Please review this Clojure file for Metabase style guide compliance. Check naming conventions, docstrings, and code organization."
      },
      {
        "title": "Check API changes",
        "scenario": "Review API endpoints",
        "prompt": "Review these changes to API endpoints. Verify they follow REST conventions, use correct parameter styles, and include required schemas."
      },
      {
        "title": "Scan module structure",
        "scenario": "Check module patterns",
        "prompt": "Review the module structure in these changes. Ensure correct namespace patterns, proper use of private keywords, and appropriate file organization."
      },
      {
        "title": "Full PR review",
        "scenario": "Complete PR review",
        "prompt": "Do a comprehensive review of all Clojure changes in this pull request. Flag every style violation, missing docstring, and potential quality issue according to the Metabase Clojure style guide."
      }
    ],
    "output_examples": [
      {
        "input": "Review src/metabase/api/user.clj for style compliance",
        "output": [
          "âœ“ File uses correct namespace pattern (metabase.api.user)",
          "âš  Function get-user should be renamed to 'user' (pure function naming)",
          "âš  Missing docstring on public function 'create-user!'",
          "âœ“ API endpoint follows singular noun convention",
          "âœ“ Query parameters use kebab-case correctly"
        ]
      }
    ],
    "best_practices": [
      "Run linting commands (./bin/mage kondo-updated) before reviewing to catch auto-fixable issues",
      "Use the quick review checklist to efficiently scan for common issues first",
      "Focus on style violations rather than congratulating correct patterns"
    ],
    "anti_patterns": [
      "Posting 'looks good' comments instead of actual style violations",
      "Ignoring missing parentheses (these are caught by the linter)",
      "Reviewing without checking the Metabase Clojure style guide first"
    ],
    "faq": [
      {
        "question": "What Clojure versions are supported?",
        "answer": "Supports Clojure and ClojureScript in any version. Checks style conventions, not language features."
      },
      {
        "question": "Does it modify code automatically?",
        "answer": "No. The skill identifies issues but does not apply fixes. Run linters separately for auto-fixes."
      },
      {
        "question": "Can it integrate with CI/CD pipelines?",
        "answer": "Yes. Reference ./bin/mage kondo-updated and run-tests commands in your CI configuration."
      },
      {
        "question": "Is my code data sent anywhere?",
        "answer": "No. All processing happens locally using Read, Grep, and Glob tools. No network calls."
      },
      {
        "question": "How does it differ from clj-kondo?",
        "answer": "clj-kondo catches syntax and basic style issues. This skill catches higher-level patterns and conventions."
      },
      {
        "question": "Can it review non-Metabase Clojure code?",
        "answer": "Yes. It works for any Clojure project but checks Metabase-specific conventions when present."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
