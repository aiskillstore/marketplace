{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-06T01:23:41.918Z",
    "slug": "labring-workflow-interactive-dev",
    "source_url": "https://github.com/labring/FastGPT/tree/main/.claude/skills/core/app/workflow/inteactive",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "fe5170ec7691d21d6ac310107cc22f586dba4bf37abe9b6d320cfc2da05a224b",
    "tree_hash": "4798eba22d9d48b60c8958c275b720089b7cdebe66f83bec52eeee1cae0ffa2e"
  },
  "skill": {
    "name": "workflow-interactive-dev",
    "description": "ç”¨äºå¼€å‘ FastGPT å·¥ä½œæµä¸­çš„äº¤äº’å“åº”ã€‚è¯¦ç»†è¯´æ˜äº†äº¤äº’èŠ‚ç‚¹çš„æ¶æ„ã€å¼€å‘æµç¨‹å’Œéœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ã€‚",
    "summary": "ç”¨äºå¼€å‘ FastGPT å·¥ä½œæµä¸­çš„äº¤äº’å“åº”ã€‚è¯¦ç»†è¯´æ˜äº†äº¤äº’èŠ‚ç‚¹çš„æ¶æ„ã€å¼€å‘æµç¨‹å’Œéœ€è¦ä¿®æ”¹çš„æ–‡ä»¶ã€‚",
    "icon": "ğŸ”„",
    "version": "1.0.0",
    "author": "labring",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "workflow",
      "interactive",
      "development",
      "guide",
      "fastgpt"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill containing a comprehensive development guide for FastGPT interactive workflow nodes. No executable code, network calls, or security-sensitive operations are present. The content is purely educational and provides architectural guidance for legitimate development purposes.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 535,
    "audit_model": "claude",
    "audited_at": "2026-01-06T01:23:41.918Z"
  },
  "content": {
    "user_title": "Build Custom Interactive Workflow Nodes",
    "value_statement": "Creating interactive workflow nodes in FastGPT requires understanding complex architecture and multiple file modifications. This guide provides step-by-step instructions to implement custom interactive nodes that pause workflows for user input.",
    "seo_keywords": [
      "FastGPT workflow",
      "interactive nodes",
      "Claude Code development",
      "workflow nodes",
      "user input",
      "form handling",
      "Claude development",
      "AI workflow",
      "node development",
      "interactive components"
    ],
    "actual_capabilities": [
      "Provides complete architecture documentation for FastGPT interactive nodes",
      "Lists all 10 required files for implementing new interactive node types",
      "Explains the two-phase execution model for interactive workflows",
      "Details TypeScript type definitions and component structures",
      "Includes testing checklist and common troubleshooting solutions"
    ],
    "limitations": [
      "Requires deep understanding of FastGPT codebase architecture",
      "Needs modification across multiple packages and projects",
      "Assumes familiarity with TypeScript, React, and workflow concepts",
      "No automated code generation - manual implementation required"
    ],
    "use_cases": [
      {
        "target_user": "FastGPT plugin developers",
        "title": "Create Custom Form Nodes",
        "description": "Build specialized form input nodes for collecting structured user data within workflows, such as survey forms or configuration wizards."
      },
      {
        "target_user": "Enterprise workflow designers",
        "title": "Implement Approval Workflows",
        "description": "Develop interactive approval nodes that pause workflows for manager review and decision-making before proceeding."
      },
      {
        "target_user": "Chatbot developers",
        "title": "Build Dynamic Query Nodes",
        "description": "Create interactive nodes that collect user preferences and dynamically adjust conversation flow based on responses."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Node Implementation",
        "scenario": "Creating a simple interactive node",
        "prompt": "Help me implement a new interactive node called 'userConfirmation' in FastGPT. I need to create the TypeScript types, execution logic, and React component following the guide structure."
      },
      {
        "title": "Complex Form Node",
        "scenario": "Building multi-field form input",
        "prompt": "Design a 'multiStepForm' interactive node that collects user information across multiple form fields with validation, following FastGPT's interactive node architecture."
      },
      {
        "title": "Integration Testing",
        "scenario": "Testing interactive workflow",
        "prompt": "Create test cases for my new interactive node implementation, covering both phases of execution, user input validation, and workflow continuation."
      },
      {
        "title": "Error Handling",
        "scenario": "Adding robust error handling",
        "prompt": "Implement proper error handling and edge cases for interactive nodes, including invalid user input, timeout scenarios, and workflow recovery mechanisms."
      }
    ],
    "output_examples": [
      {
        "input": "I need to create a custom interactive node for collecting user feedback with ratings and comments",
        "output": [
          "Step 1: Define types in packages/global/core/workflow/template/system/interactive/type.d.ts",
          "Step 2: Create execution logic in packages/service/core/workflow/dispatch/interactive/feedback.ts",
          "Step 3: Build React component for chat interface with star rating and textarea",
          "Step 4: Add workflow editor node component with custom input fields",
          "Step 5: Register node in dispatch constants and update isEntry whitelist",
          "Step 6: Add internationalization for UI labels in all language files",
          "Step 7: Test both execution phases and ensure proper history management"
        ]
      }
    ],
    "best_practices": [
      "Always reset isEntry flag to false on second execution phase to prevent infinite loops",
      "Follow the existing node patterns and naming conventions for consistency across the codebase",
      "Test interactive nodes with both valid and invalid user inputs before deployment"
    ],
    "anti_patterns": [
      "Don't modify core workflow dispatch logic beyond the documented extension points",
      "Avoid creating interactive nodes that require external API calls during user input phase",
      "Never skip the isEntry whitelist step - this will break workflow resumption"
    ],
    "faq": [
      {
        "question": "Why does my interactive node execute twice?",
        "answer": "This is normal behavior. First execution returns the interactive request, second processes user input. Ensure you set node.isEntry = false on second execution."
      },
      {
        "question": "What files are absolutely required for a new interactive node?",
        "answer": "Minimum required: type definitions, execution logic, dispatch registration, and isEntry whitelist update. Frontend components are needed for UI."
      },
      {
        "question": "Can I create interactive nodes that call external APIs?",
        "answer": "Yes, but only during the second execution phase after user input. First phase should only prepare the interactive request."
      },
      {
        "question": "How do I handle validation errors in user input?",
        "answer": "Parse and validate user input in the second execution phase. Return appropriate error responses that can be handled by the workflow."
      },
      {
        "question": "What's the purpose of the rewriteHistories field?",
        "answer": "It removes the interactive dialogue from history to keep chat clean. Removes the user question and system response (last 2 entries)."
      },
      {
        "question": "Can multiple interactive nodes be chained together?",
        "answer": "Yes, each node will pause the workflow independently. After user completes one, the workflow continues to the next interactive node."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
