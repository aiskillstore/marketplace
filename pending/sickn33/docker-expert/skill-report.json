{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-02-07T08:40:21.276Z",
    "slug": "sickn33-docker-expert",
    "source_url": "https://github.com/sickn33/antigravity-awesome-skills/tree/main/skills/docker-expert/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "e33b08feeaa8e110c08dddd030970547356514d42aa484e52f51e2fd2d4f451b",
    "tree_hash": "22ba421712e3df4a50b240b7fdfd0632c3854a46eda9b78a8a511da777d962b9"
  },
  "skill": {
    "name": "docker-expert",
    "description": "Docker containerization expert with deep knowledge of multi-stage builds, image optimization, container security, Docker Compose orchestration, and production deployment patterns. Use PROACTIVELY for Dockerfile optimization, container issues, image size problems, security hardening, networking, and orchestration challenges.",
    "summary": "Docker containerization expert specializing in multi-stage builds, image optimization, and security hardening for production deployments.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "sickn33",
    "license": "MIT",
    "category": "devops",
    "tags": [
      "docker",
      "containerization",
      "devops",
      "image-optimization"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Static analysis detected 53 patterns (external_commands, network, filesystem, env_access) but all are false positives. The flagged bash code blocks are documentation examples, not execution; health check URLs target localhost; Docker commands read standard container state; and secrets patterns demonstrate security best practices. No malicious patterns confirmed.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 28,
            "line_end": 42
          },
          {
            "file": "SKILL.md",
            "line_start": 42,
            "line_end": 55
          },
          {
            "file": "SKILL.md",
            "line_start": 55,
            "line_end": 68
          },
          {
            "file": "SKILL.md",
            "line_start": 68,
            "line_end": 81
          },
          {
            "file": "SKILL.md",
            "line_start": 81,
            "line_end": 106
          },
          {
            "file": "SKILL.md",
            "line_start": 106,
            "line_end": 117
          },
          {
            "file": "SKILL.md",
            "line_start": 117,
            "line_end": 128
          },
          {
            "file": "SKILL.md",
            "line_start": 128,
            "line_end": 139
          },
          {
            "file": "SKILL.md",
            "line_start": 139,
            "line_end": 204
          },
          {
            "file": "SKILL.md",
            "line_start": 204,
            "line_end": 215
          },
          {
            "file": "SKILL.md",
            "line_start": 215,
            "line_end": 223
          },
          {
            "file": "SKILL.md",
            "line_start": 223,
            "line_end": 234
          },
          {
            "file": "SKILL.md",
            "line_start": 234,
            "line_end": 251
          },
          {
            "file": "SKILL.md",
            "line_start": 251,
            "line_end": 262
          },
          {
            "file": "SKILL.md",
            "line_start": 262,
            "line_end": 278
          },
          {
            "file": "SKILL.md",
            "line_start": 278,
            "line_end": 283
          },
          {
            "file": "SKILL.md",
            "line_start": 283,
            "line_end": 288
          },
          {
            "file": "SKILL.md",
            "line_start": 288,
            "line_end": 291
          },
          {
            "file": "SKILL.md",
            "line_start": 291,
            "line_end": 298
          },
          {
            "file": "SKILL.md",
            "line_start": 298,
            "line_end": 301
          },
          {
            "file": "SKILL.md",
            "line_start": 301,
            "line_end": 307
          },
          {
            "file": "SKILL.md",
            "line_start": 307,
            "line_end": 310
          },
          {
            "file": "SKILL.md",
            "line_start": 310,
            "line_end": 316
          },
          {
            "file": "SKILL.md",
            "line_start": 305,
            "line_end": 305
          },
          {
            "file": "SKILL.md",
            "line_start": 301,
            "line_end": 307
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 104,
            "line_end": 104
          },
          {
            "file": "SKILL.md",
            "line_start": 153,
            "line_end": 153
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 296,
            "line_end": 296
          },
          {
            "file": "SKILL.md",
            "line_start": 30,
            "line_end": 30
          },
          {
            "file": "SKILL.md",
            "line_start": 31,
            "line_end": 31
          },
          {
            "file": "SKILL.md",
            "line_start": 32,
            "line_end": 32
          },
          {
            "file": "SKILL.md",
            "line_start": 40,
            "line_end": 40
          },
          {
            "file": "SKILL.md",
            "line_start": 41,
            "line_end": 41
          },
          {
            "file": "SKILL.md",
            "line_start": 57,
            "line_end": 57
          },
          {
            "file": "SKILL.md",
            "line_start": 58,
            "line_end": 58
          },
          {
            "file": "SKILL.md",
            "line_start": 59,
            "line_end": 59
          },
          {
            "file": "SKILL.md",
            "line_start": 62,
            "line_end": 62
          },
          {
            "file": "SKILL.md",
            "line_start": 63,
            "line_end": 63
          },
          {
            "file": "SKILL.md",
            "line_start": 64,
            "line_end": 64
          },
          {
            "file": "SKILL.md",
            "line_start": 67,
            "line_end": 67
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 172,
            "line_end": 172
          },
          {
            "file": "SKILL.md",
            "line_start": 176,
            "line_end": 176
          },
          {
            "file": "SKILL.md",
            "line_start": 202,
            "line_end": 202
          },
          {
            "file": "SKILL.md",
            "line_start": 304,
            "line_end": 304
          },
          {
            "file": "SKILL.md",
            "line_start": 305,
            "line_end": 305
          },
          {
            "file": "SKILL.md",
            "line_start": 305,
            "line_end": 305
          },
          {
            "file": "SKILL.md",
            "line_start": 306,
            "line_end": 306
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 409,
    "audit_model": "claude",
    "audited_at": "2026-02-07T08:40:21.276Z"
  },
  "content": {
    "user_title": "Optimize Docker Containers",
    "value_statement": "Docker containers often suffer from large image sizes, security vulnerabilities, and poor build performance. This skill provides expert guidance on multi-stage builds, security hardening, and production-ready orchestration patterns to create efficient, secure container deployments.",
    "seo_keywords": [
      "Docker",
      "container optimization",
      "multi-stage builds",
      "container security",
      "Dockerfile best practices",
      "Docker Compose",
      "image optimization",
      "container hardening",
      "Claude",
      "Codex",
      "Claude Code"
    ],
    "actual_capabilities": [
      "Analyze and optimize Dockerfile layer caching and build performance",
      "Design secure multi-stage build pipelines for production images",
      "Configure Docker Compose with health checks, secrets, and resource limits",
      "Implement container security hardening with non-root users and capability restrictions",
      "Reduce container image size using distroless images and minimal base images",
      "Debug container issues and validate container configurations"
    ],
    "limitations": [
      "Does not provide Kubernetes orchestration expertise (recommends kubernetes-expert)",
      "Cannot modify files directly without user approval for each change",
      "Does not execute Docker commands on user systems without explicit confirmation"
    ],
    "use_cases": [
      {
        "title": "Reducing Container Image Size",
        "description": "A development team struggles with multi-gigabyte Docker images causing slow deployments. The skill analyzes their Dockerfile and implements multi-stage builds, optimizing layer caching and selecting appropriate base images to reduce image size by up to 80%.",
        "target_user": "DevOps engineers and developers managing CI/CD pipelines"
      },
      {
        "title": "Security Hardening for Production",
        "description": "A security team needs to ensure containers run with minimal privileges. The skill reviews container configurations and implements non-root users, read-only filesystems, proper secrets management, and capability restrictions following defense-in-depth principles.",
        "target_user": "Security engineers and platform teams"
      },
      {
        "title": "Docker Compose Orchestration Setup",
        "description": "A startup needs to configure a multi-service development environment with proper dependencies, health checks, and network isolation. The skill creates production-ready Docker Compose configurations with service discovery, resource constraints, and environment-specific overrides.",
        "target_user": "Software engineers and full-stack developers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic Dockerfile Review",
        "prompt": "Review my Dockerfile and suggest optimizations for better layer caching and faster builds. Current file:\n\n```dockerfile\n${dockerfile_content}\n```",
        "scenario": "User wants quick feedback on Dockerfile improvements"
      },
      {
        "title": "Security Configuration",
        "prompt": "Analyze this Dockerfile for security issues and recommend hardening measures:\n\n```dockerfile\n${dockerfile_content}\n```\n\nFocus on: user permissions, secrets exposure, base image selection, and runtime security.",
        "scenario": "Security-focused review of container configuration"
      },
      {
        "title": "Multi-Service Setup",
        "prompt": "Create a Docker Compose configuration for a ${application_type} application with:\n- ${service_count} services: ${service_names}\n- Database: ${database_type}\n- Health checks required\n- Resource limits for production\n- Environment: ${environment_type}",
        "scenario": "Generating complete orchestration configuration"
      },
      {
        "title": "Complete Container Strategy",
        "prompt": "Help me create a complete containerization strategy for my ${application_name} application:\n\n1. Current project structure:\n${file_structure}\n\n2. Requirements:\n   - Framework: ${framework}\n   - Production deployment: ${deployment_target}\n   - Security compliance: ${compliance_requirements}\n\nProvide:\n- Optimized multi-stage Dockerfile\n- Docker Compose for dev/staging/prod\n- Security hardening checklist\n- Resource allocation recommendations",
        "scenario": "Comprehensive container strategy from scratch"
      }
    ],
    "output_examples": [
      {
        "input": "Optimize this Dockerfile:\nFROM node:18\nWORKDIR /app\nCOPY package*.json .\nRUN npm install\nCOPY . .\nRUN npm run build\nCMD [\"node\", \"dist/index.js\"]",
        "output": "Here's an optimized multi-stage Dockerfile:\n\n**Key improvements:**\n1. Separate dependency installation from source code to maximize layer caching\n2. Add non-root user for security\n3. Use npm ci for deterministic installs\n4. Prune production dependencies\n\n```dockerfile\nFROM node:18-alpine AS deps\nWORKDIR /app\nCOPY package*.json .\nRUN npm ci --only=production && npm cache clean --force\n\nFROM node:18-alpine AS build\nWORKDIR /app\nCOPY package*.json .\nRUN npm ci\nCOPY . .\nRUN npm run build && npm prune --production\n\nFROM node:18-alpine\nRUN addgroup -g 1001 -S appgroup && adduser -S appuser -u 1001 -G appgroup\nWORKDIR /app\nCOPY --from=deps --chown=appuser:appgroup /app/node_modules ./node_modules\nCOPY --from=build --chown=appuser:appgroup /app/dist ./dist\nUSER 1001\nEXPOSE 3000\nCMD [\"node\", \"dist/index.js\"]\n```"
      },
      {
        "input": "Create a Docker Compose setup for a Node.js API with PostgreSQL that includes health checks and resource limits.",
        "output": "Here's a production-ready Docker Compose configuration:\n\n**Features included:**\n- Service health checks with dependencies\n- Separate networks for frontend and backend\n- Resource limits to prevent resource exhaustion\n- External secrets for credentials\n- Named volume for data persistence\n\n```yaml\nversion: '3.8'\nservices:\n  api:\n    build: .\n    depends_on:\n      db:\n        condition: service_healthy\n    networks:\n      - backend\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:3000/health\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n    deploy:\n      resources:\n        limits:\n          cpus: '0.5'\n          memory: 512M\n\n  db:\n    image: postgres:15-alpine\n    environment:\n      POSTGRES_DB_FILE: /run/secrets/db_name\n      POSTGRES_USER_FILE: /run/secrets/db_user\n      POSTGRES_PASSWORD_FILE: /run/secrets/db_password\n    secrets:\n      - db_name\n      - db_user\n      - db_password\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n    networks:\n      - backend\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n\nnetworks:\n  backend:\n    driver: bridge\n    internal: true\n\nvolumes:\n  postgres_data:\n\nsecrets:\n  db_name:\n    external: true\n  # ... additional secrets\n```"
      }
    ],
    "best_practices": [
      "Use multi-stage builds to separate build dependencies from runtime, keeping production images minimal and secure",
      "Always run containers as non-root users with specific UID/GID to limit privilege escalation risks",
      "Implement health checks for all services to enable proper startup ordering and failure detection"
    ],
    "anti_patterns": [
      "Installing build tools (gcc, make) in production images increases attack surface unnecessarily",
      "Hardcoding secrets in environment variables or Dockerfile layers exposes credentials in image history",
      "Running containers with default privileges without capability restrictions or resource limits"
    ],
    "faq": [
      {
        "question": "What is the difference between Alpine and distroless base images?",
        "answer": "Alpine images are minimal Linux distributions (~5MB) with a package manager for flexibility. Distroless images contain only your application and runtime dependencies (~20-50MB) with no shell or package manager, providing stronger security by reducing the attack surface. Choose Alpine for flexibility during development and distroless for production security."
      },
      {
        "question": "How do multi-stage builds improve security?",
        "answer": "Multi-stage builds separate the build environment from the runtime environment. Build tools, source code, and intermediate artifacts are discarded after the build, leaving only the final production artifacts in the deployable image. This prevents exposing build-time secrets and reduces the image attack surface."
      },
      {
        "question": "What is the recommended way to manage secrets in Docker?",
        "answer": "Use Docker Secrets (for Swarm) or BuildKit secret mounts (for builds) to pass sensitive data. Never bake secrets into images or environment variables. Secrets should come from secure external sources and be mounted at runtime or build-time only where needed."
      },
      {
        "question": "How do I optimize layer caching in Docker?",
        "answer": "Order Dockerfile instructions from least to most frequently changing: base image, dependencies, configuration, then source code. Copy dependency files first (package*.json), run install commands, then copy source code. This way, dependency installation is cached unless package files change."
      },
      {
        "question": "When should I use docker-compose vs kubernetes?",
        "answer": "Docker Compose is ideal for local development, testing, and simple multi-container applications. It runs on a single host. Kubernetes is designed for production orchestration across multiple nodes with features like automatic scaling, rolling updates, and self-healing. Start with Compose for development, migrate to Kubernetes when you need production-grade orchestration."
      },
      {
        "question": "How do health checks affect container startup?",
        "answer": "Health checks enable depends_on conditions in Compose to wait for services to be ready. Without health checks, containers start immediately which can cause connection failures. A properly configured health check ensures dependent services wait until databases are ready to accept connections."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 409
    }
  ]
}
