{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T00:58:48.187Z",
    "slug": "davila7-plugin-structure",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/development/plugin-structure",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "cc636a47fcf53537b57f3b0206ed7b32f028fef2d1532ecd0110955baa374aab",
    "tree_hash": "061773035148c9cc043fc1cc3d7d2c204eaa47f37b1c3361cda2255686361ea9"
  },
  "skill": {
    "name": "Plugin Structure",
    "description": "This skill should be used when the user asks to \"create a plugin\", \"scaffold a plugin\", \"understand plugin structure\", \"organize plugin components\", \"set up plugin.json\", \"use ${CLAUDE_PLUGIN_ROOT}\", \"add commands/agents/skills/hooks\", \"configure auto-discovery\", or needs guidance on plugin directory layout, manifest configuration, component organization, file naming conventions, or Claude Code plugin architecture best practices.",
    "summary": "This skill should be used when the user asks to \"create a plugin\", \"scaffold a plugin\", \"understand ...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "davila7",
    "license": "MIT",
    "category": "development",
    "tags": [
      "plugin-architecture",
      "claude-code",
      "configuration",
      "best-practices"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Pure documentation skill with no executable code. Contains only markdown documentation describing plugin architecture patterns and best practices. No scripts, network calls, file system access, or code execution capabilities.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2851,
    "audit_model": "claude",
    "audited_at": "2026-01-07T00:58:48.187Z"
  },
  "content": {
    "user_title": "Create well-structured Claude Code plugins",
    "value_statement": "Plugin architecture can be confusing without clear guidance on directory layout and manifest configuration. This skill provides comprehensive documentation on plugin structure, component organization, and best practices for creating maintainable plugins that integrate seamlessly with Claude Code.",
    "seo_keywords": [
      "Claude Code plugin structure",
      "plugin.json manifest",
      "Claude Code plugin development",
      "CLAUDE_PLUGIN_ROOT",
      "plugin architecture",
      "component organization",
      "Claude Code skills",
      "Claude Code hooks",
      "Claude Code agents",
      "Claude Code commands"
    ],
    "actual_capabilities": [
      "Guides plugin directory structure setup with automatic component discovery",
      "Explains plugin.json manifest fields and configuration options",
      "Describes component organization patterns for commands, agents, skills, and hooks",
      "Documents ${CLAUDE_PLUGIN_ROOT} portable path references for cross-platform compatibility",
      "Provides file naming conventions and best practices for maintainable plugins",
      "Covers troubleshooting for common plugin configuration issues"
    ],
    "limitations": [
      "Does not execute code or create actual plugin files",
      "Does not validate existing plugin configurations",
      "Does not interact with Claude Code or file system",
      "Does not provide interactive scaffolding or code generation"
    ],
    "use_cases": [
      {
        "target_user": "Plugin Developers",
        "title": "Build new plugins",
        "description": "Create well-structured plugins from scratch using proper directory layout and manifest configuration."
      },
      {
        "target_user": "Team Leads",
        "title": "Standardize team plugins",
        "description": "Establish consistent plugin architecture patterns across your development team's projects."
      },
      {
        "target_user": "Documentation Writers",
        "title": "Understand plugin internals",
        "description": "Learn how Claude Code discovers and loads plugin components for accurate documentation."
      }
    ],
    "prompt_templates": [
      {
        "title": "Scaffold Plugin",
        "scenario": "Create a new plugin from scratch",
        "prompt": "Help me create a new Claude Code plugin with a proper directory structure. I need to set up plugin.json and organize commands, agents, and skills."
      },
      {
        "title": "Manifest Configuration",
        "scenario": "Configure plugin.json fields",
        "prompt": "Explain the required and optional fields in plugin.json. I want to add version, author, and custom component paths to my plugin manifest."
      },
      {
        "title": "Component Organization",
        "scenario": "Organize multiple component types",
        "prompt": "What is the recommended way to organize a large plugin with many commands, agents, and skills? Show me best practices for scaling plugin structure."
      },
      {
        "title": "Path References",
        "scenario": "Use portable paths correctly",
        "prompt": "When should I use ${CLAUDE_PLUGIN_ROOT} versus relative paths? Show me how to reference scripts and resources in a cross-platform way."
      }
    ],
    "output_examples": [
      {
        "input": "How do I create a plugin with commands and hooks?",
        "output": [
          "A minimal plugin structure includes:",
          "  - .claude-plugin/plugin.json with required name field",
          "  - commands/ directory with .md files for slash commands",
          "  - hooks/hooks.json for event handlers",
          "For hooks, define event types like PreToolUse or PostToolUse with matching patterns. Scripts use ${CLAUDE_PLUGIN_ROOT} for portable path references."
        ]
      }
    ],
    "best_practices": [
      "Use kebab-case for all directory and file names to ensure cross-platform compatibility",
      "Keep plugin.json in .claude-plugin/ directory at plugin root level, not nested inside other directories",
      "Always use ${CLAUDE_PLUGIN_ROOT} for script and resource paths instead of hardcoded absolute paths"
    ],
    "anti_patterns": [
      "Nesting component directories inside .claude-plugin/ instead of at plugin root level",
      "Using hardcoded absolute paths like /Users/name/plugins/ instead of portable ${CLAUDE_PLUGIN_ROOT}",
      "Mixing different naming conventions (kebab-case vs snake_case) within the same plugin"
    ],
    "faq": [
      {
        "question": "What is the minimum required for a Claude Code plugin?",
        "answer": "A plugin needs only a .claude-plugin/plugin.json with a name field. All other components are optional."
      },
      {
        "question": "How does component auto-discovery work?",
        "answer": "Claude Code automatically scans default directories (commands/, agents/, skills/) for .md files with proper frontmatter."
      },
      {
        "question": "Can I use custom component paths?",
        "answer": "Yes, add paths in plugin.json. Custom paths supplement default directories rather than replacing them."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "Yes. This skill only provides documentation and guidance. It does not read, write, or execute any code on your system."
      },
      {
        "question": "Why is my component not loading?",
        "answer": "Check file location (must be at plugin root), verify YAML frontmatter syntax, confirm naming uses kebab-case with .md extension."
      },
      {
        "question": "How does this compare to writing plugins without guidance?",
        "answer": "This skill prevents common mistakes like wrong directory structure, improper path references, and configuration errors that cause plugin loading failures."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "advanced-plugin.md",
          "type": "file",
          "path": "examples/advanced-plugin.md"
        },
        {
          "name": "minimal-plugin.md",
          "type": "file",
          "path": "examples/minimal-plugin.md"
        },
        {
          "name": "standard-plugin.md",
          "type": "file",
          "path": "examples/standard-plugin.md"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "component-patterns.md",
          "type": "file",
          "path": "references/component-patterns.md"
        },
        {
          "name": "manifest-reference.md",
          "type": "file",
          "path": "references/manifest-reference.md"
        }
      ]
    },
    {
      "name": "README.md",
      "type": "file",
      "path": "README.md"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
