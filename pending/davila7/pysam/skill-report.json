{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T01:23:26.512Z",
    "slug": "davila7-pysam",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/scientific/pysam",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "3cc82d31438f4252acfb22d6dd334819ca2cefa6c580b800c506b2dd389d7039",
    "tree_hash": "45603f2c68807a65f07854cb76737ff4bf9b7120fca5659304c1ff4da0b88865"
  },
  "skill": {
    "name": "pysam",
    "description": "Genomic file toolkit. Read/write SAM/BAM/CRAM alignments, VCF/BCF variants, FASTA/FASTQ sequences, extract regions, calculate coverage, for NGS data processing pipelines.",
    "summary": "Genomic file toolkit. Read/write SAM/BAM/CRAM alignments, VCF/BCF variants, FASTA/FASTQ sequences, e...",
    "icon": "ðŸ§¬",
    "version": "1.0.0",
    "author": "davila7",
    "license": "MIT",
    "category": "data",
    "tags": [
      "bioinformatics",
      "genomics",
      "sequencing",
      "variant-analysis",
      "data-processing"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill providing reference materials for the pysam bioinformatics library. Contains no executable code, no network calls, and no system access capabilities. The skill consists entirely of markdown documentation teaching users how to use the legitimate pysam library for genomic data analysis.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 5,
    "total_lines": 2600,
    "audit_model": "claude",
    "audited_at": "2026-01-07T01:23:26.512Z"
  },
  "content": {
    "user_title": "Analyze genomic data with Pysam",
    "value_statement": "Process next-generation sequencing data efficiently. Work with SAM/BAM/VCF/FASTA files to extract variants, calculate coverage, and build bioinformatics analysis pipelines.",
    "seo_keywords": [
      "pysam",
      "genomic data analysis",
      "NGS pipeline",
      "BAM file analysis",
      "VCF variant files",
      "bioinformatics",
      "samtools",
      "sequencing data",
      "Claude Code skill",
      "ClaÑ€Ð¾Ð´Ðµ Code"
    ],
    "actual_capabilities": [
      "Read and write SAM/BAM/CRAM alignment files with region-based queries",
      "Process VCF/BCF variant files with genotype and INFO field access",
      "Extract reference sequences from indexed FASTA files",
      "Calculate per-base coverage and identify low-coverage regions",
      "Execute samtools and bcftools commands through pysam interface"
    ],
    "limitations": [
      "Requires htslib and samtools installed for full functionality",
      "Coordinate system confusion between 0-based and 1-based systems",
      "Index files required for random access operations",
      "Does not perform variant calling or sequence alignment itself"
    ],
    "use_cases": [
      {
        "target_user": "Bioinformatics researchers",
        "title": "Analyze sequencing alignments",
        "description": "Extract reads from specific genomic regions and calculate coverage statistics for targeted sequencing studies."
      },
      {
        "target_user": "Clinical geneticists",
        "title": "Validate genetic variants",
        "description": "Check variant positions against aligned reads and annotate variants with coverage and read support information."
      },
      {
        "target_user": "Data scientists",
        "title": "Build NGS pipelines",
        "description": "Create automated workflows for quality control, variant filtering, and multi-sample genomic data integration."
      }
    ],
    "prompt_templates": [
      {
        "title": "Read BAM file",
        "scenario": "Extract reads from a region",
        "prompt": "Use pysam to open my alignment.bam file and fetch all reads overlapping chr1:1000-2000. Show read names and mapping positions."
      },
      {
        "title": "Calculate coverage",
        "scenario": "Get per-base depth",
        "prompt": "Calculate coverage for positions 1000-5000 on chromosome 20 using the pileup method. Return the mean and maximum coverage."
      },
      {
        "title": "Filter variants",
        "scenario": "Select high-quality variants",
        "prompt": "Filter the variants.vcf file to keep only variants with quality >= 50 and depth >= 20. Output the filtered variants."
      },
      {
        "title": "Validate allele",
        "scenario": "Check reference match",
        "prompt": "Open the reference.fasta file and verify the reference allele at chr1:12345. Compare it to the REF field in my variants.vcf."
      }
    ],
    "output_examples": [
      {
        "input": "Fetch reads from chr1:1000-2000 and show coverage statistics",
        "output": [
          "Found 247 reads overlapping the region",
          "Mean coverage: 23.5 reads per base",
          "Coverage range: 5-45 reads per position",
          "Average mapping quality: 42"
        ]
      }
    ],
    "best_practices": [
      "Create index files (.bai, .fai, .tbi) for random access operations",
      "Use pileup() for column-wise analysis instead of multiple fetch() calls",
      "Close files explicitly after processing to free system resources",
      "Remember pysam uses 0-based coordinates but VCF files use 1-based"
    ],
    "anti_patterns": [
      "Loading entire BAM files into memory instead of streaming with fetch()",
      "Mixing 0-based and 1-based coordinates without conversion",
      "Using non-indexed files for region queries without until_eof=True",
      "Forgetting to create .fai index for FASTA random access"
    ],
    "faq": [
      {
        "question": "What file formats does Pysam support?",
        "answer": "Pysam supports SAM/BAM/CRAM for alignments, VCF/BCF for variants, and FASTA/FASTQ for sequences with bgzip compression."
      },
      {
        "question": "What are the system requirements?",
        "answer": "Pysam requires htslib library. Install with 'uv pip install pysam' which bundles htslib dependencies."
      },
      {
        "question": "Can Pysam call variants or align sequences?",
        "answer:": "No. Pysam is a file I/O library. Use GATK, FreeBayes, or BWA for variant calling and alignment respectively."
      },
      {
        "question": "Is my genomic data safe with Pysam?",
        "answer": "Pysam runs locally and only reads files you specify. No data is sent to external servers during processing."
      },
      {
        "question": "Why am I getting coordinate errors?",
        "answer": "Pysam uses 0-based coordinates but VCF and samtools use 1-based. Convert positions when switching between systems."
      },
      {
        "question": "How does Pysam compare to samtools CLI?",
        "answer": "Pysam provides Python API access to htslib with faster iteration than samtools pipes. Use samtools for simple tasks and Pysam for complex workflows."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "alignment_files.md",
          "type": "file",
          "path": "references/alignment_files.md"
        },
        {
          "name": "common_workflows.md",
          "type": "file",
          "path": "references/common_workflows.md"
        },
        {
          "name": "sequence_files.md",
          "type": "file",
          "path": "references/sequence_files.md"
        },
        {
          "name": "variant_files.md",
          "type": "file",
          "path": "references/variant_files.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
