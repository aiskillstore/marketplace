{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T00:36:23.765Z",
    "slug": "davila7-iterate-pr",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/sentry/iterate-pr",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "a00df054b744ccb967f536ff4454835018fe6ec9a082aa2b9fd51faf57981522",
    "tree_hash": "962eb4533e33fcd64f66cb89e3dbf88f1c16086e6c469ac2ae37dd351a8ace69"
  },
  "skill": {
    "name": "iterate-pr",
    "description": "Iterate on a PR until CI passes. Use when you need to fix CI failures, address review feedback, or continuously push fixes until all checks are green. Automates the feedback-fix-push-wait cycle.",
    "summary": "Iterate on a PR until CI passes. Use when you need to fix CI failures, address review feedback, or c...",
    "icon": "ðŸ”„",
    "version": "1.0.0",
    "author": "davila7",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "ci-cd",
      "pull-requests",
      "github",
      "automation",
      "devops"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Prompt-based skill providing CI/CD workflow guidance. Uses standard GitHub CLI commands for PR iteration. All commands match the stated purpose of PR automation. No executable scripts or suspicious network behavior.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 17,
            "line_end": 18
          },
          {
            "file": "SKILL.md",
            "line_start": 27,
            "line_end": 28
          },
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 93
          },
          {
            "file": "SKILL.md",
            "line_start": 99,
            "line_end": 102
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 93
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Git command execution with staged changes",
        "description": "The skill includes git commands that stage and commit changes: `git add -A`, `git commit -m`, and `git push`. These commands modify the local repository and push changes to remote. An attacker with control over the skill execution could manipulate commit messages or push unintended changes. The relevant lines are 91-93 in SKILL.md.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 91,
            "line_end": 93
          }
        ]
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 140,
    "audit_model": "claude",
    "audited_at": "2026-01-07T00:36:23.765Z"
  },
  "content": {
    "user_title": "Iterate on pull requests until CI passes",
    "value_statement": "Managing CI failures and review feedback requires repeatedly checking status, applying fixes, and pushing changes. This skill automates the feedback-fix-push cycle so developers can focus on writing code instead of manually tracking CI pipelines.",
    "seo_keywords": [
      "claude code iterate pr",
      "CI automation skill",
      "GitHub PR automation",
      "Claude Codex PR iteration",
      "continuous integration workflow",
      "GitHub Actions automation",
      "PR review feedback",
      "CI pipeline management",
      "claude code skill",
      "GitHub CLI automation"
    ],
    "actual_capabilities": [
      "Identify the current PR using GitHub CLI commands",
      "Check CI/GitHub Actions status before proceeding",
      "Gather review feedback from humans and bots",
      "Investigate CI failures by reading actual logs",
      "Validate and address feedback with targeted fixes",
      "Commit changes and watch CI until all checks pass"
    ],
    "limitations": [
      "Requires GitHub CLI (gh) to be installed and authenticated",
      "Cannot proceed if no PR exists for the current branch",
      "Does not handle CI infrastructure issues unrelated to code changes",
      "Stops after 3 failed attempts and asks for user help"
    ],
    "use_cases": [
      {
        "target_user": "Software developers",
        "title": "Fix CI failures automatically",
        "description": "Continuously fix test failures and linting issues until all CI checks pass without manual polling"
      },
      {
        "target_user": "Code reviewers",
        "title": "Address review feedback efficiently",
        "description": "Track and resolve human review comments across multiple iteration cycles until approval"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Monitor bot feedback",
        "description": "Wait for Sentry, Codecov, and other bot checks to complete before addressing their feedback"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic PR iteration",
        "scenario": "CI checks are failing",
        "prompt": "Use the iterate-pr skill to fix the failing CI checks on my current PR"
      },
      {
        "title": "Address review feedback",
        "scenario": "Code review comments pending",
        "prompt": "Check my PR for review feedback and address all comments using iterate-pr"
      },
      {
        "title": "Full CI verification",
        "scenario": "Preparing to merge",
        "prompt": "Run iterate-pr to ensure all CI checks pass and all feedback is addressed before merge"
      },
      {
        "title": "Debug persistent failures",
        "scenario": "Same failure multiple times",
        "prompt": "Use iterate-pr to investigate why my CI is failing repeatedly and determine if it needs user intervention"
      }
    ],
    "output_examples": [
      {
        "input": "My PR has 2 failing tests and a review comment. Fix them.",
        "output": [
          "âœ“ Found PR #123 for branch feature/login",
          "âœ“ CI Status: 2 failed (test-unit, test-integration)",
          "âœ“ Found 1 review comment from @reviewer",
          "â€¢ Analyzing test failures...",
          "â€¢ Addressing review comment...",
          "âœ“ Changes committed and pushed",
          "â€¢ Watching CI... (checks passing: 5/7)",
          "â€¢ Waiting for remaining checks...",
          "âœ“ All CI checks passed! PR ready for merge"
        ]
      }
    ],
    "best_practices": [
      "Verify the PR exists for your current branch before starting the iteration",
      "Wait for bot-related checks (Sentry, Codecov) to complete before addressing their feedback",
      "Validate that feedback is legitimate and not already addressed before making changes",
      "Let the skill stop and ask for help when failures persist beyond 3 attempts"
    ],
    "anti_patterns": [
      "Running the skill without GitHub CLI authentication or proper repository permissions",
      "Ignoring pending CI checks and addressing feedback too early",
      "Assuming all feedback is correct without validating the issue first",
      "Continuing iteration when CI failures are infrastructure issues unrelated to your code"
    ],
    "faq": [
      {
        "question": "Does this skill work with GitHub Enterprise?",
        "answer": "Yes. The GitHub CLI (gh) works with GitHub Enterprise Server installations when properly authenticated."
      },
      {
        "question": "How long does it wait between CI checks?",
        "answer": "By default, it polls every 30 seconds using `gh pr checks --watch --interval 30` for efficient monitoring."
      },
      {
        "question": "Can I customize which CI checks to wait for?",
        "answer": "Yes. Use `gh pr checks --required` to focus only on required checks and skip optional ones."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "Yes. The skill only reads PR metadata and pushes commits you explicitly approve. No data is sent to external servers."
      },
      {
        "question": "What happens if CI keeps failing?",
        "answer": "The skill stops after 3 failed attempts and asks for your help. This catches flaky tests or deeper issues requiring investigation."
      },
      {
        "question": "How is this different from GitHub Actions auto-merge?",
        "answer": "This skill actively investigates failures, applies code fixes, and addresses review feedback. Auto-merge only combines passing checks."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
