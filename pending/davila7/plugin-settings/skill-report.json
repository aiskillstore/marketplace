{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-07T00:57:49.855Z",
    "slug": "davila7-plugin-settings",
    "source_url": "https://github.com/davila7/claude-code-templates/tree/main/cli-tool/components/skills/development/plugin-settings",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "cc3b61c89064b54e50a779303855b9bda4d4833897a76185c362cfd6a8d8d8e6",
    "tree_hash": "8bf658c8351ff05df5eb37028bc8504e18be7bce10673bbdd6ec4616a3224563"
  },
  "skill": {
    "name": "Plugin Settings",
    "description": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", \"user-configurable plugin\", \".local.md files\", \"plugin state files\", \"read YAML frontmatter\", \"per-project plugin settings\", or wants to make plugin behavior configurable. Documents the .claude/plugin-name.local.md pattern for storing plugin-specific configuration with YAML frontmatter and markdown content.",
    "summary": "This skill should be used when the user asks about \"plugin settings\", \"store plugin configuration\", ...",
    "icon": "⚙️",
    "version": "0.1.0",
    "author": "davila7",
    "license": "MIT",
    "category": "development",
    "tags": [
      "configuration",
      "plugins",
      "yaml",
      "settings"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "filesystem",
      "external_commands"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Documentation-only skill teaching a configuration pattern. Contains example bash scripts for parsing YAML frontmatter using standard Unix utilities (sed, grep, awk). No network operations, no external data access, no sensitive system paths accessed.",
    "risk_factor_evidence": [
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "scripts/validate-settings.sh",
            "line_start": 1,
            "line_end": 102
          },
          {
            "file": "scripts/parse-frontmatter.sh",
            "line_start": 1,
            "line_end": 59
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "examples/read-settings-hook.sh",
            "line_start": 7,
            "line_end": 14
          },
          {
            "file": "SKILL.md",
            "line_start": 71,
            "line_end": 95
          }
        ]
      },
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 79,
            "line_end": 79
          },
          {
            "file": "SKILL.md",
            "line_start": 82,
            "line_end": 82
          },
          {
            "file": "references/parsing-techniques.md",
            "line_start": 33,
            "line_end": 33
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 8,
    "total_lines": 1976,
    "audit_model": "claude",
    "audited_at": "2026-01-07T00:57:49.855Z"
  },
  "content": {
    "user_title": "Configure plugin settings with YAML frontmatter pattern",
    "value_statement": "Users struggle to make Claude Code plugins configurable across projects. This skill documents the .claude/plugin-name.local.md pattern for storing per-project plugin configuration with YAML frontmatter and markdown content, enabling hooks and commands to read user preferences.",
    "seo_keywords": [
      "plugin settings",
      "YAML frontmatter",
      "Claude Code settings",
      "local.md configuration",
      "Claude plugin config",
      "plugin state files",
      "per-project settings",
      "Claude development"
    ],
    "actual_capabilities": [
      "Documents .claude/plugin-name.local.md file pattern for plugin configuration",
      "Shows how to store YAML frontmatter with structured settings",
      "Explains reading settings from hooks using bash (sed, grep, awk)",
      "Provides validation patterns for settings file structure",
      "Demonstrates real-world examples from multi-agent-swarm and ralph-wiggum plugins",
      "Shows atomic update patterns for settings files"
    ],
    "limitations": [
      "This is a documentation skill that explains a pattern, not executable code",
      "Settings changes require Claude Code restart to take effect",
      "Does not include a YAML parser library or parser installation",
      "Gitignore entry for .claude/*.local.md must be added manually"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Add configurable settings",
        "description": "Design and implement user-configurable settings for your Claude Code plugin using the .local.md pattern"
      },
      {
        "target_user": "Project maintainers",
        "title": "Override plugin defaults",
        "description": "Create project-specific plugin configuration files that override default plugin behavior"
      },
      {
        "target_user": "Team leads",
        "title": "Coordinate agent state",
        "description": "Use settings files to track task assignments and coordinate multi-agent workflows across projects"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic settings",
        "scenario": "How to store plugin configuration",
        "prompt": "How do I store user-configurable settings for my Claude Code plugin using the .claude/plugin-name.local.md pattern?"
      },
      {
        "title": "Read settings",
        "scenario": "Reading configuration in hooks",
        "prompt": "Show me how to read YAML frontmatter from a .local.md file in a bash hook script"
      },
      {
        "title": "Validate settings",
        "scenario": "Validating configuration files",
        "prompt": "How do I validate the structure of a plugin settings file and check for required fields?"
      },
      {
        "title": "Update safely",
        "scenario": "Updating settings atomically",
        "prompt": "What is the safe way to update settings in a .local.md file without corrupting it if the process is interrupted?"
      }
    ],
    "output_examples": [
      {
        "input": "How do I configure my plugin to use settings files?",
        "output": [
          "Create a settings file at .claude/my-plugin.local.md:",
          "---",
          "enabled: true",
          "mode: strict",
          "max_file_size: 1000000",
          "---",
          "# Plugin Configuration",
          "Your settings description here.",
          "In hooks, read settings with: sed -n '/^---$/,/^---$/p' file",
          "Check enabled flag and exit early if not configured"
        ]
      }
    ],
    "best_practices": [
      "Use .claude/plugin-name.local.md format and add .claude/*.local.md to .gitignore",
      "Provide sensible defaults when settings file does not exist",
      "Validate all field values before using them in your logic",
      "Use atomic updates (temp file + mv) to prevent corruption"
    ],
    "anti_patterns": [
      "Using absolute paths like /Users/username instead of relative .claude/ paths",
      "Failing to quote variables when parsing settings values",
      "Not handling missing or corrupt settings files gracefully",
      "Editing settings without restarting Claude Code for hooks"
    ],
    "faq": [
      {
        "question": "Which Claude tools support this pattern?",
        "answer": "All Claude Code components including hooks, commands, and agents can read .local.md files using bash Read tool."
      },
      {
        "question": "What settings fields are supported?",
        "answer": "Any YAML-compatible field type: strings, booleans, numbers, lists, and nested objects can be stored in frontmatter."
      },
      {
        "question": "Can I use external YAML parsers?",
        "answer": "Yes, tools like yq provide proper YAML parsing. Use sed/grep for simple fields to avoid dependencies."
      },
      {
        "question": "Is my settings data safe?",
        "answer": "Settings are stored locally in .claude/ directory. Add .claude/*.local.md to .gitignore to prevent commits."
      },
      {
        "question": "Why are my settings not taking effect?",
        "answer": "Settings changes require Claude Code restart. Hooks cannot be hot-swapped during an active session."
      },
      {
        "question": "How is this different from CLAUDE.md?",
        "answer": "CLAUDE.md stores project context for every session. .local.md stores per-plugin configuration and state."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "create-settings-command.md",
          "type": "file",
          "path": "examples/create-settings-command.md"
        },
        {
          "name": "example-settings.md",
          "type": "file",
          "path": "examples/example-settings.md"
        },
        {
          "name": "read-settings-hook.sh",
          "type": "file",
          "path": "examples/read-settings-hook.sh"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "parsing-techniques.md",
          "type": "file",
          "path": "references/parsing-techniques.md"
        },
        {
          "name": "real-world-examples.md",
          "type": "file",
          "path": "references/real-world-examples.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "parse-frontmatter.sh",
          "type": "file",
          "path": "scripts/parse-frontmatter.sh"
        },
        {
          "name": "validate-settings.sh",
          "type": "file",
          "path": "scripts/validate-settings.sh"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
