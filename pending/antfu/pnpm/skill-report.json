{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-30T08:50:50.455Z",
    "slug": "antfu-pnpm",
    "source_url": "https://github.com/antfu/skills/tree/main/skills/pnpm/",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "3.0.0",
    "source_type": "community",
    "content_hash": "fdff046f0a367a9ab1dcf3c4b7473fc5f2c8f6a465837ea517d81d34b91597fe",
    "tree_hash": "0c762ded5c0df82864ad19cebb55f18259f698e5c5338b1e331005a67e85377f"
  },
  "skill": {
    "name": "pnpm",
    "description": "Node.js package manager with strict dependency resolution. Use when running pnpm specific commands, configuring workspaces, or managing dependencies with catalogs, patches, or overrides.",
    "summary": "Fast, disk-efficient Node.js package manager with content-addressable storage and strict workspaces support.",
    "icon": "ðŸ“¦",
    "version": "1.0.0",
    "author": "antfu",
    "license": "MIT",
    "tags": [
      "node",
      "package-manager",
      "dependencies",
      "workspaces",
      "monorepo"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "scripts",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "All static findings are false positives. The skill consists of markdown documentation files that describe pnpm package manager usage. Shell command syntax in documentation (backticks, $() substitution) are standard markdown patterns for documenting CLI tools, not executable code. No actual code execution, credential access, or network calls are present in this documentation-only skill.",
    "risk_factor_evidence": [
      {
        "factor": "external_commands",
        "evidence": [
          {
            "file": "GENERATION.md",
            "line_start": 3,
            "line_end": 3
          },
          {
            "file": "GENERATION.md",
            "line_start": 4,
            "line_end": 4
          },
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 10
          },
          {
            "file": "SKILL.md",
            "line_start": 12,
            "line_end": 12
          }
        ]
      },
      {
        "factor": "network",
        "evidence": [
          {
            "file": "SKILL.md",
            "line_start": 7,
            "line_end": 7
          }
        ]
      },
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "references/features-patches.md",
            "line_start": 24,
            "line_end": 24
          },
          {
            "file": "references/features-patches.md",
            "line_start": 32,
            "line_end": 32
          }
        ]
      },
      {
        "factor": "scripts",
        "evidence": [
          {
            "file": "references/features-hooks.md",
            "line_start": 145,
            "line_end": 145
          }
        ]
      },
      {
        "factor": "env_access",
        "evidence": [
          {
            "file": "references/features-hooks.md",
            "line_start": 194,
            "line_end": 194
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [
      {
        "title": "Documentation Shell Command Syntax",
        "description": "Markdown documentation contains shell command syntax patterns (backticks, $() substitution) used to document pnpm CLI usage. These are standard documentation patterns for CLI tools, not actual code execution.",
        "locations": [
          {
            "file": "GENERATION.md",
            "line_start": 3,
            "line_end": 4
          },
          {
            "file": "SKILL.md",
            "line_start": 10,
            "line_end": 12
          },
          {
            "file": "references/core-cli.md",
            "line_start": 13,
            "line_end": 205
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "These are markdown documentation files describing pnpm CLI commands using standard documentation syntax for shell examples. No actual command execution occurs."
      },
      {
        "title": "Heuristic False Positive: Dangerous Combination",
        "description": "Static analyzer flagged 'Code execution + Network + Credential access' combination. This is a false positive - the skill contains only documentation files with no executable code, no network calls, and no credential handling.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 1,
            "line_end": 43
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.98,
        "confidence_reasoning": "Markdown documentation files cannot execute code, make network requests, or access credentials. The heuristic pattern matching incorrectly triggered on documentation examples."
      },
      {
        "title": "Heuristic False Positive: Filesystem + Credentials",
        "description": "Static analyzer flagged 'Filesystem + Credentials + Network' combination. This is a false positive - documentation references to config files are informational, not actual file operations.",
        "locations": [
          {
            "file": "references/core-config.md",
            "line_start": 1,
            "line_end": 189
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.98,
        "confidence_reasoning": "Documentation describing config file locations is normal for a package manager skill. No actual file operations or credential access occurs in these markdown files."
      }
    ],
    "medium_findings": [],
    "low_findings": [
      {
        "title": "Documentation URL References",
        "description": "Documentation contains hardcoded URLs to external resources (pnpm documentation, package registries). This is standard practice for documentation.",
        "locations": [
          {
            "file": "SKILL.md",
            "line_start": 7,
            "line_end": 7
          },
          {
            "file": "references/core-cli.md",
            "line_start": 225,
            "line_end": 228
          }
        ],
        "verdict": "FALSE_POSITIVE",
        "confidence": 0.95,
        "confidence_reasoning": "Hardcoded URLs in documentation are standard for linking to official resources and package registries. No network calls are made by this skill."
      }
    ],
    "dangerous_patterns": [],
    "files_scanned": 15,
    "total_lines": 2918,
    "audit_model": "claude",
    "audited_at": "2026-01-30T08:50:50.455Z",
    "risk_factors": [
      "external_commands",
      "network",
      "filesystem",
      "scripts",
      "env_access"
    ]
  },
  "content": {
    "user_title": "Manage Node.js packages with pnpm",
    "value_statement": "Managing Node.js dependencies manually is time-consuming and error-prone. The pnpm skill provides Claude with comprehensive knowledge of pnpm commands, workspace configuration, catalogs, patches, overrides, and best practices for monorepo workflows.",
    "seo_keywords": [
      "pnpm",
      "node package manager",
      "claude",
      "codex",
      "claude code",
      "node dependencies",
      "npm alternative",
      "yarn alternative",
      "monorepo",
      "workspaces"
    ],
    "actual_capabilities": [
      "Execute pnpm CLI commands (install, add, remove, update, list, outdated, prune)",
      "Configure pnpm workspaces for monorepo projects",
      "Set up dependency catalogs for centralized version management",
      "Apply patches to dependencies using pnpm patch command",
      "Configure overrides to force specific dependency versions",
      "Manage peer dependencies and hoisting strategies"
    ],
    "limitations": [
      "Does not install or configure pnpm itself - assumes pnpm is already available",
      "Does not modify project files without explicit user request",
      "Cannot execute commands in environments without pnpm installed",
      "Does not provide package registry authentication or credential management"
    ],
    "use_cases": [
      {
        "title": "Add or remove dependencies",
        "description": "Claude can help add new dependencies to your project, specifying version ranges, dev vs production scope, and handling peer dependency conflicts.",
        "target_user": "Developers working on Node.js projects who need to manage dependencies efficiently"
      },
      {
        "title": "Configure monorepo workspaces",
        "description": "Set up pnpm workspaces to manage multiple packages in a single repository with shared node_modules and hoisting rules.",
        "target_user": "Teams maintaining monorepos or multi-package projects"
      },
      {
        "title": "Apply patches to dependencies",
        "description": "Temporarily modify a dependency by applying patches that survive reinstalls, useful when waiting for upstream fixes.",
        "target_user": "Maintainers who need to apply quick fixes to third-party packages"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic dependency management",
        "prompt": "Add the 'lodash' package to my project using pnpm. I need it as a production dependency.",
        "scenario": "Simple dependency addition"
      },
      {
        "title": "Workspace configuration",
        "prompt": "Set up pnpm workspaces in my monorepo. I have packages in the 'packages/' directory that should be linked together.",
        "scenario": "Creating a monorepo workspace structure"
      },
      {
        "title": "Catalog management",
        "prompt": "Create a dependency catalog in my project to centralize version management for React, TypeScript, and ESLint across all packages.",
        "scenario": "Setting up centralized version catalogs"
      },
      {
        "title": "Patch a dependency",
        "prompt": "Patch the 'axios' package to fix a header issue. After applying the patch, make sure it persists across reinstalls.",
        "scenario": "Applying temporary fixes to third-party code"
      }
    ],
    "output_examples": [
      {
        "input": "Install the 'express' package with pnpm",
        "output": [
          "Installing express@4.18.2...",
          "Packages added: 1",
          "Done in 2.3s"
        ]
      },
      {
        "input": "Check for outdated packages",
        "output": [
          "Package           Current  Wanted  Latest  Depended by",
          "typescript         5.0.0   5.0.2   5.1.0  my-project",
          "eslint            8.40.0  8.40.0  8.42.0  my-project"
        ]
      },
      {
        "input": "List dependencies in a tree format",
        "output": [
          "my-project@1.0.0",
          "â””â”€ express@4.18.2",
          "  â”œâ”€ accepts@1.3.8",
          "  â”œâ”€ body-parser@1.20.2",
          "  â”‚  â””â”€ qs@6.11.0",
          "  â””â”€ cookie-parser@1.4.6"
        ]
      }
    ],
    "best_practices": [
      "Use pnpm workspaces for monorepo projects to share dependencies efficiently and avoid duplication",
      "Enable hoisting for peer dependencies when using tools that require hoisted node_modules",
      "Use catalogs to centralize version management and ensure consistency across packages"
    ],
    "anti_patterns": [
      "Avoid using npm or yarn commands in projects that use pnpm - stick to pnpm for consistency",
      "Do not delete node_modules manually - use 'pnpm dedupe' or 'pnpm store prune' instead",
      "Avoid using 'pnpm install --no-save' for regular dependency management"
    ],
    "faq": [
      {
        "question": "How does pnpm differ from npm or yarn?",
        "answer": "pnpm uses content-addressable storage to store packages on disk once, then creates hard links. This saves disk space and speeds up installs. It also has stricter hoisting by default, reducing duplicate dependencies."
      },
      {
        "question": "Can I use pnpm with existing npm projects?",
        "answer": "Yes. Delete node_modules and lockfile, then run 'pnpm install'. pnpm will generate its own pnpm-lock.yaml. Most projects work without changes."
      },
      {
        "question": "What are pnpm catalogs?",
        "answer": "Catalogs allow you to define centralized versions for dependencies. When you add a package, it uses the catalog version. Update the catalog, and all packages using it get updated together."
      },
      {
        "question": "How do patches work in pnpm?",
        "answer": "Run 'pnpm patch <package>' to extract the package to a temporary location. Make your changes, then run 'pnpm patch-commit <path>' to create a patch file. Patches persist across installs."
      },
      {
        "question": "What are overrides in pnpm?",
        "answer": "Overrides in pnpm-workspace.yaml let you force specific versions of transitive dependencies. Useful for fixing security vulnerabilities in deep dependency trees."
      },
      {
        "question": "Does pnpm support yarn workspaces?",
        "answer": "pnpm has its own workspace protocol but supports yarn workspace packages through package.json configurations. Use 'workspace:' protocol for pnpm-native references."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "best-practices-ci.md",
          "type": "file",
          "path": "references/best-practices-ci.md",
          "lines": 286
        },
        {
          "name": "best-practices-migration.md",
          "type": "file",
          "path": "references/best-practices-migration.md",
          "lines": 292
        },
        {
          "name": "best-practices-performance.md",
          "type": "file",
          "path": "references/best-practices-performance.md",
          "lines": 285
        },
        {
          "name": "core-cli.md",
          "type": "file",
          "path": "references/core-cli.md",
          "lines": 230
        },
        {
          "name": "core-config.md",
          "type": "file",
          "path": "references/core-config.md",
          "lines": 189
        },
        {
          "name": "core-store.md",
          "type": "file",
          "path": "references/core-store.md",
          "lines": 180
        },
        {
          "name": "core-workspaces.md",
          "type": "file",
          "path": "references/core-workspaces.md",
          "lines": 206
        },
        {
          "name": "features-aliases.md",
          "type": "file",
          "path": "references/features-aliases.md",
          "lines": 169
        },
        {
          "name": "features-catalogs.md",
          "type": "file",
          "path": "references/features-catalogs.md",
          "lines": 160
        },
        {
          "name": "features-hooks.md",
          "type": "file",
          "path": "references/features-hooks.md",
          "lines": 234
        },
        {
          "name": "features-overrides.md",
          "type": "file",
          "path": "references/features-overrides.md",
          "lines": 185
        },
        {
          "name": "features-patches.md",
          "type": "file",
          "path": "references/features-patches.md",
          "lines": 202
        },
        {
          "name": "features-peer-deps.md",
          "type": "file",
          "path": "references/features-peer-deps.md",
          "lines": 251
        }
      ]
    },
    {
      "name": "GENERATION.md",
      "type": "file",
      "path": "GENERATION.md",
      "lines": 6
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md",
      "lines": 43
    }
  ]
}
