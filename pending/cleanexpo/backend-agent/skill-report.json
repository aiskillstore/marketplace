{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T12:18:43.858Z",
    "slug": "cleanexpo-backend-agent",
    "source_url": "https://github.com/CleanExpo/Unite-Hub/tree/main/.claude/skills/backend",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "ea7c063473bec850d76e16f0d42df590695375e6e4ab34f8ecdc6a2c1a1ced80",
    "tree_hash": "8b6ab1e7db39920c70a4f5bac2869462d3bcc92e04bdaf8042b3caacbd71702d"
  },
  "skill": {
    "name": "backend-agent",
    "description": "Handles backend/API/database work for Unite-Hub. Implements Next.js API routes, Supabase database operations, RLS policies, authentication, and third-party integrations (Gmail, Stripe).",
    "summary": "Handles backend/API/database work for Unite-Hub. Implements Next.js API routes, Supabase database op...",
    "icon": "ðŸ”§",
    "version": "1.0.0",
    "author": "CleanExpo",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "backend",
      "api",
      "database",
      "nextjs",
      "supabase"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a documentation-only skill with no executable code. It contains best practices and implementation guides for backend development with proper security measures including workspace isolation, authentication, and RLS policies.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 771,
    "audit_model": "claude",
    "audited_at": "2026-01-10T12:18:43.858Z"
  },
  "content": {
    "user_title": "Build secure backend APIs with workspace isolation",
    "value_statement": "Stop building insecure multi-tenant applications. This agent implements proper workspace isolation, authentication, and Row Level Security for Supabase databases.",
    "seo_keywords": [
      "Next.js API routes",
      "Supabase RLS policies",
      "multi-tenant backend",
      "Claude Code backend",
      "workspace isolation",
      "authentication",
      "database security",
      "API development",
      "Codex backend"
    ],
    "actual_capabilities": [
      "Creates Next.js API routes with proper authentication",
      "Implements Supabase Row Level Security policies",
      "Adds workspace and organization filtering to all queries",
      "Integrates Gmail API and Stripe payment processing",
      "Generates audit logs for all database mutations"
    ],
    "limitations": [
      "Requires Supabase PostgreSQL database",
      "Needs Next.js 16+ with App Router",
      "Multi-tenant architecture required"
    ],
    "use_cases": [
      {
        "target_user": "SaaS developers",
        "title": "Build multi-tenant APIs",
        "description": "Create secure API endpoints that properly isolate customer data by workspace and organization"
      },
      {
        "target_user": "Backend engineers",
        "title": "Implement RLS policies",
        "description": "Add Row Level Security to Supabase tables with proper user authorization checks"
      },
      {
        "target_user": "Full-stack developers",
        "title": "Add third-party integrations",
        "description": "Integrate Gmail API for email processing and Stripe for payments with proper authentication"
      }
    ],
    "prompt_templates": [
      {
        "title": "Create secure API endpoint",
        "scenario": "Building a new contact management API",
        "prompt": "Create a POST endpoint at /api/contacts that validates workspace_id, checks authentication, and stores new contacts with proper RLS policies"
      },
      {
        "title": "Fix workspace isolation",
        "scenario": "API returning all users instead of workspace-specific",
        "prompt": "Add workspace filtering to this database query and ensure it only returns records for the authenticated user's workspace"
      },
      {
        "title": "Implement Gmail integration",
        "scenario": "Need to fetch and process user emails",
        "prompt": "Create a Gmail API integration that fetches unread emails, processes them through Claude AI, and stores results in the database"
      },
      {
        "title": "Add RLS policies",
        "scenario": "New table needs security policies",
        "prompt": "Create Row Level Security policies for the campaigns table allowing users to only access records in their workspace"
      }
    ],
    "output_examples": [
      {
        "input": "Create a secure API endpoint for contact bulk updates with workspace isolation",
        "output": [
          "Created /api/contacts/bulk-update with POST handler",
          "Added workspace_id validation and authentication checks",
          "Implemented bulk update with proper error handling",
          "Added audit logging for all updates",
          "Tested with multiple workspaces - data properly isolated"
        ]
      }
    ],
    "best_practices": [
      "Always filter queries by workspace_id and organization_id",
      "Enable RLS policies on all database tables",
      "Log all mutations to auditLogs table with user context"
    ],
    "anti_patterns": [
      "Never skip workspace filtering in multi-tenant apps",
      "Don't expose database errors directly to clients",
      "Avoid hardcoding API keys in route handlers"
    ],
    "faq": [
      {
        "question": "Is this compatible with other databases?",
        "answer": "No, this skill is specifically designed for Supabase PostgreSQL with Row Level Security policies"
      },
      {
        "question": "What are the workspace filtering requirements?",
        "answer": "Every database query must include .eq('workspace_id', workspaceId) and .eq('organization_id', orgId)"
      },
      {
        "question": "Can I integrate with other payment providers?",
        "answer": "Yes, the Stripe integration pattern can be adapted for other providers like PayPal or Square"
      },
      {
        "question": "How does authentication work?",
        "answer": "Uses Supabase Auth with NextAuth.js, validates sessions on every API request"
      },
      {
        "question": "What if my API route is public?",
        "answer": "Explicitly document public endpoints and still validate workspace_id for any data operations"
      },
      {
        "question": "How do I test workspace isolation?",
        "answer": "Create test users in different workspaces and verify they cannot access each other's data"
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
