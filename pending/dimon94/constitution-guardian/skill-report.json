{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T14:05:51.954Z",
    "slug": "dimon94-constitution-guardian",
    "source_url": "https://github.com/Dimon94/cc-devflow/tree/main/.claude/skills/constitution-guardian",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "c582553e515762782398af137b742d8983026463252fb3f41ffdf70993a7a1db",
    "tree_hash": "fbb1c12d587c06499650e225ce105958312692dcd8ddf2d57a5bf84bc1f63006"
  },
  "skill": {
    "name": "constitution-guardian",
    "description": "Real-time Constitution compliance checker for devflow documents. Blocks partial implementations and hardcoded secrets during file editing.",
    "summary": "Real-time Constitution compliance checker for devflow documents. Blocks partial implementations and ...",
    "icon": "üõ°Ô∏è",
    "version": "1.0.0",
    "author": "Dimon94",
    "license": "MIT",
    "category": "documentation",
    "tags": [
      "constitution",
      "compliance",
      "guardrail",
      "security",
      "quality"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure documentation file defining compliance patterns for devflow documents. No executable code, no file system access, no network calls. The skill uses regex patterns to detect partial implementations (TODOs) and hardcoded secrets - defensive security patterns that protect users.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 307,
    "audit_model": "claude",
    "audited_at": "2026-01-10T14:05:51.954Z"
  },
  "content": {
    "user_title": "Block TODO placeholders and secrets",
    "value_statement": "Devflow documents often contain incomplete implementations and accidentally committed secrets. This guardrail detects and blocks these violations in real-time during editing, ensuring all documents meet quality and security standards before saving.",
    "seo_keywords": [
      "Claude Code skill",
      "constitution compliance",
      "hardcoded secrets detector",
      "TODO placeholder blocker",
      "devflow documentation",
      "PreToolUse hook",
      "code quality guardrail",
      "security compliance",
      "Claude Codex skill",
      "Claude skill"
    ],
    "actual_capabilities": [
      "Detects TODO and FIXME placeholders in devflow documents",
      "Blocks hardcoded API keys, passwords, and secrets in code blocks",
      "Reports exact line numbers for each violation",
      "Supports skip conditions for legacy migrations",
      "Integrates with PreToolUse hook for real-time blocking",
      "Complements batch validation script for complete coverage"
    ],
    "limitations": [
      "Only checks devflow documents (PRD.md, EPIC.md, TASKS.md, TECH_DESIGN.md)",
      "Limited to Article I.1 and III.1 patterns (no other Constitution articles)",
      "Requires PreToolUse hook integration to enforce blocking",
      "Cannot validate code outside of document files"
    ],
    "use_cases": [
      {
        "target_user": "Development teams using CC-DevFlow",
        "title": "Enforce document quality rules",
        "description": "Prevent incomplete requirements and TODO comments from entering project documentation during editing."
      },
      {
        "target_user": "Security-conscious developers",
        "title": "Block accidental secret commits",
        "description": "Catch hardcoded credentials before they are saved to documents, reducing security risks."
      },
      {
        "target_user": "Project maintainers",
        "title": "Maintain documentation standards",
        "description": "Ensure all devflow artifacts meet quality gates through real-time enforcement at edit time."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic enforcement",
        "scenario": "When editing devflow documents",
        "prompt": "Use constitution-guardian to check my document for partial implementations and hardcoded secrets before saving."
      },
      {
        "title": "Review after writing",
        "scenario": "After completing a document section",
        "prompt": "Run constitution-guardian to verify my PRD.md has no TODOs, FIXMEs, or hardcoded credentials."
      },
      {
        "title": "Bulk migration",
        "scenario": "Importing legacy documentation",
        "prompt": "Temporarily skip constitution-guardian using SKIP_CONSTITUTION_CHECK=1 while migrating legacy docs, then review."
      },
      {
        "title": "Verify compliance",
        "scenario": "Before phase exit gate",
        "prompt": "Check my EPIC.md for partial implementations and run batch validation with validate-constitution.sh."
      }
    ],
    "output_examples": [
      {
        "input": "Edit a PRD.md file containing TODO placeholders and a hardcoded API key",
        "output": [
          "‚ö†Ô∏è BLOCKED - Constitution Violation",
          "Detected 2 violations:",
          "  [Line 42] TODO placeholder (Article I.1)",
          "    ‚Üí \"TODO later: Add email verification\"",
          "  [Line 58] Hardcoded API key (Article III.1)",
          "    ‚Üí \"API_KEY=sk-abc123def456\"",
          "üìã ACTION:",
          "1. Complete all TODOs/FIXMEs before saving",
          "2. Move secrets to environment variables",
          "3. Run /flow-verify for comprehensive check"
        ]
      }
    ],
    "best_practices": [
      "Complete all TODOs and FIXMEs before marking a section as done",
      "Use environment variables or secret managers for credentials, never hardcode them",
      "Run batch validation with validate-constitution.sh before phase exit gates"
    ],
    "anti_patterns": [
      "Leaving TODO placeholders with \"later\" or \"simplified for now\" comments",
      "Hardcoding API keys, passwords, or secrets in code blocks",
      "Skipping checks without proper review for legacy document migrations"
    ],
    "faq": [
      {
        "question": "Which files does constitution-guardian check?",
        "answer": "It checks devflow documents: PRD.md, EPIC.md, TASKS.md, TECH_DESIGN.md, contracts YAML files, and data-model.md."
      },
      {
        "question": "What patterns trigger a block?",
        "answer": "TODO/FIXME placeholders, simplified for now notes, defer to vX statements, and hardcoded secrets like API_KEY, PASSWORD, TOKEN."
      },
      {
        "question": "How do I skip checks for legacy documents?",
        "answer": "Add @constitution-verified comment to the file, set SKIP_CONSTITUTION_CHECK=1, or use session skip in skill-rules.json."
      },
      {
        "question": "Does this skill send data to external servers?",
        "answer:": "No. This is a local pattern-matching skill that runs entirely within your development environment."
      },
      {
        "question": "Why was my document blocked for something that looks harmless?",
        "answer": "The patterns detect partial implementations that violate the Complete Implementation Mandate. Replace TODOs with actual content."
      },
      {
        "question": "How does this differ from validate-constitution.sh?",
        "answer": "Guardian provides real-time blocking during editing (Articles I.1, III.1 only). Script provides batch validation of all 10 Articles at phase exit."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
