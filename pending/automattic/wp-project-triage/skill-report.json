{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T10:52:46.317Z",
    "slug": "automattic-wp-project-triage",
    "source_url": "https://github.com/Automattic/agent-skills/tree/trunk/skills/wp-project-triage",
    "source_ref": "trunk",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "814bb2b341765aaff28d1a4ef440cc8dd494ffcf186a1a005bfbcd466891670e",
    "tree_hash": "06c2aa649862beb9b9bfc21572c72cd6949ca70f43a151133c644f7f66ee6bdc"
  },
  "skill": {
    "name": "wp-project-triage",
    "description": "Use when you need a deterministic inspection of a WordPress repository (plugin/theme/block theme/WP core/Gutenberg/full site) including tooling/tests/version hints, and a structured JSON report to guide workflows and guardrails.",
    "summary": "Use when you need a deterministic inspection of a WordPress repository (plugin/theme/block theme/WP ...",
    "icon": "üîç",
    "version": "1.0.0",
    "author": "Automattic",
    "license": "MIT",
    "category": "development",
    "tags": [
      "wordpress",
      "wordpress-development",
      "project-detection",
      "wordpress-plugin",
      "wordpress-theme"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "filesystem"
    ]
  },
  "security_audit": {
    "risk_level": "low",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Read-only filesystem scanner for WordPress project detection. No network calls, no command execution, no credential access. The tool safely inspects repository structure to determine project type and available tooling.",
    "risk_factor_evidence": [
      {
        "factor": "filesystem",
        "evidence": [
          {
            "file": "scripts/detect_wp_project.mjs",
            "line_start": 1,
            "line_end": 593
          }
        ]
      }
    ],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 3,
    "total_lines": 593,
    "audit_model": "claude",
    "audited_at": "2026-01-10T10:52:46.317Z"
  },
  "content": {
    "user_title": "Detect WordPress Project Type",
    "value_statement": "A WordPress project inspection tool that identifies plugins, themes, block themes, and WP core from repository structure. Outputs a structured JSON report with recommended commands and available tooling.",
    "seo_keywords": [
      "WordPress project detection",
      "WordPress plugin detector",
      "WordPress theme scanner",
      "Claude WordPress",
      "Codex WordPress",
      "Claude Code WordPress",
      "block theme detection",
      "WP-CLI project triage",
      "WordPress tooling detector",
      "Gutenberg project analyzer"
    ],
    "actual_capabilities": [
      "Identifies WordPress project type (plugin, theme, block theme, core, Gutenberg)",
      "Detects PHP and Node.js tooling (Composer, npm, yarn, pnpm, bun)",
      "Finds test frameworks (PHPUnit, Jest, wp-env, Playwright)",
      "Scans for WordPress APIs (Interactivity, Abilities, InnerBlocks)",
      "Extracts version information from wp-includes/version.php",
      "Outputs structured JSON with commands and recommendations"
    ],
    "limitations": [
      "Only scans files, does not execute any commands",
      "Does not modify or write to the repository",
      "Requires the script to be run from the repository root",
      "Does not analyze WordPress database or runtime state"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Identify plugin type",
        "description": "Detect if a repository is a standard plugin, block plugin, or mu-plugin for correct workflow"
      },
      {
        "target_user": "Theme developers",
        "title": "Check theme setup",
        "description": "Identify block themes versus classic themes and find relevant build tooling"
      },
      {
        "target_user": "AI assistants",
        "title": "Configure WordPress tasks",
        "description": "Get structured project info to select appropriate lint, test, and build commands"
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic detection",
        "scenario": "What type of WordPress project is this",
        "prompt": "Run the WordPress project triage skill to detect what kind of project this repository contains. Report the project kind, primary type, and detected signals."
      },
      {
        "title": "Check tooling",
        "scenario": "Find available development tools",
        "prompt": "Use the WordPress project triage skill to identify what PHP and Node.js tooling is present. List the package manager, test frameworks, and build tools."
      },
      {
        "title": "Get commands",
        "scenario": "Run correct build commands",
        "prompt": "Run the WordPress project triage skill to get recommended commands for this project. Include lint, test, and build commands if detected."
      },
      {
        "title": "Full report",
        "scenario": "Complete project analysis",
        "prompt": "Run a full WordPress project triage analysis. Include project kind, all signals, tooling, versions, and recommendations in your response."
      }
    ],
    "output_examples": [
      {
        "input": "Run WordPress project triage on this repository",
        "output": [
          "Project type: wp-block-plugin (primary)",
          "Detected signals: block.json files, @wordpress/scripts package",
          "Tooling: npm, Composer, PHPUnit, Jest",
          "Tests: phpunit.xml present, @wordpress/jest-preset-default",
          "APIs: InnerBlocks detected, usesWordpressScripts enabled",
          "Recommended commands: npm run lint, npm run test, composer install, vendor/bin/phpunit"
        ]
      }
    ],
    "best_practices": [
      "Run the triage skill before starting any WordPress work to understand project structure",
      "Use the JSON output to programmatically select the correct lint and test commands",
      "Re-run triage after adding block.json, theme.json, or changing build configuration",
      "Check the recommendations notes for special setup requirements like wp-env"
    ],
    "anti_patterns": [
      "Running triage on non-WordPress repositories will return 'unknown' project type",
      "Do not assume wp-cli commands exist without checking usesWpCli signal",
      "Do not ignore the scanTruncated flag for large monorepos",
      "Do not rely solely on file extension for plugin/theme detection"
    ],
    "faq": [
      {
        "question": "Which WordPress project types can this skill detect?",
        "answer": "It detects plugins, mu-plugins, themes, block themes, block plugins, WP core checkouts, Gutenberg repos, and full WordPress sites."
      },
      {
        "question": "What is the maximum file count and depth for scanning?",
        "answer": "The scanner limits recursive search to 6000 files with a maximum depth of 8 directories. Large repos may trigger scanTruncated flag."
      },
      {
        "question": "Does this skill execute commands in my repository?",
        "answer": "No. This skill only reads files and outputs JSON. It does not run npm, composer, or any other commands."
      },
      {
        "question": "Is my project data safe when using this skill?",
        "answer": "Yes. The skill runs locally, makes no network calls, and only reads files within the repository. It does not transmit any data."
      },
      {
        "question": "What should I do if the project is detected as 'unknown'?",
        "answer": "Verify you are running from the repository root. Check for plugin headers in PHP files or theme headers in style.css. The skill notes may provide guidance."
      },
      {
        "question": "How is this different from wp-cli doctor or core command?",
        "answer": "This skill runs without requiring WordPress installation or database connection. It analyzes repository structure only, making it safe for AI use."
      }
    ]
  },
  "file_structure": [
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "triage.schema.json",
          "type": "file",
          "path": "references/triage.schema.json"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "detect_wp_project.mjs",
          "type": "file",
          "path": "scripts/detect_wp_project.mjs"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
