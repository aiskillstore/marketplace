{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T05:32:07.377Z",
    "slug": "mcp-builder",
    "source_url": "https://github.com/anthropics/skills/tree/main/skills/mcp-builder",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "trust_level": "official"
  },
  "skill": {
    "name": "mcp-builder",
    "description": "Guide for creating high-quality MCP (Model Context Protocol) servers that enable LLMs to interact with external services through well-designed tools. Use when building MCP servers to integrate external APIs or services, whether in Python (FastMCP) or Node/TypeScript (MCP SDK).",
    "summary": "Guide for creating high-quality MCP (Model Context Protocol) servers that enable LLMs to interact wi...",
    "icon": "ðŸ”§",
    "version": "1.0.0",
    "author": "Anthropic",
    "license": "Complete terms in LICENSE.txt",
    "category": "development",
    "tags": [
      "mcp",
      "api-integration",
      "llm-tools",
      "protocol",
      "sdk",
      "fastmcp",
      "typescript",
      "python",
      "server-development",
      "evaluation"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "scripts",
      "network",
      "env_access"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill containing comprehensive MCP server development guides, reference documentation, and evaluation scripts. No malicious code detected.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 10,
    "total_lines": 3532,
    "audit_model": "claude",
    "audited_at": "2025-12-31T05:32:07.376Z"
  },
  "content": {
    "user_title": "MCP Server Builder - Create Production-Ready API Integrations",
    "value_statement": "Build high-quality MCP servers that enable LLMs to interact with external services through well-designed tools, with comprehensive guides covering Python (FastMCP) and TypeScript implementations, evaluation frameworks, and best practices.",
    "seo_keywords": [
      "MCP server",
      "Model Context Protocol",
      "API integration",
      "FastMCP",
      "TypeScript SDK",
      "Python MCP",
      "LLM tools",
      "server development",
      "evaluation harness",
      "tool design"
    ],
    "actual_capabilities": [
      "Provides comprehensive 4-phase MCP server development workflow (research, implementation, review, evaluation)",
      "Includes complete reference guides for Python (FastMCP) and TypeScript (MCP SDK) implementations",
      "Contains detailed best practices for tool naming, pagination, error handling, and response formats",
      "Includes evaluation framework with XML-based test harness for validating MCP server quality",
      "Provides evaluation scripts supporting stdio, SSE, and HTTP transports",
      "Offers complete working examples with Pydantic/Zod validation patterns",
      "Covers authentication, input validation, async patterns, and type safety",
      "Includes quality checklists for both Python and TypeScript implementations",
      "Provides guidance on strategic tool design (API coverage vs workflow tools, context management)",
      "Contains MCP protocol specification references and transport mechanism documentation"
    ],
    "limitations": [
      "Requires external dependencies (Anthropic SDK, MCP SDK) to run evaluation scripts",
      "Evaluation harness requires API key for Claude models",
      "References external documentation URLs that may change over time",
      "Does not include pre-built MCP servers, only guides for building them",
      "Assumes familiarity with async programming patterns in Python or TypeScript"
    ],
    "use_cases": [
      {
        "title": "Build GitHub MCP Server",
        "description": "Create a comprehensive MCP server that integrates with GitHub's API, enabling LLMs to search repositories, create issues, manage pull requests, and access repository data through well-designed tools.",
        "target_user": "Backend developers integrating GitHub with LLM applications"
      },
      {
        "title": "Create Internal API Integration",
        "description": "Develop an MCP server that exposes internal company APIs to LLMs, with proper authentication, pagination, error handling, and comprehensive tool documentation for enterprise use cases.",
        "target_user": "Enterprise developers building internal LLM tools"
      },
      {
        "title": "Evaluate MCP Server Quality",
        "description": "Use the evaluation framework to test whether your MCP server enables LLMs to answer complex, realistic questions requiring multiple tool calls and deep exploration.",
        "target_user": "MCP server developers validating implementation quality"
      },
      {
        "title": "Migrate to Modern MCP Patterns",
        "description": "Refactor existing MCP servers to follow latest best practices including Zod/Pydantic validation, proper annotations, structured output schemas, and streamable HTTP transport.",
        "target_user": "Developers maintaining existing MCP servers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Build New MCP Server",
        "prompt": "I need to build an MCP server for [SERVICE_NAME] that provides [DESCRIBE_CAPABILITIES]. The API documentation is at [URL]. Please help me create a TypeScript/Python MCP server following the mcp-builder guide.",
        "scenario": "Starting a new MCP server implementation from scratch"
      },
      {
        "title": "Create Evaluation Suite",
        "prompt": "I've implemented an MCP server for [SERVICE] with tools for [LIST_TOOLS]. Help me create 10 evaluation questions following the evaluation guide that test realistic, complex workflows.",
        "scenario": "Validating MCP server quality with comprehensive evaluations"
      },
      {
        "title": "Review MCP Implementation",
        "prompt": "Review my MCP server implementation at [PATH/URL] against the mcp-builder quality checklist. Identify areas not following best practices for tool naming, error handling, pagination, and response formats.",
        "scenario": "Code review of existing MCP server against best practices"
      },
      {
        "title": "Debug Evaluation Failures",
        "prompt": "My MCP evaluation is failing on question '[QUESTION]'. The expected answer is '[ANSWER]' but the agent returns '[ACTUAL]'. Help me debug whether this is a tool design issue, description clarity problem, or evaluation question issue.",
        "scenario": "Troubleshooting evaluation failures"
      }
    ],
    "output_examples": [
      {
        "input": "Build a GitHub MCP server with issue management tools",
        "output": "Creates TypeScript project with tools like github_list_issues, github_create_issue, github_update_issue, each with Zod validation, proper annotations (readOnlyHint, destructiveHint), comprehensive descriptions, pagination support, and JSON/Markdown response formats"
      },
      {
        "input": "Create evaluations for Slack MCP server",
        "output": "Generates evaluation.xml with 10 complex questions like 'Find the user who sent the most messages in #engineering during Q1 2024. What is their display name?' with stable, verifiable answers requiring multiple tool calls"
      }
    ],
    "best_practices": [
      "Follow language-specific naming conventions: {service}_mcp for Python, {service}-mcp-server for TypeScript",
      "Include service prefix in tool names to avoid conflicts (slack_send_message not send_message)",
      "Support both JSON and Markdown response formats with response_format parameter",
      "Implement pagination with limit/offset parameters and return has_more, next_offset metadata",
      "Use Zod (TypeScript) or Pydantic (Python) for runtime input validation with clear constraints",
      "Provide comprehensive tool descriptions with explicit input/output schemas and examples",
      "Set proper tool annotations: readOnlyHint, destructiveHint, idempotentHint, openWorldHint",
      "Extract common functionality into reusable utilities to avoid code duplication",
      "Return actionable error messages that guide agents toward solutions",
      "Create evaluations with 10 independent, read-only, complex questions requiring multiple tool calls",
      "Prefer streamable HTTP transport for remote servers, stdio for local integrations",
      "Use structured output schemas (outputSchema, structuredContent) for better client integration"
    ],
    "anti_patterns": [
      "Using generic tool names without service prefix (conflicts with other MCP servers)",
      "Creating workflow-only tools without comprehensive API coverage (limits agent flexibility)",
      "Returning only Markdown format without JSON option (reduces programmatic processing)",
      "Missing pagination on list operations (overwhelming context with large results)",
      "Using 'any' type in TypeScript or skipping Pydantic validation in Python",
      "Writing vague tool descriptions without explicit input/output schemas",
      "Duplicating code across tools instead of extracting shared utilities",
      "Creating evaluation questions that rely on dynamic state (answers change over time)",
      "Using keyword-searchable evaluation questions (too easy, don't test deep exploration)",
      "Setting incorrect tool annotations (claiming readOnly when tool modifies state)"
    ],
    "faq": [
      {
        "question": "Should I create workflow tools or comprehensive API coverage?",
        "answer": "Balance both approaches. Prioritize comprehensive API coverage for agent flexibility, but add specialized workflow tools for common patterns. Performance varies by clientâ€”some benefit from code execution combining basic tools, others prefer higher-level workflows. When uncertain, prioritize comprehensive coverage."
      },
      {
        "question": "What's the difference between stdio and streamable HTTP transport?",
        "answer": "stdio is for local integrations running as subprocesses (single client, simple setup). Streamable HTTP is for remote servers serving multiple clients (web services, cloud deployments). Use stdio for development tools, streamable HTTP for production services."
      },
      {
        "question": "How do I create stable evaluation questions?",
        "answer": "Base questions on historical, completed data that won't change (e.g., 'messages sent in Q1 2024' not 'current open issues'). Avoid counting dynamic metrics like reactions or member counts. Use closed concepts and specific time windows to ensure answers remain constant."
      },
      {
        "question": "When should I use Resources vs Tools?",
        "answer": "Resources are for simple, URI-based data access with template parameters (e.g., file://documents/{name}). Tools are for complex operations requiring validation, business logic, or side effects. Use resources for relatively static data, tools for operations with complex workflows."
      },
      {
        "question": "How do I handle large API responses that exceed context limits?",
        "answer": "Implement pagination with limit parameter (default 20-50 items), add filtering options, implement CHARACTER_LIMIT constant (e.g., 25000) with truncation messages guiding users to use pagination or filters. Return metadata like total_count, has_more, next_offset."
      },
      {
        "question": "What makes a good tool description?",
        "answer": "Include: concise functionality summary, explicit parameter descriptions with types and examples, complete return value schema, usage examples showing when to use/not use the tool, error handling documentation, and tool annotations. Be specific about what the tool does and doesn't do."
      }
    ],
    "technical_requirements": {
      "dependencies": [
        "Python: mcp, pydantic, httpx, fastmcp",
        "TypeScript: @modelcontextprotocol/sdk, zod, axios, express",
        "Evaluation scripts: anthropic>=0.39.0, mcp>=1.1.0"
      ],
      "permissions": [
        "Environment variables for API authentication (e.g., GITHUB_TOKEN, ANTHROPIC_API_KEY)",
        "Network access for external API calls",
        "File system access for reading/writing evaluation XML files"
      ],
      "complexity": "intermediate"
    }
  },
  "file_structure": [
    {
      "name": "reference",
      "type": "dir",
      "path": "reference",
      "children": [
        {
          "name": "evaluation.md",
          "type": "file",
          "path": "reference/evaluation.md"
        },
        {
          "name": "mcp_best_practices.md",
          "type": "file",
          "path": "reference/mcp_best_practices.md"
        },
        {
          "name": "node_mcp_server.md",
          "type": "file",
          "path": "reference/node_mcp_server.md"
        },
        {
          "name": "python_mcp_server.md",
          "type": "file",
          "path": "reference/python_mcp_server.md"
        }
      ]
    },
    {
      "name": "scripts",
      "type": "dir",
      "path": "scripts",
      "children": [
        {
          "name": "connections.py",
          "type": "file",
          "path": "scripts/connections.py"
        },
        {
          "name": "evaluation.py",
          "type": "file",
          "path": "scripts/evaluation.py"
        },
        {
          "name": "example_evaluation.xml",
          "type": "file",
          "path": "scripts/example_evaluation.xml"
        },
        {
          "name": "requirements.txt",
          "type": "file",
          "path": "scripts/requirements.txt"
        }
      ]
    },
    {
      "name": "LICENSE.txt",
      "type": "file",
      "path": "LICENSE.txt"
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}