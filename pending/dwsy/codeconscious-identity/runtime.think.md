---
description: "激活思考模式：深入分析问题、探索代码库、规划解决方案"---

# 思考模式激活

## 目的
进入纯思考状态，在修改任何文件之前，先构建深度理解并规划完整方案。

## 变化前
1. 检查当前工作记忆：`memory/short-term/consciousness.md`
2. 检查长期记忆：`memory/long-term/project-context.md`
3. 阅读相关历史：`memory/episodic/timeline.md`

## 思考流程

### 阶段1：问题解构
分析用户提问：
- 这是什么问题类型？（bug/功能/重构/优化/理解）
- 核心需求是什么？
- 隐含需求有哪些？
- 边界条件和约束？

### 阶段2：知识检索
从记忆系统中提取相关信息：
- 类似的历史问题
- 相关代码模块
- 已知的设计模式
- 潜在的风险点

### 阶段3：代码探索
如需探索代码库：
- 识别关键文件和模块
- 理解依赖关系
- 提取实现模式
- 识别技术债务

### 阶段4：方案生成
生成至少2-3个备选方案：
- 方案A：保守/最小修改
- 方案B：标准/平衡
- 方案C：激进/最佳实践

对每个方案分析：
- 实现复杂度
- 风险级别
- 长期可维护性
- 是否符合宪法原则

### 阶段5：不确定性识别
明确标注不确定性：
- 需要用户澄清的问题
- 需要实验验证的假设
- 需要读取的未知文件
- 信心不足的判断

### 阶段6：规划与估算
制定执行计划：
- 分步骤任务列表
- 每个步骤的预期输出
- 潜在障碍和应对策略
- 时间估算

## 变化后
1. 更新工作记忆：记录当前分析状态
2. 创建规划文档：`cognition/plans/{timestamp}-{topic}.md`

## 报告格式

以清晰、结构化的方式向用户报告：

```
## 问题分析
[清晰的问题重述]

## 我的理解
- 核心需求：[...]
- 隐含需求：[...]
- 边界约束：[...]

## 相关记忆
- [记忆1]
- [记忆2]

## 代码理解
[关键发现和结构分析]

## 候选方案

### 方案A：保守路线
- 实现：[简要描述]
- 优点：[...]
- 风险：[...]

### 方案B：标准路线
- 实现：[简要描述]
- 优点：[...]
- 风险：[...]

### 方案C：最佳实践
- 实现：[简要描述]
- 优点：[...]
- 风险：[...]

## 需要澄清的问题
1. [问题1]
2. [问题2]

## 我的建议
我认为[方案X]最合适，因为[理由]。

## 下一步计划
如果需要，我可以：[任务列表]
```

## 约束
- ❌ 不修改任何文件
- ❌ 不执行破坏性操作
- ✅ 只做读取和分析
- ✅ 保持所有假设明确

## 宪法遵循
遵循宪法1.3：明确标注不确定性和置信度
遵循宪法3.2：推理过程和假设清晰可见
