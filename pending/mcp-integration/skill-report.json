{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-09T14:58:51.038Z",
    "slug": "mcp-integration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/mcp-integration",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "official",
    "content_hash": "462ca4e0d091de348d548cf274d5ff9efadbce929b7de9a9fe71f3f74b6d4297",
    "tree_hash": "8240bcf7248c78e3fbbae376e55fbf642eb9309d5cbc6eb63509546668344e43"
  },
  "skill": {
    "name": "MCP Integration",
    "description": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in plugin\", \"use .mcp.json\", \"set up Model Context Protocol\", \"connect external service\", mentions \"${CLAUDE_PLUGIN_ROOT} with MCP\", or discusses MCP server types (SSE, stdio, HTTP, WebSocket). Provides comprehensive guidance for integrating Model Context Protocol servers into Claude Code plugins for external tool and service integration.",
    "summary": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "anthropics",
    "license": "MIT",
    "category": "coding",
    "tags": [
      "plugins",
      "integration",
      "api",
      "external-services",
      "mcp"
    ],
    "supported_tools": [
      "claude",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official Anthropic skill from github.com/anthropics/claude-code repository. Contains documentation and configuration examples only. No executable code that poses security risks.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2242,
    "audit_model": "claude",
    "audited_at": "2026-01-09T14:58:51.037Z"
  },
  "content": {
    "user_title": "Add MCP servers to Claude Code plugins",
    "value_statement": "External services and APIs cannot be directly accessed by Claude Code plugins. Model Context Protocol enables structured integration with databases, cloud services, and custom tools. Connect MCP servers to expose external capabilities as Claude Code tools.",
    "seo_keywords": [
      "Model Context Protocol",
      "MCP",
      "Claude Code",
      "plugin integration",
      "external tools",
      "API integration",
      "database tools",
      "server configuration",
      "stdio",
      "SSE"
    ],
    "actual_capabilities": [
      "Configure MCP servers using .mcp.json or plugin.json files",
      "Connect to databases (PostgreSQL, MySQL, SQLite) via MCP",
      "Integrate with cloud services (GitHub, Asana) using SSE transport",
      "Build custom MCP servers with stdio transport for local tools",
      "Handle OAuth and token-based authentication for secure access",
      "Expose 10+ external tools from a single MCP server"
    ],
    "limitations": [
      "MCP servers must be configured in plugin files before use",
      "Local stdio servers require executable scripts or commands",
      "Network servers require HTTPS endpoints for secure connections",
      "Custom authentication methods (mTLS, JWT) need helper scripts"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developers",
        "title": "Build plugins with external service access",
        "description": "Create plugins that connect to databases, APIs, and cloud services using MCP configuration"
      },
      {
        "target_user": "DevOps engineers",
        "title": "Integrate infrastructure tools",
        "description": "Connect to cloud providers, CI/CD systems, and monitoring tools through MCP servers"
      },
      {
        "target_user": "Data engineers",
        "title": "Query databases from Claude Code",
        "description": "Run SQL queries and manage database operations using MCP database servers"
      }
    ],
    "prompt_templates": [
      {
        "title": "Add local MCP server",
        "scenario": "Configure local file system access",
        "prompt": "Add an MCP stdio server to my plugin that provides file system access using npx @modelcontextprotocol/server-filesystem for paths in ${CLAUDE_PROJECT_DIR}"
      },
      {
        "title": "Configure cloud MCP server",
        "scenario": "Connect to Asana or GitHub",
        "prompt": "Configure an MCP SSE server for Asana integration with OAuth authentication. Show the .mcp.json configuration and explain the OAuth flow"
      },
      {
        "title": "Build custom tools server",
        "scenario": "Create custom MCP server",
        "prompt": "Create a custom MCP stdio server that exposes my Python script functions as Claude Code tools. Include environment variable configuration"
      },
      {
        "title": "Secure cloud integration",
        "scenario": "Production API connections",
        "prompt": "Set up secure HTTP MCP server connection to a production API with Bearer token authentication. Include environment variable best practices and error handling"
      }
    ],
    "output_examples": [
      {
        "input": "Add MCP server for database access",
        "output": [
          "Database MCP server configured in .mcp.json",
          "Connection uses environment variables for credentials",
          "Tools available: query, execute, list_tables, describe",
          "Server connects on first tool use (lazy loading)"
        ]
      }
    ],
    "best_practices": [
      "Always use environment variables for tokens and API keys, never hardcode credentials in configuration files",
      "Use HTTPS or WSS for all network connections to protect data in transit",
      "Pre-allow only necessary MCP tools in commands using specific names instead of wildcards"
    ],
    "anti_patterns": [
      "Hardcoding API tokens or credentials in .mcp.json or plugin.json files",
      "Using HTTP instead of HTTPS for MCP server connections",
      "Using wildcard tool permissions like mcp__plugin_*__* which grants excessive access"
    ],
    "faq": [
      {
        "question": "What MCP server types are supported?",
        "answer": "Four types: stdio for local processes, SSE for cloud services with OAuth, HTTP for REST APIs, and WebSocket for real-time streaming."
      },
      {
        "question": "How many MCP servers can a plugin have?",
        "answer": "Plugins can configure multiple MCP servers in .mcp.json. Each server adds its tools with unique prefixes."
      },
      {
        "question": "How do I authenticate to MCP servers?",
        "answer": "SSE servers use automatic OAuth. HTTP and WebSocket servers use token headers. Stdio servers pass credentials via environment variables."
      },
      {
        "question": "Are MCP credentials stored securely?",
        "answer": "OAuth tokens are encrypted and managed by Claude Code. API tokens must use environment variables never stored in plugin files."
      },
      {
        "question": "Why are my MCP tools not showing up?",
        "answer": "Check server configuration is valid JSON. Use /mcp command to verify connection. Restart Claude Code after config changes."
      },
      {
        "question": "How does MCP differ from direct API calls?",
        "answer": "MCP provides structured tool discovery, automatic schema handling, and standardized communication protocol. MCP tools appear as native Claude Code tools."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "http-server.json",
          "type": "file",
          "path": "examples/http-server.json"
        },
        {
          "name": "sse-server.json",
          "type": "file",
          "path": "examples/sse-server.json"
        },
        {
          "name": "stdio-server.json",
          "type": "file",
          "path": "examples/stdio-server.json"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "authentication.md",
          "type": "file",
          "path": "references/authentication.md"
        },
        {
          "name": "server-types.md",
          "type": "file",
          "path": "references/server-types.md"
        },
        {
          "name": "tool-usage.md",
          "type": "file",
          "path": "references/tool-usage.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
