{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2025-12-31T07:18:50.441Z",
    "slug": "mcp-integration",
    "source_url": "https://github.com/anthropics/claude-code/tree/main/plugins/plugin-dev/skills/mcp-integration",
    "source_ref": "main",
    "model": "codex",
    "analysis_version": "2.0.0",
    "source_type": "official"
  },
  "skill": {
    "name": "MCP Integration",
    "description": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in plugin\", \"use .mcp.json\", \"set up Model Context Protocol\", \"connect external service\", mentions \"${CLAUDE_PLUGIN_ROOT} with MCP\", or discusses MCP server types (SSE, stdio, HTTP, WebSocket). Provides comprehensive guidance for integrating Model Context Protocol servers into Claude Code plugins for external tool and service integration.",
    "summary": "This skill should be used when the user asks to \"add MCP server\", \"integrate MCP\", \"configure MCP in...",
    "icon": "ðŸ”Œ",
    "version": "0.1.0",
    "author": "unknown",
    "license": "unknown",
    "category": "coding",
    "tags": [
      "mcp",
      "plugins",
      "integration",
      "authentication"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": [
      "network"
    ]
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "Official skill from an Anthropic source. Minimal audit performed as required. No security issues detected in the scanned files.",
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 7,
    "total_lines": 2242,
    "audit_model": "codex",
    "audited_at": "2025-12-31T07:18:50.441Z"
  },
  "content": {
    "user_title": "Configure MCP servers for Claude Code plugins",
    "value_statement": "You need a clear, secure way to connect external services to your plugin. This skill provides proven MCP configuration, auth, and tooling patterns.",
    "seo_keywords": [
      "MCP integration",
      "Model Context Protocol",
      "Claude",
      "Codex",
      "Claude Code",
      "plugin development",
      "MCP server types",
      "OAuth setup",
      "stdio MCP",
      "SSE MCP"
    ],
    "actual_capabilities": [
      "Explain when to use .mcp.json versus plugin.json mcpServers",
      "Describe stdio, SSE, HTTP, and WebSocket server configuration fields",
      "Guide authentication with OAuth, tokens, and environment variables",
      "Document MCP tool naming and allowed-tools usage for commands",
      "Provide testing and debugging steps with /mcp and claude --debug"
    ],
    "limitations": [
      "Does not create or run MCP servers for you",
      "Does not validate real network connectivity or OAuth scopes",
      "Requires you to supply environment variables and credentials"
    ],
    "use_cases": [
      {
        "target_user": "Plugin developer",
        "title": "Add external tools",
        "description": "Set up MCP servers and expose tools for a new Claude Code plugin."
      },
      {
        "target_user": "Platform engineer",
        "title": "Standardize auth setup",
        "description": "Document OAuth and token patterns for consistent enterprise plugin setup."
      },
      {
        "target_user": "QA engineer",
        "title": "Verify MCP behavior",
        "description": "Build a checklist to test tool discovery, auth flows, and errors."
      }
    ],
    "prompt_templates": [
      {
        "title": "Basic stdio setup",
        "scenario": "Local tools bundled with a plugin",
        "prompt": "Show a minimal .mcp.json for a stdio server using ${CLAUDE_PLUGIN_ROOT} and required env vars."
      },
      {
        "title": "Hosted SSE service",
        "scenario": "Cloud MCP server with OAuth",
        "prompt": "Provide an SSE MCP configuration and list the OAuth setup steps I must document."
      },
      {
        "title": "HTTP token auth",
        "scenario": "REST MCP server with headers",
        "prompt": "Create an HTTP MCP config using API_TOKEN and describe how to document token requirements."
      },
      {
        "title": "Multi-server plugin",
        "scenario": "One plugin integrates multiple services",
        "prompt": "Design a multi-server MCP configuration and explain allowed-tools scoping for two commands."
      }
    ],
    "output_examples": [
      {
        "input": "Help me choose a server type and config file for a GitHub MCP integration.",
        "output": [
          "- Recommend SSE for hosted GitHub with OAuth",
          "- Use .mcp.json for clear separation and multiple servers",
          "- Add URL and no extra headers unless required",
          "- Test with /mcp and verify tool names"
        ]
      }
    ],
    "best_practices": [
      "Use HTTPS or WSS and environment variables for secrets",
      "Pre-allow only specific MCP tools in command frontmatter",
      "Test tool discovery and auth flows before publishing"
    ],
    "anti_patterns": [
      "Hardcoding tokens or secrets in MCP configuration",
      "Using wildcard allowed-tools for all server tools",
      "Relying on HTTP or WS instead of secure transport"
    ],
    "faq": [
      {
        "question": "Is this compatible with Claude Code and Codex plugins?",
        "answer": "Yes. It targets Claude Code plugin MCP setup and also applies to Codex plugin workflows."
      },
      {
        "question": "What limits should I expect?",
        "answer": "You must supply valid server URLs, credentials, and scopes. The skill cannot validate live connectivity."
      },
      {
        "question": "How do I integrate a new MCP server?",
        "answer": "Choose a server type, add .mcp.json or mcpServers, and document required environment variables."
      },
      {
        "question": "How is data safety handled?",
        "answer": "Use HTTPS or WSS, avoid hardcoded secrets, and rely on OAuth or environment variables."
      },
      {
        "question": "What if tools do not appear in /mcp?",
        "answer": "Check configuration syntax, restart Claude Code, and review claude --debug logs."
      },
      {
        "question": "How does this compare to manual API calls?",
        "answer": "MCP provides structured tools, standardized auth flows, and tool discovery for safer integrations."
      }
    ]
  },
  "file_structure": [
    {
      "name": "examples",
      "type": "dir",
      "path": "examples",
      "children": [
        {
          "name": "http-server.json",
          "type": "file",
          "path": "examples/http-server.json"
        },
        {
          "name": "sse-server.json",
          "type": "file",
          "path": "examples/sse-server.json"
        },
        {
          "name": "stdio-server.json",
          "type": "file",
          "path": "examples/stdio-server.json"
        }
      ]
    },
    {
      "name": "references",
      "type": "dir",
      "path": "references",
      "children": [
        {
          "name": "authentication.md",
          "type": "file",
          "path": "references/authentication.md"
        },
        {
          "name": "server-types.md",
          "type": "file",
          "path": "references/server-types.md"
        },
        {
          "name": "tool-usage.md",
          "type": "file",
          "path": "references/tool-usage.md"
        }
      ]
    },
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}