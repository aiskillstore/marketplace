{
  "schema_version": "2.0",
  "meta": {
    "generated_at": "2026-01-10T09:57:35.611Z",
    "slug": "adamfehse-database-manager",
    "source_url": "https://github.com/AdamFehse/cookmodeV2/tree/main/.claude/skills/database-manager",
    "source_ref": "main",
    "model": "claude",
    "analysis_version": "2.0.0",
    "source_type": "community",
    "content_hash": "f5a05e33772a09e5d25e73c1f173b3c66c6a8beb35ec13b33cbd584573ada6f0",
    "tree_hash": "0a2ef136d967faa60bf1711e977f84cc37ea21caf5be152b23b0773d34651984"
  },
  "skill": {
    "name": "Database Manager",
    "description": "Manages Supabase database schema, migrations, and queries for CookMode V2. Use this when the user needs to create/modify tables, write migrations, update RLS policies, or troubleshoot database issues.",
    "summary": "Manages Supabase database schema, migrations, and queries for CookMode V2. Use this when the user ne...",
    "icon": "üóÑÔ∏è",
    "version": "1.0.0",
    "author": "AdamFehse",
    "license": "MIT",
    "category": "data",
    "tags": [
      "supabase",
      "postgresql",
      "database",
      "schema",
      "migrations"
    ],
    "supported_tools": [
      "claude",
      "codex",
      "claude-code"
    ],
    "risk_factors": []
  },
  "security_audit": {
    "risk_level": "safe",
    "is_blocked": false,
    "safe_to_publish": true,
    "summary": "This is a pure prompt-based documentation skill with no executable code. It provides guidance for Supabase database operations through SQL templates and best practices. No scripts, network calls, file system access beyond its own directory, or external command execution.",
    "risk_factor_evidence": [],
    "critical_findings": [],
    "high_findings": [],
    "medium_findings": [],
    "low_findings": [],
    "dangerous_patterns": [],
    "files_scanned": 1,
    "total_lines": 324,
    "audit_model": "claude",
    "audited_at": "2026-01-10T09:57:35.611Z"
  },
  "content": {
    "user_title": "Manage Supabase Database Schema and Migrations",
    "value_statement": "Database management requires deep knowledge of SQL patterns and Supabase features. This skill provides expert guidance for creating tables, writing migrations, configuring RLS policies, and troubleshooting database issues with confidence.",
    "seo_keywords": [
      "Supabase database management",
      "PostgreSQL schema design",
      "database migrations",
      "RLS policies",
      "CookMode V2 database",
      "Claude database skill",
      "Codex database management",
      "Claude Code database skill",
      "Supabase troubleshooting",
      "SQL templates"
    ],
    "actual_capabilities": [
      "Create and modify database tables with proper constraints",
      "Write SQL migrations following best practices",
      "Configure Row Level Security policies",
      "Debug database errors and performance issues",
      "Optimize queries with proper indexing",
      "Implement real-time data synchronization"
    ],
    "limitations": [
      "Provides guidance only - does not execute SQL directly",
      "Does not access or modify your actual Supabase instance",
      "Does not handle database credentials or authentication",
      "Requires Supabase project already configured"
    ],
    "use_cases": [
      {
        "target_user": "Full-stack developers",
        "title": "Schema Design and Migration",
        "description": "Design new tables, write safe migrations, and manage schema evolution for Supabase projects."
      },
      {
        "target_user": "Backend engineers",
        "title": "RLS Policy Configuration",
        "description": "Configure Row Level Security policies for data protection and multi-tenant access control."
      },
      {
        "target_user": "DevOps engineers",
        "title": "Database Troubleshooting",
        "description": "Diagnose database issues, optimize slow queries, and fix constraint violations."
      }
    ],
    "prompt_templates": [
      {
        "title": "Create New Table",
        "scenario": "Add a tracking table",
        "prompt": "Create a migration to add a new table for tracking recipe cooking times with columns for recipe_slug, start_time, end_time, and notes."
      },
      {
        "title": "Add RLS Policy",
        "scenario": "Secure data access",
        "prompt": "Write SQL to add RLS policies so users can only read their own recipe data but admins can access everything."
      },
      {
        "title": "Optimize Query",
        "scenario": "Fix slow query",
        "prompt": "Review this query and suggest indexes to improve performance: SELECT * FROM ingredient_checks WHERE recipe_slug = ?"
      },
      {
        "title": "Debug Issue",
        "scenario": "Data not syncing",
        "prompt": "My real-time updates stopped working. What could be causing this and how do I check the configuration?"
      }
    ],
    "output_examples": [
      {
        "input": "Create a migration to add a user preferences table for recipes.",
        "output": [
          "Creating table with primary key, recipe reference, and timestamp fields",
          "Adding index on user_id for fast lookups",
          "Enabling RLS with a policy for user-owned data access",
          "Include rollback steps for safe reversal"
        ]
      }
    ],
    "best_practices": [
      "Always include rollback steps in migrations for safe reversal",
      "Test migrations locally before applying to production databases",
      "Use proper indexing on frequently filtered columns like recipe_slug",
      "Document schema changes in your project alongside the migration"
    ],
    "anti_patterns": [
      "Dropping tables without backup or rollback plan",
      "Modifying columns without understanding dependent objects",
      "Skipping RLS policies even in trusted environments",
      "Writing migrations without proper transaction handling"
    ],
    "faq": [
      {
        "question": "Does this skill connect to my Supabase instance?",
        "answer": "No. This skill provides SQL templates and guidance. You apply the generated SQL to your database using the Supabase dashboard, CLI, or client SDK."
      },
      {
        "question": "What Supabase features are supported?",
        "answer": "Full support for PostgreSQL tables, RLS policies, migrations, indexes, real-time subscriptions, and the Supabase JavaScript client."
      },
      {
        "question": "Can I use this with other PostgreSQL databases?",
        "answer": "Yes. Most SQL patterns work on any PostgreSQL database. Supabase-specific features like RLS and real-time are clearly marked."
      },
      {
        "question": "Is my data safe when using this skill?",
        "answer": "Yes. This skill only generates SQL guidance locally. No data leaves your machine. Always review generated SQL before applying."
      },
      {
        "question": "How do I troubleshoot failed migrations?",
        "answer": "Check the error message from Supabase, verify syntax matches your PostgreSQL version, and ensure you have proper permissions. Rollback steps are in the migration comments."
      },
      {
        "question": "How is this different from Supabase CLI?",
        "answer": "This skill provides expert guidance and SQL patterns. The CLI executes migrations and manages projects. Use both together for best results."
      }
    ]
  },
  "file_structure": [
    {
      "name": "SKILL.md",
      "type": "file",
      "path": "SKILL.md"
    }
  ]
}
